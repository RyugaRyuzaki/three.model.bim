{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,IAAMM,GAAG,GAAG,SAANA,GAAM,GAAM;EACjB,oBACC,uIACC,2DAAC,iDAAD;IAAU,KAAK,EAAEJ,+CAAKA;EAAtB,gBACC,2DAAC,wEAAD;IAAa,OAAO,EAAE,IAAtB;IAA4B,SAAS,EAAEC,mDAASA;EAAhD,gBACC,2DAAC,0DAAD,OADD,CADD,CADD,CADD;AASA,CAVD;;AAYA,iEAAeG,GAAf;;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAMS,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EAC7B,kBAA0FR,iDAAU,CAACI,qDAAD,CAApG;EAAA,IAAQK,SAAR,eAAQA,SAAR;EAAA,IAAmBC,sBAAnB,eAAmBA,sBAAnB;EAAA,IAA2CC,oBAA3C,eAA2CA,oBAA3C;EAAA,IAAiEC,oBAAjE,eAAiEA,oBAAjE;;EACA,IAAMC,SAAS,GAAG,QAAlB;EACA,IAAMC,yBAAyB,GAAGZ,6CAAM,CAAC,IAAD,CAAxC;EACA,IAAMa,kBAAkB,GAAGb,6CAAM,CAAC,IAAD,CAAjC;EACA,IAAMc,kBAAkB,GAAGd,6CAAM,CAAC,IAAD,CAAjC;EACAD,gDAAS,CAAC,YAAM;IACfc,kBAAkB,CAACE,OAAnB,CAA2BC,QAA3B,GAAsCT,SAAS,CAACU,MAAV,IAAoB,CAA1D;IACAH,kBAAkB,CAACC,OAAnB,CAA2BC,QAA3B,GAAsCT,SAAS,CAACU,MAAV,IAAoB,CAA1D;EACA,CAHQ,EAGN,CAACV,SAAD,CAHM,CAAT;EAIA,oBACC,uIACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC,2DAAC,2DAAD;IACC,KAAK,EAAC,eADP;IAEC,WAAW,EAAEC,sBAFd;IAGC,MAAM,EAAEI,yBAHT;IAIC,SAAS,EAAED;EAJZ,gBAME;IAAK,GAAG,EAAEN,oEAAV;IAAgC,GAAG,EAAC;EAApC,EANF,CADD,CADD,eAYC;IAAK,SAAS,EAAC;EAAf,gBACC,2DAAC,2DAAD;IACC,KAAK,EAAC,aADP;IAEC,WAAW,EAAEI,oBAFd;IAGC,MAAM,EAAEI,kBAHT;IAIC,SAAS,EAAEF;EAJZ,gBAME;IAAK,GAAG,EAAEN,+DAAV;IAA2B,GAAG,EAAC;EAA/B,EANF,CADD,CAZD,eAsBC;IAAK,SAAS,EAAC;EAAf,gBACC,2DAAC,2DAAD;IACC,KAAK,EAAC,aADP;IAEC,WAAW,EAAEK,oBAFd;IAGC,MAAM,EAAEI,kBAHT;IAIC,SAAS,EAAEH;EAJZ,gBAME;IAAK,GAAG,EAAEN,+DAAV;IAA2B,GAAG,EAAC;EAA/B,EANF,CADD,CAtBD,CADD,eAkCC,2DAAC,qDAAD,OAlCD,CADD;AAsCA,CAhDD;;AAkDA,iEAAeC,eAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;AACA;;AAEA,IAAMF,YAAY,GAAG,SAAfA,YAAe,GAAM;EAC1B,kBAA8DN,iDAAU,CAACI,qDAAD,CAAxE;EAAA,IAAQmB,YAAR,eAAQA,YAAR;EAAA,IAAsBC,gBAAtB,eAAsBA,gBAAtB;EAAA,IAAwCC,iBAAxC,eAAwCA,iBAAxC;;EACA,gBAA4CtB,+CAAQ,CAAC,IAAD,CAApD;EAAA;EAAA,IAAOuB,cAAP;EAAA,IAAuBC,iBAAvB;;EACA,IAAMC,OAAO,GAAG1B,6CAAM,CAAC,IAAD,CAAtB;;EACA,IAAM2B,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,CAAD,EAAO;IACnC,IAAIC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,MAAtB,CAAX;IACA,IAAI,CAACF,IAAL,EAAW;IACXJ,iBAAiB,CAACJ,YAAY,CAACW,IAAb,CAAkB,UAACC,CAAD;MAAA,OAAOA,CAAC,CAACf,QAAF,CAAWW,IAAX,KAAoBA,IAA3B;IAAA,CAAlB,CAAD,CAAjB;EACA,CAJD;;EAKA9B,gDAAS,CAAC,YAAM;IACf,IAAIyB,cAAJ,EAAoB,CACnB;;IACDE,OAAO,CAACX,OAAR,CAAgBmB,UAAhB,CAA2BC,OAA3B,CAAmC,UAACC,CAAD,EAAO;MACzC,IAAIA,CAAC,CAACC,SAAF,KAAgB,SAApB,EAA+B;QAC9B,IAAIb,cAAJ,EAAoB;UACnB,IAAIY,CAAC,CAACL,YAAF,CAAe,MAAf,MAA2BP,cAAc,CAACN,QAAf,CAAwBW,IAAvD,EAA6D;YAC5DO,CAAC,CAACE,SAAF,CAAYC,GAAZ,CAAgB,iBAAhB;UACA,CAFD,MAEO;YACNH,CAAC,CAACE,SAAF,CAAYE,MAAZ,CAAmB,iBAAnB;UACA;QACD,CAND,MAMO;UACNJ,CAAC,CAACE,SAAF,CAAYE,MAAZ,CAAmB,iBAAnB;QACA;MACD;IACD,CAZD;EAaA,CAhBQ,EAgBN,CAAChB,cAAD,CAhBM,CAAT;EAkBA,oBACC;IAAK,SAAS,EAAEF,gBAAgB,GAAG,oCAAH,GAA0C;EAA1E,gBACC;IAAO,SAAS,EAAC;EAAjB,gBACC,uFACC,oFACC;IAAI,OAAO,EAAE;EAAb,mBADD,CADD,eAIC,oFACC,8EADD,eAEC,+EAFD,eAGC,+EAHD,CAJD,CADD,eAWC;IAAO,GAAG,EAAEI;EAAZ,GACEL,YAAY,CAACoB,GAAb,CAAiB,UAACC,GAAD,EAAS;IAC1B,oBACC;MAAI,GAAG,EAAEA,GAAG,CAACxB,QAAJ,CAAaW,IAAtB;MAA4B,OAAO,EAAEF,oBAArC;MAA2D,IAAI,EAAEe,GAAG,CAACxB,QAAJ,CAAaW;IAA9E,gBACC;MAAI,IAAI,EAAEa,GAAG,CAACxB,QAAJ,CAAaW;IAAvB,gBACC;MACC,IAAI,EAAEa,GAAG,CAACxB,QAAJ,CAAaW,IADpB;MAEC,IAAI,EAAC,MAFN;MAGC,SAAS,EAAC,cAHX;MAIC,YAAY,EAAEa,GAAG,CAACC,IAJnB;MAKC,QAAQ,EAAE,kBAACf,CAAD;QAAA,OAAOc,GAAG,CAACE,YAAJ,CAAiBhB,CAAC,CAACE,MAAF,CAASe,KAA1B,CAAP;MAAA;IALX,EADD,CADD,eAUC;MAAI,IAAI,EAAEH,GAAG,CAACxB,QAAJ,CAAaW;IAAvB,gBACC;MACC,IAAI,EAAEa,GAAG,CAACxB,QAAJ,CAAaW,IADpB;MAEC,IAAI,EAAC,OAFN;MAGC,SAAS,EAAC,cAHX;MAIC,YAAY,EAAEa,GAAG,CAACI,QAAJ,EAJf;MAKC,QAAQ,EAAE,kBAAClB,CAAD;QAAA,OAAOc,GAAG,CAACK,aAAJ,CAAkBnB,CAAC,CAACE,MAAF,CAASe,KAA3B,CAAP;MAAA;IALX,EADD,CAVD,eAmBC;MAAI,IAAI,EAAEH,GAAG,CAACxB,QAAJ,CAAaW;IAAvB,gBACC;MACC,IAAI,EAAEa,GAAG,CAACxB,QAAJ,CAAaW,IADpB;MAEC,IAAI,EAAC,QAFN;MAGC,SAAS,EAAC,cAHX;MAIC,GAAG,EAAC,GAJL;MAKC,GAAG,EAAC,KALL;MAMC,YAAY,EAAEa,GAAG,CAACM,KANnB;MAOC,QAAQ,EAAE,kBAACpB,CAAD;QAAA,OAAOc,GAAG,CAACO,aAAJ,CAAkBrB,CAAC,CAACE,MAAF,CAASe,KAA3B,CAAP;MAAA;IAPX,EADD,CAnBD,CADD;EAiCA,CAlCA,CADF,eAoCC;IAAI,SAAS,EAAC;EAAd,gBACC;IAAI,OAAO,EAAE;EAAb,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAQ,SAAS,EAAC,iBAAlB;IAAoC,OAAO,EAAEtB;EAA7C,kBADD,eAIC;IAAQ,SAAS,EAAC,iBAAlB;IAAoC,OAAO,EAAEA;EAA7C,qBAJD,CADD,CADD,CApCD,CAXD,CADD,CADD;AAiEA,CA5FD;;AA8FA,iEAAenB,YAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjGA;AACA;;AAEA,IAAM+C,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAW;EAC1B,IAAQC,IAAR,GAAiBD,KAAjB,CAAQC,IAAR;;EACA,gBAAkCpD,+CAAQ,CAACoD,IAAI,CAACpB,CAAN,CAA1C;EAAA;EAAA,IAAOqB,SAAP;EAAA,IAAkBC,YAAlB;;EACA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC5B,CAAD,EAAO;IAC/B2B,YAAY,CAAC3B,CAAC,CAACE,MAAF,CAASe,KAAV,CAAZ;IACAQ,IAAI,CAACI,QAAL,CAAc7B,CAAC,CAACE,MAAF,CAASe,KAAvB;EACA,CAHD;;EAIA,oBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC;EAAf,UADD,eAEC;IACC,SAAS,EAAC,aADX;IAEC,KAAK,EAAE;MAAEa,KAAK,EAAE;IAAT,CAFR;IAGC,KAAK,EAAEJ,SAHR;IAIC,QAAQ,EAAEE;EAJX,gBAMC;IAAQ,KAAK,EAAEH,IAAI,CAACpB;EAApB,GAAwBoB,IAAI,CAACpB,CAA7B,CAND,eAOC;IAAQ,KAAK,EAAEoB,IAAI,CAACM;EAApB,GAAyBN,IAAI,CAACM,EAA9B,CAPD,CAFD,CADD,eAaC;IAAG,SAAS,EAAC,KAAb;IAAmB,IAAI,EAAC;EAAxB,gBACC,2DAAC,2EAAD;IAAiB,IAAI,EAAC,eAAtB;IAAsC,IAAI,EAAC;EAA3C,EADD,CAbD,eAgBC;IAAG,SAAS,EAAC,KAAb;IAAmB,IAAI,EAAC;EAAxB,gBACC,2DAAC,2EAAD;IAAiB,IAAI,EAAC,iBAAtB;IAAwC,IAAI,EAAC;EAA7C,EADD,CAhBD,eAmBC;IAAG,SAAS,EAAC,KAAb;IAAmB,IAAI,EAAC;EAAxB,gBACC,2DAAC,2EAAD;IAAiB,IAAI,EAAC,gBAAtB;IAAuC,IAAI,EAAC;EAA5C,EADD,CAnBD,CADD,CADD;AA2BA,CAlCD;;AAoCA,iEAAeR,OAAf;;;;;;;;;;;;;;;;;ACvCA;;AAEA,IAAMS,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EAC7B,oBAAO,0FAAP;AACA,CAFD;;AAIA,iEAAeA,eAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMM,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;EAC9B,kBAWIpE,iDAAU,CAACI,qDAAD,CAXd;EAAA,IACCiE,SADD,eACCA,SADD;EAAA,IAECC,WAFD,eAECA,WAFD;EAAA,IAGCC,aAHD,eAGCA,aAHD;EAAA,IAICC,aAJD,eAICA,aAJD;EAAA,IAKCC,WALD,eAKCA,WALD;EAAA,IAMCC,iBAND,eAMCA,iBAND;EAAA,IAOCC,YAPD,eAOCA,YAPD;EAAA,IAQCC,YARD,eAQCA,YARD;EAAA,IASCC,WATD,eASCA,WATD;EAAA,IAUCC,uBAVD,eAUCA,uBAVD;;EAYA,gBAAgD3E,+CAAQ,CAAC,KAAD,CAAxD;EAAA;EAAA,IAAO4E,gBAAP;EAAA,IAAyBC,mBAAzB;;EACA,iBAAgC7E,+CAAQ,CAAC,KAAD,CAAxC;EAAA;EAAA,IAAO8E,QAAP;EAAA,IAAiBC,WAAjB;;EACA,IAAMC,UAAU,GAAGhB,wDAAW,CAAC,UAACiB,KAAD;IAAA;;IAAA,uBAAWA,KAAK,CAACC,KAAjB,iDAAW,aAAaF,UAAxB;EAAA,CAAD,CAA9B;EACA,IAAMtE,SAAS,GAAG,SAAlB;EACA,IAAMyE,gBAAgB,GAAGpF,6CAAM,CAAC,IAAD,CAA/B;EACA,IAAMqF,gBAAgB,GAAGrF,6CAAM,CAAC,IAAD,CAA/B;EACA,IAAMsF,cAAc,GAAGtF,6CAAM,CAAC,IAAD,CAA7B;EACA,IAAMuF,gBAAgB,GAAGvF,6CAAM,CAAC,IAAD,CAA/B;EACA,IAAMwF,eAAe,GAAGxF,6CAAM,CAAC,IAAD,CAA9B;EACA,IAAMyF,eAAe,GAAGzF,6CAAM,CAAC,IAAD,CAA9B;EACAD,gDAAS,CAAC,YAAM;IACfqF,gBAAgB,CAACrE,OAAjB,CAAyBC,QAAzB,GAAoCmD,SAAS,IAAI,IAAjD;IACAkB,gBAAgB,CAACtE,OAAjB,CAAyBC,QAAzB,GAAoCmD,SAAS,IAAI,IAAjD;IACAmB,cAAc,CAACvE,OAAf,CAAuBC,QAAvB,GAAkCmD,SAAS,IAAI,IAA/C;IACAW,mBAAmB,CAACX,SAAS,IAAI,IAAd,CAAnB;IACAa,WAAW,CAAC,CAAAb,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEuB,IAAX,KAAmB5B,yDAApB,CAAX;EACA,CANQ,EAMN,CAACK,SAAD,CANM,CAAT;EAOApE,gDAAS,CAAC,YAAM;IACfwF,gBAAgB,CAACxE,OAAjB,CAAyBC,QAAzB,GAAoCoD,WAApC;EACA,CAFQ,EAEN,CAACA,WAAD,CAFM,CAAT;EAGArE,gDAAS,CAAC,YAAM;IACfyF,eAAe,CAACzE,OAAhB,CAAwBC,QAAxB,GAAmCiE,UAAnC;IACAQ,eAAe,CAAC1E,OAAhB,CAAwBC,QAAxB,GAAmCiE,UAAnC;EACA,CAHQ,EAGN,CAACA,UAAD,CAHM,CAAT;EAKA,oBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC,2DAAC,2DAAD;IAAY,KAAK,EAAC,SAAlB;IAA4B,WAAW,EAAEZ,aAAzC;IAAwD,MAAM,EAAEe,gBAAhE;IAAkF,SAAS,EAAEzE;EAA7F,gBACE;IAAK,GAAG,EAAEkD,oEAAV;IAAgC,GAAG,EAAC;EAApC,EADF,CADD,eAIC,2DAAC,2DAAD;IAAY,KAAK,EAAC,SAAlB;IAA4B,WAAW,EAAES,aAAzC;IAAwD,MAAM,EAAEe,gBAAhE;IAAkF,SAAS,EAAE1E;EAA7F,gBACE;IAAK,GAAG,EAAEkD,oEAAV;IAAgC,GAAG,EAAC;EAApC,EADF,CAJD,eAOC,2DAAC,2DAAD;IAAY,KAAK,EAAC,OAAlB;IAA0B,WAAW,EAAEU,WAAvC;IAAoD,MAAM,EAAEe,cAA5D;IAA4E,SAAS,EAAE3E;EAAvF,gBACE;IAAK,GAAG,EAAEkD,kEAAV;IAA8B,GAAG,EAAC;EAAlC,EADF,CAPD,CADD,eAYC;IAAK,SAAS,EAAC,gBAAf;IAAgC,KAAK,EAAE;MAAEiC,OAAO,EAAEjB,gBAAgB,GAAG,OAAH,GAAa;IAAxC;EAAvC,gBACC,2DAAC,2DAAD;IACC,KAAK,EAAC,SADP;IAEC,WAAW,EAAEL,iBAFd;IAGC,MAAM,EAAEe,gBAHT;IAIC,SAAS,EAAE5E;EAJZ,gBAME;IAAK,GAAG,EAAEkD,oEAAV;IAAgC,GAAG,EAAC;EAApC,EANF,CADD,CAZD,eAsBC;IAAK,SAAS,EAAC,gBAAf;IAAgC,KAAK,EAAE;MAAEiC,OAAO,EAAEf,QAAQ,GAAG,OAAH,GAAa;IAAhC;EAAvC,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC,+EADD,eAEC;IACC,IAAI,EAAC,MADN;IAEC,SAAS,EAAC,cAFX;IAGC,KAAK,EAAEJ,WAHR;IAIC,QAAQ,EAAEC;EAJX,EAFD,CADD,CAtBD,eAiCC;IAAK,SAAS,EAAC,gBAAf;IAAgC,KAAK,EAAE;MAAEkB,OAAO,EAAEjB,gBAAgB,GAAG,OAAH,GAAa;IAAxC;EAAvC,gBACC,2DAAC,4DAAD;IAAa,YAAY,EAAEJ,YAA3B;IAAyC,MAAM,EAAEe,eAAjD;IAAkE,SAAS,EAAE7E;EAA7E,EADD,eAEC,2DAAC,4DAAD;IAAa,YAAY,EAAE+D,YAA3B;IAAyC,MAAM,EAAEe,eAAjD;IAAkE,SAAS,EAAE9E;EAA7E,EAFD,CAjCD,CADD;AAwCA,CA9ED;;AAgFA,iEAAeuD,gBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMqC,YAAY,GAAG,SAAfA,YAAe,GAAM;EAC1B,IAAMC,OAAO,GAAGvC,wDAAW,CAAC,UAACiB,KAAD;IAAA;;IAAA,uBAAWA,KAAK,CAACC,KAAjB,iDAAW,aAAaqB,OAAxB;EAAA,CAAD,CAA3B;EACA,IAAMvB,UAAU,GAAGhB,wDAAW,CAAC,UAACiB,KAAD;IAAA;;IAAA,wBAAWA,KAAK,CAACC,KAAjB,kDAAW,cAAaF,UAAxB;EAAA,CAAD,CAA9B;EACA,IAAMwB,QAAQ,GAAGR,wDAAW,EAA5B;;EACA,kBAA4FnG,iDAAU,CAACI,qDAAD,CAAtG;EAAA,IAAQiE,SAAR,eAAQA,SAAR;EAAA,IAAmBC,WAAnB,eAAmBA,WAAnB;EAAA,IAAgCsC,aAAhC,eAAgCA,aAAhC;EAAA,IAA+CC,mBAA/C,eAA+CA,mBAA/C;EAAA,IAAoEC,mBAApE,eAAoEA,mBAApE;;EACA,gBAAgC3G,+CAAQ,CAAC,KAAD,CAAxC;EAAA;EAAA,IAAO4G,QAAP;EAAA,IAAiBC,WAAjB;;EAEA,IAAMnG,SAAS,GAAG,UAAlB;EACA,IAAMoG,aAAa,GAAG/G,6CAAM,CAAC,IAAD,CAA5B;EACA,IAAMgH,eAAe,GAAGhH,6CAAM,CAAC,IAAD,CAA9B;EACA,IAAMiH,YAAY,GAAGjH,6CAAM,CAAC,IAAD,CAA3B;EACA,IAAMkH,aAAa,GAAGlH,6CAAM,CAAC,IAAD,CAA5B;EACA,IAAMmH,kBAAkB,GAAGnH,6CAAM,CAAC,IAAD,CAAjC;EACA,IAAMoH,gBAAgB,GAAGpH,6CAAM,CAAC,IAAD,CAA/B;EACA,IAAMwF,eAAe,GAAGxF,6CAAM,CAAC,IAAD,CAA9B;EACA,IAAMyF,eAAe,GAAGzF,6CAAM,CAAC,IAAD,CAA9B;;EAEA,IAAMqH,eAAe,GAAG,SAAlBA,eAAkB,GAAM;IAC7B,IAAIlD,SAAJ,EAAe;MACdkC,qEAAe,CAACF,qDAAD,EAAgBM,QAAhB,CAAf;MACAtC,SAAS,CAACoD,iBAAV,CAA4BR,aAAa,CAAChG,OAA1C,EAAmD2F,aAAa,CAACc,SAAjE,EAA4E,YAAM;QACjFlB,yEAAmB,CAACG,QAAD,CAAnB;MACA,CAFD;IAGA;EACD,CAPD;;EASA,IAAMgB,YAAY,GAAG,SAAfA,YAAe,GAAM;IAC1B,IAAItD,SAAJ,EAAe;MACdkC,qEAAe,CAACF,uDAAD,EAAkBM,QAAlB,CAAf;MACAtC,SAAS,CAACwD,mBAAV,CAA8BX,eAAe,CAACjG,OAA9C,EAAuD2F,aAAa,CAACc,SAArE,EAAgF,YAAM;QACrFlB,yEAAmB,CAACG,QAAD,CAAnB;MACA,CAFD;IAGA;EACD,CAPD;;EAQA,IAAMmB,SAAS,GAAG,SAAZA,SAAY,GAAM;IACvBvB,qEAAe,CAACF,oDAAD,EAAeM,QAAf,CAAf;IACAtC,SAAS,CAAC2D,gBAAV,CAA2Bb,YAAY,CAAClG,OAAxC,EAAiD2F,aAAa,CAACc,SAA/D,EAA0E,YAAM;MAC/ElB,yEAAmB,CAACG,QAAD,CAAnB;IACA,CAFD;EAGA,CALD;;EAOA,IAAMsB,UAAU,GAAG,SAAbA,UAAa,GAAM;IACxB,IAAI5D,SAAJ,EAAe;MACdkC,qEAAe,CAACF,qDAAD,EAAgBM,QAAhB,CAAf;MACAtC,SAAS,CAAC8D,iBAAV,CAA4Bf,aAAa,CAACnG,OAA1C,EAAmD2F,aAAa,CAACc,SAAjE,EAA4E,YAAM;QACjFlB,yEAAmB,CAACG,QAAD,CAAnB;MACA,CAFD;IAGA;EACD,CAPD;;EAQA,IAAMyB,eAAe,GAAG,SAAlBA,eAAkB,GAAM;IAC7B,IAAI/D,SAAJ,EAAe;MACdkC,qEAAe,CAACF,0DAAD,EAAqBM,QAArB,CAAf;MACAtC,SAAS,CAACiE,sBAAV,CAAiCjB,kBAAkB,CAACpG,OAApD,EAA6D2F,aAAa,CAACc,SAA3E,EAAsF,YAAM;QAC3FlB,yEAAmB,CAACG,QAAD,CAAnB;MACA,CAFD;IAGA;EACD,CAPD;;EAQA,IAAM4B,aAAa,GAAG,SAAhBA,aAAgB,GAAM;IAC3B,IAAIlE,SAAJ,EAAe;MACdkC,qEAAe,CAACF,yDAAD,EAAoBM,QAApB,CAAf;MACAtC,SAAS,CAACoE,oBAAV,CAA+BnB,gBAAgB,CAACrG,OAAhD,EAAyD2F,aAAa,CAACc,SAAvE,EAAkF,YAAM;QACvFlB,yEAAmB,CAACG,QAAD,CAAnB;MACA,CAFD;IAGA;EACD,CAPD;;EASA1G,gDAAS,CAAC,YAAM;IACf+G,WAAW,CAAC1C,WAAD,CAAX;EACA,CAFQ,EAEN,CAACA,WAAD,CAFM,CAAT;EAIArE,gDAAS,CAAC,YAAM;IACfqG,iEAAW,CAACW,aAAD,EAAgBZ,qDAAhB,EAA+BK,OAA/B,EAAwCvB,UAAxC,CAAX;IACAmB,iEAAW,CAACY,eAAD,EAAkBb,uDAAlB,EAAmCK,OAAnC,EAA4CvB,UAA5C,CAAX;IACAmB,iEAAW,CAACa,YAAD,EAAed,oDAAf,EAA6BK,OAA7B,EAAsCvB,UAAtC,CAAX;IACAmB,iEAAW,CAACc,aAAD,EAAgBf,qDAAhB,EAA+BK,OAA/B,EAAwCvB,UAAxC,CAAX;IACAmB,iEAAW,CAACe,kBAAD,EAAqBhB,0DAArB,EAAyCK,OAAzC,EAAkDvB,UAAlD,CAAX;IACAmB,iEAAW,CAACgB,gBAAD,EAAmBjB,wDAAnB,EAAqCK,OAArC,EAA8CvB,UAA9C,CAAX;IACAO,eAAe,CAACzE,OAAhB,CAAwBC,QAAxB,GAAmCiE,UAAnC;IACAQ,eAAe,CAAC1E,OAAhB,CAAwBC,QAAxB,GAAmCiE,UAAnC;EACA,CATQ,EASN,CAACuB,OAAD,EAAUvB,UAAV,CATM,CAAT;EAWA,oBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC,gBAAf;IAAgC,KAAK,EAAE;MAAEa,OAAO,EAAEe,QAAQ,GAAG,MAAH,GAAY;IAA/B;EAAvC,gBACC,2DAAC,2DAAD;IACC,KAAK,EAAC,WADP;IAEC,WAAW,EAAEQ,eAFd;IAGC,MAAM,EAAEN,aAHT;IAIC,SAAS,EAAEpG;EAJZ,gBAME;IAAK,GAAG,EAAEuF,kEAAV;IAA8B,GAAG,EAAC;EAAlC,EANF,CADD,eAUC,2DAAC,2DAAD;IAAY,KAAK,EAAC,QAAlB;IAA2B,WAAW,EAAEuB,YAAxC;IAAsD,MAAM,EAAET,eAA9D;IAA+E,SAAS,EAAErG;EAA1F,gBACE;IAAK,GAAG,EAAEuF,oEAAV;IAAgC,GAAG,EAAC;EAApC,EADF,CAVD,eAaC,2DAAC,2DAAD;IAAY,KAAK,EAAC,KAAlB;IAAwB,WAAW,EAAE0B,SAArC;IAAgD,MAAM,EAAEX,YAAxD;IAAsE,SAAS,EAAEtG;EAAjF,gBACE;IAAK,GAAG,EAAEuF,iEAAV;IAA6B,GAAG,EAAC;EAAjC,EADF,CAbD,eAgBC,2DAAC,2DAAD;IAAY,KAAK,EAAC,MAAlB;IAAyB,WAAW,EAAE6B,UAAtC;IAAkD,MAAM,EAAEb,aAA1D;IAAyE,SAAS,EAAEvG;EAApF,gBACE;IAAK,GAAG,EAAEuF,kEAAV;IAA8B,GAAG,EAAC;EAAlC,EADF,CAhBD,eAmBC,2DAAC,2DAAD;IACC,KAAK,EAAC,YADP;IAEC,WAAW,EAAEgC,eAFd;IAGC,MAAM,EAAEf,kBAHT;IAIC,SAAS,EAAExG;EAJZ,gBAME;IAAK,GAAG,EAAEuF,mEAAV;IAA+B,GAAG,EAAC;EAAnC,EANF,CAnBD,eA2BC,2DAAC,2DAAD;IAAY,KAAK,EAAC,SAAlB;IAA4B,WAAW,EAAEmC,aAAzC;IAAwD,MAAM,EAAEjB,gBAAhE;IAAkF,SAAS,EAAEzG;EAA7F,gBACE;IAAK,GAAG,EAAEuF,qEAAV;IAAiC,GAAG,EAAC;EAArC,EADF,CA3BD,eA+BC,2DAAC,4DAAD;IACC,YAAY,EAAES,mBADf;IAEC,MAAM,EAAEnB,eAFT;IAGC,SAAS,EAAE7E;EAHZ,EA/BD,eAoCC,2DAAC,4DAAD;IACC,YAAY,EAAEiG,mBADf;IAEC,MAAM,EAAEnB,eAFT;IAGC,SAAS,EAAE9E;EAHZ,EApCD,CADD,CADD;AA8CA,CA/HD;;AAiIA,iEAAe4F,YAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5IA;AACA;AACA;AACA;AACA;;AAEA,IAAMuC,MAAM,GAAG,SAATA,MAAS,GAAM;EACpB,gBAA8B7I,+CAAQ,CAAC,CAAD,CAAtC;EAAA;EAAA,IAAO8I,OAAP;EAAA,IAAgBC,UAAhB;;EACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,CAAD,EAAO;IAC9BF,UAAU,CAACE,CAAD,CAAV;EACA,CAFD;;EAGA,oBACC,2DAAC,4DAAD;IAAM,SAAS,EAAEH,OAAjB;IAA0B,SAAS,EAAC,MAApC;IAA2C,QAAQ,EAAEE;EAArD,gBACC,2DAAC,2DAAD;IAAK,QAAQ,EAAE,CAAf;IAAkB,KAAK,EAAC;EAAxB,gBACC,2DAAC,sDAAD,OADD,CADD,eAIC,2DAAC,2DAAD;IAAK,QAAQ,EAAE,CAAf;IAAkB,KAAK,EAAC;EAAxB,gBACC,2DAAC,mDAAD,OADD,CAJD,CADD;AAUA,CAfD;;AAiBA,iEAAeH,MAAf;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMF,UAAU,GAAG,SAAbA,UAAa,GAAM;EACxB,IAAMpC,OAAO,GAAGvC,wDAAW,CAAC,UAACiB,KAAD;IAAA;;IAAA,uBAAWA,KAAK,CAACC,KAAjB,iDAAW,aAAaqB,OAAxB;EAAA,CAAD,CAA3B;EACA,IAAMvB,UAAU,GAAGhB,wDAAW,CAAC,UAACiB,KAAD;IAAA;;IAAA,wBAAWA,KAAK,CAACC,KAAjB,kDAAW,cAAaF,UAAxB;EAAA,CAAD,CAA9B;EACA,IAAMwB,QAAQ,GAAGR,wDAAW,EAA5B;;EACA,kBAAiBnG,iDAAU,CAACI,qDAAD,CAA3B;EAAA,IAAQmJ,IAAR,eAAQA,IAAR;;EAEA,IAAM1I,SAAS,GAAG,QAAlB;EACA,IAAM2I,cAAc,GAAGtJ,6CAAM,CAAC,IAAD,CAA7B;EACA,IAAMuJ,aAAa,GAAGvJ,6CAAM,CAAC,IAAD,CAA5B;EACA,IAAMwJ,eAAe,GAAGxJ,6CAAM,CAAC,IAAD,CAA9B;EACA,IAAMyJ,aAAa,GAAGzJ,6CAAM,CAAC,IAAD,CAA5B;EACAD,gDAAS,CAAC,YAAM;IACfqG,iEAAW,CAACkD,cAAD,EAAiBnD,sDAAjB,EAAiCK,OAAjC,EAA0CvB,UAA1C,CAAX;IACAmB,iEAAW,CAACmD,aAAD,EAAgBpD,qDAAhB,EAA+BK,OAA/B,EAAwCvB,UAAxC,CAAX;IACAmB,iEAAW,CAACoD,eAAD,EAAkBrD,uDAAlB,EAAmCK,OAAnC,EAA4CvB,UAA5C,CAAX;IACAmB,iEAAW,CAACqD,aAAD,EAAgBtD,qDAAhB,EAA+BK,OAA/B,EAAwCvB,UAAxC,CAAX;EACA,CALQ,EAKN,CAACuB,OAAD,EAAUvB,UAAV,CALM,CAAT,CAXwB,CAiBxB;;EACA,IAAM6E,iBAAiB,GAAG,SAApBA,iBAAoB,CAAClI,CAAD,EAAO,CAAE,CAAnC;;EACA,IAAMmI,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACnI,CAAD,EAAO,CAAE,CAAlC;;EACA,IAAMoI,kBAAkB,GAAG,SAArBA,kBAAqB,CAACpI,CAAD,EAAO,CAAE,CAApC;;EACA,IAAMqI,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACrI,CAAD,EAAO;IAC/ByE,qEAAe,CAACF,qDAAD,EAAgBM,QAAhB,CAAf;IACA2C,wEAAA,CAAiCK,aAAa,CAAC1I,OAA/C,EAAwDsI,IAAxD,EAA8D,YAAM;MACnE/C,yEAAmB,CAACG,QAAD,CAAnB;IACA,CAFD;EAGA,CALD,CArBwB,CA2BxB;;;EACA,oBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC,2DAAC,2DAAD;IAAY,KAAK,EAAC,OAAlB;IAA0B,WAAW,EAAEqD,iBAAvC;IAA0D,MAAM,EAAER,cAAlE;IAAkF,SAAS,EAAE3I;EAA7F,gBACE;IAAK,GAAG,EAAEwI,iEAAV;IAA6B,GAAG,EAAC;EAAjC,EADF,CADD,eAIC,2DAAC,2DAAD;IAAY,KAAK,EAAC,MAAlB;IAAyB,WAAW,EAAEY,gBAAtC;IAAwD,MAAM,EAAER,aAAhE;IAA+E,SAAS,EAAE5I;EAA1F,gBACE;IAAK,GAAG,EAAEwI,gEAAV;IAA4B,GAAG,EAAC;EAAhC,EADF,CAJD,eAOC,2DAAC,2DAAD;IACC,KAAK,EAAC,QADP;IAEC,WAAW,EAAEa,kBAFd;IAGC,MAAM,EAAER,eAHT;IAIC,SAAS,EAAE7I;EAJZ,gBAME;IAAK,GAAG,EAAEwI,kEAAV;IAA8B,GAAG,EAAC;EAAlC,EANF,CAPD,eAeC,2DAAC,2DAAD;IAAY,KAAK,EAAC,MAAlB;IAAyB,WAAW,EAAEc,gBAAtC;IAAwD,MAAM,EAAER,aAAhE;IAA+E,SAAS,EAAE9I;EAA1F,gBACE;IAAK,GAAG,EAAEwI,gEAAV;IAA4B,GAAG,EAAC;EAAhC,EADF,CAfD,CADD,CADD;AAuBA,CAnDD;;AAqDA,iEAAeP,UAAf;;;;;;;;;;;;;;;;;;;;AC7DA;AACA;AACA;AACA;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;EAC3B,kBASI/I,iDAAU,CAACI,qDAAD,CATd;EAAA,IACCkE,WADD,eACCA,WADD;EAAA,IAEC+F,aAFD,eAECA,aAFD;EAAA,IAGCC,aAHD,eAGCA,aAHD;EAAA,IAICC,kBAJD,eAICA,kBAJD;EAAA,IAKCC,oBALD,eAKCA,oBALD;EAAA,IAMCC,2BAND,eAMCA,2BAND;EAAA,IAOCC,mBAPD,eAOCA,mBAPD;EAAA,IAQC9D,aARD,eAQCA,aARD;;EAUA,IAAM/F,SAAS,GAAG,QAAlB;EACA,IAAM8J,iBAAiB,GAAGzK,6CAAM,CAAC,IAAD,CAAhC;EACA,IAAM0K,qBAAqB,GAAG1K,6CAAM,CAAC,IAAD,CAApC;EACAD,gDAAS,CAAC,YAAM;IACf0K,iBAAiB,CAAC1J,OAAlB,CAA0BC,QAA1B,GAAqCoD,WAArC;EACA,CAFQ,EAEN,CAACA,WAAD,CAFM,CAAT;EAGA,oBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC,2DAAC,2DAAD;IACC,KAAK,EAAC,gBADP;IAEC,WAAW,EAAEiG,kBAFd;IAGC,MAAM,EAAEI,iBAHT;IAIC,SAAS,EAAE9J;EAJZ,gBAME;IAAK,GAAG,EAAEwI,qEAAV;IAAiC,GAAG,EAAC;EAArC,EANF,CADD,eASC,2DAAC,2DAAD;IACC,KAAK,EAAC,iBADP;IAEC,WAAW,EAAEqB,mBAFd;IAGC,MAAM,EAAEE,qBAHT;IAIC,SAAS,EAAE/J;EAJZ,gBAME;IAAK,GAAG,EAAEwI,kEAAV;IAA8B,GAAG,EAAC;EAAlC,EANF,CATD,CADD,eAmBC;IAAK,SAAS,EAAC,gBAAf;IAAgC,KAAK,EAAE;MAAErD,OAAO,EAAEqE,aAAa,GAAG,OAAH,GAAa;IAArC;EAAvC,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IACC,SAAS,EAAC,aADX;IAEC,KAAK,EAAE;MAAEzG,KAAK,EAAE;IAAT,CAFR;IAGC,KAAK,EAAE0G,aAHR;IAIC,QAAQ,EAAEG;EAJX,GAME7D,aAAa,CAACc,SAAd,CAAwBoD,cAAxB,CAAuCnI,GAAvC,CAA2C,UAACoI,KAAD,EAAW;IACtD,oBACC;MAAQ,GAAG,EAAEA,KAAK,CAACnF,IAAnB;MAAyB,KAAK,EAAEmF,KAAK,CAACnF;IAAtC,GACEmF,KAAK,CAAClI,IADR,CADD;EAKA,CANA,CANF,CADD,eAeC;IAAQ,SAAS,EAAC,iBAAlB;IAAoC,OAAO,EAAE2H;EAA7C,WAfD,CADD,CAnBD,CADD;AA2CA,CA5DD;;AA8DA,iEAAezB,aAAf;;;;;;;;;;;;;;;;;;ACnEA;AACA;;AACA,IAAMiC,UAAU,GAAG,SAAbA,UAAa,GAAM;EACxB,kBAAyFhL,iDAAU,CAACI,qDAAD,CAAnG;EAAA,IAAQ6K,MAAR,eAAQA,MAAR;EAAA,IAAgBC,YAAhB,eAAgBA,YAAhB;EAAA,IAA8BC,iBAA9B,eAA8BA,iBAA9B;EAAA,IAAiDC,eAAjD,eAAiDA,eAAjD;EAAA,IAAkEC,kBAAlE,eAAkEA,kBAAlE;;EAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;IAC7B,OAAO;MACNtF,OAAO,EAAEiF,MAAM,GAAG,OAAH,GAAa,MADtB;MAENM,GAAG,EAAEL,YAAY,CAACK,GAAb,GAAmB,IAFlB;MAGNC,IAAI,EAAEN,YAAY,CAACM,IAAb,GAAoB;IAHpB,CAAP;EAKA,CAND;;EAOA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAU;IAC9B,OAAO;MACN1F,OAAO,EAAE0F,IAAI,GAAG,OAAH,GAAa;IADpB,CAAP;EAGA,CAJD;;EAKA,oBACC;IAAK,SAAS,EAAC,iBAAf;IAAiC,KAAK,EAAEJ,eAAe;EAAvD,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAQ,SAAS,EAAC,KAAlB;IAAwB,OAAO,EAAEH,iBAAjC;IAAoD,KAAK,EAAEM,YAAY,CAAC,CAACP,YAAY,CAACS,OAAf;EAAvE,YADD,eAIC;IAAQ,SAAS,EAAC,KAAlB;IAAwB,OAAO,EAAEP,eAAjC;IAAkD,KAAK,EAAEK,YAAY,CAAC,CAACP,YAAY,CAACS,OAAf;EAArE,UAJD,eAQC;IAAQ,SAAS,EAAC,KAAlB;IAAwB,OAAO,EAAEN,kBAAjC;IAAqD,KAAK,EAAEI,YAAY,CAACP,YAAY,CAACS,OAAd;EAAxE,cARD,CADD,CADD;AAgBA,CA/BD;;AAiCA,iEAAeX,UAAf;;;;;;;;;;;;;;;;;;ACnCA;AACA;;AAEA,IAAMY,aAAa,GAAG,SAAhBA,aAAgB,GAAM;EAC3B,kBAAsC5L,iDAAU,CAACI,qDAAD,CAAhD;EAAA,IAAQyL,WAAR,eAAQA,WAAR;EAAA,IAAqBtK,YAArB,eAAqBA,YAArB;;EACA,IAAMuK,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAChK,CAAD,EAAO;IACrC,IAAIV,QAAQ,GAAGG,YAAY,CAACW,IAAb,CAAkB,UAAC6J,CAAD;MAAA,OAAOA,CAAC,CAAC3K,QAAF,CAAWW,IAAX,IAAmBD,CAAC,CAACE,MAAF,CAASe,KAAnC;IAAA,CAAlB,CAAf;IACA,IAAI,CAAC3B,QAAL,EAAe;IACfyK,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEG,QAAb,CAAsBC,SAAtB,CAAgCC,gBAAhC,CAAiD9K,QAAjD;EACA,CAJD;;EAKA,oBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC,mFADD,CADD,eAIC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAO,SAAS,EAAC;EAAjB,gBACC;IAAO,SAAS,EAAC;EAAjB,gBACC,oFACC;IAAI,KAAK,EAAE;MAAEwC,KAAK,EAAE;IAAT;EAAX,gBACC;IAAK,SAAS,EAAC;EAAf,cADD,CADD,eAIC,oFACC;IACC,SAAS,EAAC,aADX;IAEC,YAAY,EAAEiI,WAAF,aAAEA,WAAF,uBAAEA,WAAW,CAAEG,QAAb,CAAsBC,SAAtB,CAAgCL,aAAhC,CAA8CxK,QAA9C,CAAuDW,IAFtE;IAGC,QAAQ,EAAE+J;EAHX,GAKEvK,YAAY,CAACoB,GAAb,CAAiB,UAACR,CAAD,EAAO;IACxB,oBACC;MAAQ,GAAG,EAAEA,CAAC,CAACU,IAAf;MAAqB,KAAK,EAAEV,CAAC,CAACf,QAAF,CAAWW;IAAvC,GACEI,CAAC,CAACU,IADJ,CADD;EAKA,CANA,CALF,CADD,CAJD,CADD,CADD,CADD,CAJD,CADD;AAiCA,CAxCD;;AA0CA,iEAAe+I,aAAf;;;;;;;;;;;;;;;;;;;;AC7CA;AACA;AACA;AACA;;AAEA,IAAMQ,aAAa,GAAG,SAAhBA,aAAgB,GAAM;EAC3B,kBACCpM,iDAAU,CAACI,qDAAD,CADX;EAAA,IAAQyL,WAAR,eAAQA,WAAR;EAAA,IAAqBQ,iBAArB,eAAqBA,iBAArB;EAAA,IAAwCC,2BAAxC,eAAwCA,2BAAxC;EAAA,IAAqEC,yBAArE,eAAqEA,yBAArE;;EAGA,oBACC,2DAAC,uDAAD;IACC,IAAI,EAAC,IADN;IAEC,IAAI,EAAEF,iBAFP;IAGC,SAAS,EAAE,IAHZ;IAIC,mBAAgB,+BAJjB;IAKC,QAAQ,MALT;IAMC,QAAQ,EAAC,QANV;IAOC,QAAQ,EAAE;EAPX,gBASC,2DAAC,8DAAD,qBACC,2DAAC,6DAAD,qBACC;IAAK,SAAS,EAAC;EAAf,cAA8CR,WAA9C,aAA8CA,WAA9C,uBAA8CA,WAAW,CAAE9J,IAA3D,CADD,CADD,CATD,eAcC,2DAAC,4DAAD,qBACC,2DAAC,sDAAD,OADD,CAdD,eAiBC,2DAAC,8DAAD,qBACC;IAAQ,SAAS,EAAC,mBAAlB;IAAsC,OAAO,EAAEwK;EAA/C,YADD,eAIC;IAAQ,SAAS,EAAC,iBAAlB;IAAoC,OAAO,EAAED;EAA7C,QAJD,CAjBD,CADD;AA4BA,CAhCD;;AAkCA,iEAAeF,aAAf;;;;;;;;;;;;;;;;;ACvCA;;AAEA,IAAMI,YAAY,GAAG,SAAfA,YAAe,CAAClJ,KAAD,EAAW;EAC/B,IAAQmJ,OAAR,GAAmCnJ,KAAnC,CAAQmJ,OAAR;EAAA,IAAiB7F,aAAjB,GAAmCtD,KAAnC,CAAiBsD,aAAjB;EACA,IAAM8F,MAAM,GAAGxM,6CAAM,CAAC,IAAD,CAArB;EACAD,gDAAS,CAAC,YAAM;IACf2G,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAE+F,YAAf,CAA4BC,IAA5B,CAAiChG,aAAjC,EAAgD8F,MAAM,CAACzL,OAAvD;EACA,CAFQ,EAEN,EAFM,CAAT;EAGA,oBACC,uIACC;IAAK,EAAE,EAAC,OAAR;IAAgB,GAAG,EAAEyL,MAArB;IAA6B,SAAS,EAAC,OAAvC;IAA+C,KAAK,EAAE;MAAE1G,OAAO,EAAEyG,OAAO,GAAG,OAAH,GAAa;IAA/B;EAAtD,EADD,CADD;AAKA,CAXD;;AAaA,iEAAeD,YAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACO,IAAMpM,WAAW,gBAAGyM,oDAAa,EAAjC;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACxJ,KAAD,EAAW;EACtC,IAAQyJ,QAAR,GAAoCzJ,KAApC,CAAQyJ,QAAR;EAAA,IAAkBnG,aAAlB,GAAoCtD,KAApC,CAAkBsD,aAAlB;EACA,IAAMF,OAAO,GAAGvC,wDAAW,CAAC,UAACiB,KAAD;IAAA;;IAAA,uBAAWA,KAAK,CAACC,KAAjB,iDAAW,aAAaqB,OAAxB;EAAA,CAAD,CAA3B,CAFsC,CAGtC;;EACA,gBAA4BvG,+CAAQ,CAAC,KAAD,CAApC;EAAA;EAAA,IAAO8K,MAAP;EAAA,IAAe+B,SAAf;;EACA,iBAAwC7M,+CAAQ,CAAC;IAAEoL,GAAG,EAAE,CAAP;IAAUC,IAAI,EAAE,CAAhB;IAAmBG,OAAO,EAAE;EAA5B,CAAD,CAAhD;EAAA;EAAA,IAAOT,YAAP;EAAA,IAAqB+B,eAArB;;EACA,iBAAsC9M,+CAAQ,CAAC,IAAD,CAA9C;EAAA;EAAA,IAAO0L,WAAP;EAAA,IAAoBqB,cAApB;;EACA,IAAMvG,QAAQ,GAAGR,wDAAW,EAA5B;EACAlG,gDAAS,CAAC,YAAM;IACf,IAAI2G,aAAJ,EAAmB;MAClBA,aAAa,CAACuG,aAAd,CAA4B,UAACzB,IAAD,EAAO0B,GAAP,EAAe;QAC1CJ,SAAS,CAACtB,IAAD,CAAT;QACAuB,eAAe,CAACG,GAAD,CAAf;MACA,CAHD;MAIAxG,aAAa,CAACyG,SAAd,CAAwB,UAAChI,KAAD,EAAW;QAClC6H,cAAc,CAAC7H,KAAD,CAAd;QACA2H,SAAS,CAAC,KAAD,CAAT;MACA,CAHD;MAIApG,aAAa,CAAC0G,eAAd,CAA8B,UAACC,OAAD,EAAa;QAC1CC,oBAAoB,CAACD,OAAD,CAApB;MACA,CAFD;IAGA;EACD,CAdQ,EAcN,EAdM,CAAT;EAeAtN,gDAAS,CAAC,YAAM;IACf,IAAI2G,aAAJ,EAAmB;MAClBA,aAAa,CAAC2C,IAAd,CAAmB7C,OAAnB,GAA6BA,OAA7B;IACA;EACD,CAJQ,EAIN,CAACA,OAAD,CAJM,CAAT;;EAMA,IAAMyE,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;IAC/B,IAAIvE,aAAJ,EAAmB;MAClBA,aAAa,CAACuE,iBAAd;;MACA,IAAI9G,SAAJ,EAAe;QACdA,SAAS,CAACoJ,WAAV,CAAsBC,MAAtB,CAA6BrJ,SAAS,CAACoJ,WAAV,CAAsBE,OAAtB,CAA8B9B,WAA9B,CAA7B,EAAyE,CAAzE;MACA;;MACDjF,aAAa,CAACgH,MAAd,GAAuBhH,aAAa,CAACgH,MAAd,CAAqBF,MAArB,CAA4B9G,aAAa,CAACgH,MAAd,CAAqBD,OAArB,CAA6B9B,WAA7B,CAA5B,EAAuE,CAAvE,CAAvB;MACAgC,YAAY,oBAAKjH,aAAa,CAACgH,MAAnB,EAAZ;MACAZ,SAAS,CAAC,KAAD,CAAT;IACA;EACD,CAVD;;EAWA,IAAM5B,eAAe,GAAG,SAAlBA,eAAkB,GAAM;IAC7B,IAAIxE,aAAJ,EAAmB;MAClBA,aAAa,CAACwE,eAAd;MACA4B,SAAS,CAAC,KAAD,CAAT;IACA;EACD,CALD;;EAOA,IAAM3B,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;IAChC,IAAIzE,aAAJ,EAAmB;MAClBA,aAAa,CAACyE,kBAAd;MACA2B,SAAS,CAAC,KAAD,CAAT;IACA;EACD,CALD,CA/CsC,CAqDtC;EACA;;;EACA,iBAAkC7M,+CAAQ,CAAC,IAAD,CAA1C;EAAA;EAAA,IAAOkE,SAAP;EAAA,IAAkByJ,YAAlB;;EAEA,IAAMvJ,aAAa,GAAG,SAAhBA,aAAgB,GAAM;IAC3BuJ,YAAY,CAAClH,aAAa,CAACf,OAAf,CAAZ;EACA,CAFD;;EAGA,IAAMpB,WAAW,GAAG,SAAdA,WAAc,GAAM;IACzBqJ,YAAY,CAAClH,aAAa,CAACb,KAAf,CAAZ;EACA,CAFD;;EAGA,IAAMvB,aAAa,GAAG,SAAhBA,aAAgB,GAAM;IAC3BsJ,YAAY,CAAClH,aAAa,CAACd,OAAf,CAAZ;EACA,CAFD;;EAGA,IAAMiI,UAAU,GAAG,SAAbA,UAAa,GAAM;IACxBD,YAAY,CAAClH,aAAa,CAACoH,IAAf,CAAZ;EACA,CAFD;;EAGA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;IACzBH,YAAY,CAAClH,aAAa,CAACsH,KAAf,CAAZ;EACA,CAFD;;EAGA,IAAMvJ,YAAY,GAAG,SAAfA,YAAe,GAAM;IAC1B,IAAI,CAACsB,OAAL,EAAc;MACb,IAAIkI,MAAM,CAACC,OAAP,CAAe,oDAAf,CAAJ,EAA0E;QACzE;MACA,CAFD,MAEO;QACNN,YAAY,CAAC,IAAD,CAAZ;QACAO,cAAc,CAAC,KAAD,CAAd;QACA7H,yEAAmB,CAACG,QAAD,CAAnB;MACA;IACD,CARD,MAQO;MACN,IAAI9B,WAAW,IAAI,CAAnB,EAAsB;QACrByJ,KAAK,CAAC,mCAAD,CAAL;QACA;MACA;;MACD,IAAIjK,SAAJ,EAAe;QACdA,SAAS,CAACkK,aAAV,CAAwBtI,OAAxB,EAAiCpB,WAAjC,EAA8C+B,aAAa,CAACc,SAAd,CAAwBqD,KAAtE,EAA6ExJ,YAAY,CAAC,CAAD,CAAzF;QACA8C,SAAS,CAACmK,OAAV;QACAX,YAAY,oBAAKjH,aAAa,CAACgH,MAAnB,EAAZ;MACA;;MACDE,YAAY,CAAC,IAAD,CAAZ;MACAW,UAAU,CAAC,IAAD,CAAV;MACAJ,cAAc,CAAC,KAAD,CAAd;MACA7H,yEAAmB,CAACG,QAAD,CAAnB;IACA;EACD,CAxBD;;EAyBA,IAAM/B,YAAY,GAAG,SAAfA,YAAe,GAAM;IAC1BkJ,YAAY,CAAC,IAAD,CAAZ;IACAW,UAAU,CAAC,IAAD,CAAV;IACAJ,cAAc,CAAC,KAAD,CAAd;IACA7H,yEAAmB,CAACG,QAAD,CAAnB;EACA,CALD,CAjGsC,CAuGtC;EACA;;;EACA,iBAAsCxG,+CAAQ,CAAC,KAAD,CAA9C;EAAA;EAAA,IAAOmE,WAAP;EAAA,IAAoB+J,cAApB;;EACA,kBAA8BlO,+CAAQ,CAAC,IAAD,CAAtC;EAAA;EAAA,IAAO8F,OAAP;EAAA,IAAgBwI,UAAhB;;EACA,IAAM/J,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;IAC/B2J,cAAc,CAAC,IAAD,CAAd;IACAK,gBAAgB,CAAC,IAAD,CAAhB;;IACA,IAAIzI,OAAO,IAAI5B,SAAf,EAA0B;MACzBA,SAAS,CAACC,WAAV,CAAsB2B,OAAtB;IACA;EACD,CAND;;EAOA,IAAMY,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;IACjC,IAAIxC,SAAJ,EAAe;MACdA,SAAS,CAACsK,gBAAV,CAA2B,UAACC,MAAD,EAAS3I,OAAT,EAAqB;QAC/C,IAAI,CAAC2I,MAAL,EAAa;UACZN,KAAK,CAAC,0BAAD,CAAL;QACA,CAFD,MAEO;UACND,cAAc,CAAC,KAAD,CAAd;UACAI,UAAU,CAACxI,OAAD,CAAV;UACAO,yEAAmB,CAACG,QAAD,CAAnB;QACA;MACD,CARD;IASA;EACD,CAZD;;EAaA,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;IACjC,IAAIzC,SAAJ,EAAe;MACdA,SAAS,CAACmK,OAAV;MACAH,cAAc,CAAC,KAAD,CAAd;MACAI,UAAU,CAAC,IAAD,CAAV;MACAjI,yEAAmB,CAACG,QAAD,CAAnB;IACA;EACD,CAPD,CA/HsC,CAuItC;EACA;;;EACA,kBAAsCxG,+CAAQ,CAAC,CAAD,CAA9C;EAAA;EAAA,IAAO0E,WAAP;EAAA,IAAoBgK,cAApB;;EACA,IAAM/J,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAChD,CAAD,EAAO;IACtC,IAAIgN,KAAK,CAACC,UAAU,CAACjN,CAAC,CAACE,MAAF,CAASe,KAAT,GAAiB,GAAlB,CAAX,CAAT,EAA6C;MAC5C8L,cAAc,CAAC,CAAD,CAAd;IACA,CAFD,MAEO;MACNA,cAAc,CAAC/M,CAAC,CAACE,MAAF,CAASe,KAAV,CAAd;IACA;EACD,CAND,CA1IsC,CAiJtC;EACA;;;EACA,kBAA0C5C,+CAAQ,CAAC,KAAD,CAAlD;EAAA;EAAA,IAAO6O,aAAP;EAAA,IAAsBN,gBAAtB;;EACA,kBAA0CvO,+CAAQ,CAAC,KAAD,CAAlD;EAAA;EAAA,IAAOkK,aAAP;EAAA,IAAsB4E,gBAAtB;;EACA,kBAA0C9O,+CAAQ,CAACyG,aAAa,CAACc,SAAd,CAAwBoD,cAAxB,CAAuC,CAAvC,EAA0ClF,IAA3C,CAAlD;EAAA;EAAA,IAAO0E,aAAP;EAAA,IAAsB4E,gBAAtB;;EACA,IAAM3E,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;IAChC0E,gBAAgB,CAAC,CAAC5E,aAAF,CAAhB;EACA,CAFD;;EAGA,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;IAClCjE,qEAAe,CAACF,0DAAD,EAAqBM,QAArB,CAAf;IACAC,aAAa,CAACc,SAAd,CAAwByH,YAAxB,CAAqC7E,aAArC,EAAoD,YAAM;MACzDoE,gBAAgB,CAAC,IAAD,CAAhB;MACAO,gBAAgB,CAAC,KAAD,CAAhB;MACAzI,yEAAmB,CAACG,QAAD,CAAnB;IACA,CAJD;EAKA,CAPD;;EAQA,IAAM8D,2BAA2B,GAAG,SAA9BA,2BAA8B,CAAC3I,CAAD,EAAO;IAC1CoN,gBAAgB,CAACpN,CAAC,CAACE,MAAF,CAASe,KAAV,CAAhB;EACA,CAFD;;EAGA,IAAM2H,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;IACjCgE,gBAAgB,CAAC,CAACM,aAAF,CAAhB;EACA,CAFD;;EAGA/O,gDAAS,CAAC,YAAM;IACf2G,aAAa,CAACc,SAAd,CAAwBsH,aAAxB,CAAsCA,aAAtC;EACA,CAFQ,EAEN,CAACA,aAAD,CAFM,CAAT,CAvKsC,CA2KtC;EACA;;EACA,kBAAgD7O,+CAAQ,CAAC,KAAD,CAAxD;EAAA;EAAA,IAAOqB,gBAAP;EAAA,IAAyB4N,mBAAzB;;EACA,kBAAkCjP,+CAAQ,oBAAKyG,aAAa,CAACgH,MAAnB,EAA1C;EAAA;EAAA,IAAOnN,SAAP;EAAA,IAAkBoN,YAAlB;;EACA,kBAAwC1N,+CAAQ,oBAAKyG,aAAa,CAACyI,SAAnB,EAAhD;EAAA;EAAA,IAAO9N,YAAP;EAAA,IAAqB+N,eAArB;;EAEA,IAAM5O,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;IACpC0O,mBAAmB,CAAC,CAAC5N,gBAAF,CAAnB;EACA,CAFD;;EAGA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;IAC/BmF,aAAa,CAAC2I,WAAd;IACAD,eAAe,oBAAK1I,aAAa,CAACyI,SAAnB,EAAf;EACA,CAHD;;EAIA,IAAM1O,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;IAClC,IAAIiG,aAAJ,EAAmB;MAClB,IAAInG,SAAS,CAACU,MAAV,IAAoB,CAAxB,EAA2B;QAC1BmN,KAAK,CAAC,qBAAD,CAAL;QACA;MACA;;MACD1H,aAAa,CAAC4I,SAAd,CAAwBC,YAAxB,CAAqChP,SAArC;IACA;EACD,CARD;;EASA,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;IAClC,IAAIgG,aAAJ,EAAmB;MAClB8I,OAAO,CAACC,GAAR,CAAY,OAAZ;IACA;EACD,CAJD,CAjMsC,CAsMtC;EACA;;;EACA,kBAAkDxP,+CAAQ,CAAC,KAAD,CAA1D;EAAA;EAAA,IAAOkM,iBAAP;EAAA,IAA0BmB,oBAA1B;;EACA,IAAMoC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAC9N,CAAD,EAAO;IAClC,IAAIC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,MAAtB,CAAX;IACA,IAAI,CAACF,IAAL,EAAW;;IACX,IAAI6E,aAAJ,EAAmB;MAClB,IAAIvB,KAAK,GAAGuB,aAAa,CAACiJ,YAAd,CAA2B9N,IAA3B,CAAZ;;MACA,IAAIsD,KAAJ,EAAW;QACV6H,cAAc,CAAC7H,KAAD,CAAd;QACAmI,oBAAoB,CAAC,IAAD,CAApB;MACA;IACD;EACD,CAVD;;EAYA,IAAMlB,2BAA2B,GAAG,SAA9BA,2BAA8B,GAAM;IACzC,IAAI1F,aAAJ,EAAmB;MAClB8I,OAAO,CAACC,GAAR,CAAY9D,WAAZ;MACA2B,oBAAoB,CAAC,KAAD,CAApB;IACA;EACD,CALD;;EAMA,IAAMjB,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAM;IACvC,IAAI3F,aAAJ,EAAmB;MAClB4G,oBAAoB,CAAC,KAAD,CAApB;IACA;EACD,CAJD,CA3NsC,CAiOtC;;;EACA,IAAMzK,KAAK,GAAG;IACb6D,aAAa,EAAEA,aADF;IAEb2C,IAAI,EAAE3C,aAAa,CAAC2C,IAFP;IAGbuG,MAAM,EAAElJ,aAAa,CAACrD,IAAd,CAAmBuM,MAHd;IAIbzL,SAAS,EAAEA,SAJE;IAKb4B,OAAO,EAAEA,OALI;IAMb3B,WAAW,EAAEA,WANA;IAObC,aAAa,EAAEA,aAPF;IAQbE,WAAW,EAAEA,WARA;IASbD,aAAa,EAAEA,aATF;IAUbuJ,UAAU,EAAEA,UAVC;IAWbE,WAAW,EAAEA,WAXA;IAYbtJ,YAAY,EAAEA,YAZD;IAabC,YAAY,EAAEA,YAbD;IAcbF,iBAAiB,EAAEA,iBAdN;IAebmC,mBAAmB,EAAEA,mBAfR;IAgBbC,mBAAmB,EAAEA,mBAhBR;IAiBbjC,WAAW,EAAEA,WAjBA;IAkBbC,uBAAuB,EAAEA,uBAlBZ;IAmBbmG,MAAM,EAAEA,MAnBK;IAoBbC,YAAY,EAAEA,YApBD;IAqBbC,iBAAiB,EAAEA,iBArBN;IAsBbC,eAAe,EAAEA,eAtBJ;IAuBbC,kBAAkB,EAAEA,kBAvBP;IAyBbhB,aAAa,EAAEA,aAzBF;IA0BbC,aAAa,EAAEA,aA1BF;IA2BbC,kBAAkB,EAAEA,kBA3BP;IA4BbC,oBAAoB,EAAEA,oBA5BT;IA6BbC,2BAA2B,EAAEA,2BA7BhB;IA8BbC,mBAAmB,EAAEA,mBA9BR;IA+BbmB,WAAW,EAAEA,WA/BA;IAiCbpL,SAAS,EAAEA,SAjCE;IAkCbc,YAAY,EAAEA,YAlCD;IAmCbC,gBAAgB,EAAEA,gBAnCL;IAoCbd,sBAAsB,EAAEA,sBApCX;IAqCbe,iBAAiB,EAAEA,iBArCN;IAuCb4K,iBAAiB,EAAEA,iBAvCN;IAwCbuD,mBAAmB,EAAEA,mBAxCR;IAyCbtD,2BAA2B,EAAEA,2BAzChB;IA0CbC,yBAAyB,EAAEA,yBA1Cd;IA2Cb5L,oBAAoB,EAAEA,oBA3CT;IA4CbC,oBAAoB,EAAEA;EA5CT,CAAd;EA8CA,oBAAO,2DAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEmC;EAA7B,GAAqCgK,QAArC,CAAP;AACA,CAjRM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMgD,OAAO,GAAG,SAAVA,OAAU,CAACzM,KAAD,EAAW;EAC1B,IAAQsD,aAAR,GAA0BtD,KAA1B,CAAQsD,aAAR;;EACA,gBAA8BzG,+CAAQ,CAAC,CAAD,CAAtC;EAAA;EAAA,IAAO8I,OAAP;EAAA,IAAgBC,UAAhB;;EACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,CAAD,EAAO;IAC9BF,UAAU,CAACE,CAAD,CAAV;EACA,CAFD;;EAIA,oBACC,2DAAC,sDAAD;IAAc,aAAa,EAAExC;EAA7B,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAK,SAAS,EAAC,SAAf;IAAyB,KAAK,EAAE;MAAEhD,KAAK,EAAE;IAAT;EAAhC,gBACC,2DAAC,4DAAD;IAAM,SAAS,EAAEqF,OAAjB;IAA0B,QAAQ,EAAEE,eAApC;IAAqD,SAAS,EAAC;EAA/D,gBAIC,2DAAC,4DAAD;IAAK,QAAQ,EAAE,CAAf;IAAkB,KAAK,EAAC;EAAxB,gBACC,2DAAC,sEAAD,OADD,CAJD,eAOC,2DAAC,4DAAD;IAAK,QAAQ,EAAE,CAAf;IAAkB,KAAK,EAAC;EAAxB,gBACC,2DAAC,oEAAD,OADD,CAPD,eAUC,2DAAC,4DAAD;IAAK,QAAQ,EAAE,CAAf;IAAkB,KAAK,EAAC;EAAxB,gBACC,2DAAC,oEAAD,OADD,CAVD,CADD,CADD,eAiBC;IAAK,SAAS,EAAC,SAAf;IAAyB,KAAK,EAAE;MAAEvF,KAAK,EAAE;IAAT;EAAhC,gBACC,2DAAC,4DAAD;IAAM,SAAS,EAAE,CAAjB;IAAoB,SAAS,EAAC;EAA9B,gBACC,2DAAC,4DAAD;IAAK,QAAQ,EAAE,CAAf;IAAkB,KAAK,EAAC;EAAxB,gBACC,2DAAC,8DAAD,OADD,CADD,CADD,CAjBD,eAwBC;IAAK,SAAS,EAAC,SAAf;IAAyB,KAAK,EAAE;MAAEA,KAAK,EAAE;IAAT;EAAhC,gBACC,2DAAC,sDAAD,OADD,CAxBD,CADD,eA8BC,2DAAC,8DAAD,OA9BD,eA+BC,2DAAC,+DAAD,OA/BD,CADD;AAmCA,CA1CD;;AA4CA,iEAAemM,OAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMjQ,MAAM,GAAG,SAATA,MAAS,GAAM;EACpB,IAAMqQ,QAAQ,GAAGjQ,6CAAM,CAAC,IAAD,CAAvB;EACA,IAAMkQ,UAAU,GAAGlQ,6CAAM,CAAC,IAAD,CAAzB;EACA,IAAMmQ,QAAQ,GAAGnQ,6CAAM,CAAC,IAAD,CAAvB;EACA,IAAMoQ,UAAU,GAAGpQ,6CAAM,CAAC,IAAD,CAAzB;;EACA,gBAA0CC,+CAAQ,CAAC,IAAD,CAAlD;EAAA;EAAA,IAAOyG,aAAP;EAAA,IAAsB2J,gBAAtB;;EACAtQ,gDAAS,CAAC,YAAM;IACf,IAAIoF,KAAK,GAAG,IAAI6K,6DAAJ,CAAkBC,QAAQ,CAAClP,OAA3B,EAAoCmP,UAAU,CAACnP,OAA/C,EAAwDoP,QAAQ,CAACpP,OAAjE,EAA0EqP,UAAU,CAACrP,OAArF,CAAZ;IACAsP,gBAAgB,CAAClL,KAAD,CAAhB;EACA,CAHQ,EAGN,EAHM,CAAT;;EAIA,iBAA8BlF,+CAAQ,CAAC,KAAD,CAAtC;EAAA;EAAA,IAAOsM,OAAP;EAAA,IAAgB+D,UAAhB;;EACA,oBACC,uIACC;IAAK,SAAS,EAAC,UAAf;IAA0B,GAAG,EAAEL;EAA/B,gBACC;IAAQ,GAAG,EAAEC;EAAb,EADD,eAEC;IAAK,SAAS,EAAC,UAAf;IAA0B,GAAG,EAAEC;EAA/B,gBACC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAQ,SAAS,EAAC,KAAlB;IAAwB,EAAE,EAAC;EAA3B,gBACE,2DAAC,2EAAD;IAAiB,IAAI,EAAEL,qEAAvB;IAA+B,IAAI,EAAC;EAApC,EADF,CADD,CADD,eAMC;IAAK,SAAS,EAAC;EAAf,gBACC;IAAQ,SAAS,EAAC,KAAlB;IAAwB,EAAE,EAAC,iBAA3B;IAA6C,OAAO,EAAE,iBAAClO,CAAD;MAAA,OAAO0O,UAAU,CAAC,CAAC/D,OAAF,CAAjB;IAAA;EAAtD,gBACE,2DAAC,2EAAD;IAAiB,IAAI,EAAEwD,oEAAvB;IAA8B,IAAI,EAAC;EAAnC,EADF,CADD,CAND,eAYC;IAAQ,GAAG,EAAEK;EAAb,EAZD,CAFD,CADD,EAkBE1J,aAAa,gBACb,uIACC,2DAAC,gDAAD;IAAS,IAAI,EAAEA,aAAa,CAACrD;EAA7B,EADD,eAEC,2DAAC,gDAAD;IAAS,aAAa,EAAEqD;EAAxB,EAFD,eAGC,2DAAC,qDAAD;IAAc,OAAO,EAAE6F,OAAvB;IAAgC,aAAa,EAAE7F;EAA/C,EAHD,CADa,gBAOb,yHAzBF,CADD;AA8BA,CAzCD;;AA2CA,iEAAe9G,MAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnDA;AACA;AACA;AACA;AACA;;AACA,IAAMoE,WAAW,GAAG,SAAdA,WAAc,CAACZ,KAAD,EAAW;EAC9B,IAAQsB,YAAR,GAA4CtB,KAA5C,CAAQsB,YAAR;EAAA,IAAsB5C,MAAtB,GAA4CsB,KAA5C,CAAsBtB,MAAtB;EAAA,IAA8BnB,SAA9B,GAA4CyC,KAA5C,CAA8BzC,SAA9B;;EACA,gBAAwBV,+CAAQ,CAAC,KAAD,CAAhC;EAAA;EAAA,IAAOuL,IAAP;EAAA,IAAakF,OAAb;;EACA,oBACC,uIACC;IACC,SAAS,EAAC,iBADX;IAEC,GAAG,EAAE5O,MAFN;IAGC,YAAY,EAAE;MAAA,OAAM4O,OAAO,CAAC,KAAD,CAAb;IAAA,CAHf;IAIC,WAAW,EAAE;MAAA,OAAMA,OAAO,CAAC,IAAD,CAAb;IAAA,CAJd;IAKC,OAAO,EAAEhM;EALV,gBAOE,2DAAC,2EAAD;IAAiB,IAAI,EAAE+L,4EAAvB;IAAsC,IAAI,EAAC;EAA3C,EAPF,CADD,eAUC,2DAAC,+DAAD;IAAS,MAAM,EAAE3O,MAAM,CAACf,OAAxB;IAAiC,IAAI,EAAEyK,IAAvC;IAA6C,SAAS,EAAC;EAAvD,GACE,UAACpI,KAAD;IAAA,oBACA,2DAAC,+DAAD;MAAS,EAAE,EAAEzC,SAAS,GAAG;IAAzB,GAAuCyC,KAAvC,YADA;EAAA,CADF,CAVD,CADD;AAoBA,CAvBD;;AAyBA,iEAAeY,WAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;;AACA,IAAMD,WAAW,GAAG,SAAdA,WAAc,CAACX,KAAD,EAAW;EAC9B,IAAQqB,YAAR,GAA4CrB,KAA5C,CAAQqB,YAAR;EAAA,IAAsB3C,MAAtB,GAA4CsB,KAA5C,CAAsBtB,MAAtB;EAAA,IAA8BnB,SAA9B,GAA4CyC,KAA5C,CAA8BzC,SAA9B;;EACA,gBAAwBV,+CAAQ,CAAC,KAAD,CAAhC;EAAA;EAAA,IAAOuL,IAAP;EAAA,IAAakF,OAAb;;EACA,oBACC,uIACC;IACC,SAAS,EAAC,iBADX;IAEC,GAAG,EAAE5O,MAFN;IAGC,YAAY,EAAE;MAAA,OAAM4O,OAAO,CAAC,KAAD,CAAb;IAAA,CAHf;IAIC,WAAW,EAAE;MAAA,OAAMA,OAAO,CAAC,IAAD,CAAb;IAAA,CAJd;IAKC,OAAO,EAAEjM;EALV,gBAOE,2DAAC,2EAAD;IAAiB,IAAI,EAAEkM,sEAAvB;IAAgC,IAAI,EAAC;EAArC,EAPF,CADD,eAUC,2DAAC,+DAAD;IAAS,MAAM,EAAE7O,MAAM,CAACf,OAAxB;IAAiC,IAAI,EAAEyK,IAAvC;IAA6C,SAAS,EAAC;EAAvD,GACE,UAACpI,KAAD;IAAA,oBACA,2DAAC,+DAAD;MAAS,EAAE,EAAEzC,SAAS,GAAG;IAAzB,GAAuCyC,KAAvC,YADA;EAAA,CADF,CAVD,CADD;AAoBA,CAvBD;;AAyBA,iEAAeW,WAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,IAAMF,YAAY,GAAG;EAC3B8B,OAAO,EAAEA,iEADkB;EAE3BE,KAAK,EAAEA,kDAFoB;EAG3BD,OAAO,EAAEA,oDAHkB;EAI3BG,OAAO,EAAEA,iEAAOA;AAJW,CAArB;AAMA,IAAMG,aAAa,GAAG;EAC5BoB,IAAI,EAAEA,2DADsB;EAE5BI,MAAM,EAAEA,wDAFoB;EAG5BG,GAAG,EAAEA,qDAHuB;EAI5BG,IAAI,EAAEA,sDAJsB;EAK5BS,KAAK,EAAEN,4DALqB;EAM5BK,OAAO,EAAEA,0DAAOA;AANY,CAAtB;AASA,IAAMW,WAAW,GAAG;EAC1B3B,SAAS,EAAEA,uDADe;EAE1BmD,MAAM,EAAEA,0DAFkB;EAG1BjB,KAAK,EAAEA,wDAHmB;EAI1BG,IAAI,EAAEA,uDAJoB;EAK1BF,IAAI,EAAEA,uDALoB;EAM1BC,MAAM,EAAEA,yDAAMA;AANY,CAApB;AAQA,IAAMvJ,WAAW,GAAG;EAC1Be,GAAG,EAAEA,0DADqB;EAE1BF,QAAQ,EAAEA,oDAFgB;EAG1BC,GAAG,EAAEA,sDAAGA;AAHkB,CAApB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CP;AACA;AACA;;AAEA,IAAMhB,UAAU,GAAG,SAAbA,UAAa,CAACiD,KAAD,EAAW;EAC7B,IAAQwN,KAAR,GAAkDxN,KAAlD,CAAQwN,KAAR;EAAA,IAAeC,WAAf,GAAkDzN,KAAlD,CAAeyN,WAAf;EAAA,IAA4B/O,MAA5B,GAAkDsB,KAAlD,CAA4BtB,MAA5B;EAAA,IAAoCnB,SAApC,GAAkDyC,KAAlD,CAAoCzC,SAApC;;EACA,gBAAsCV,+CAAQ,CAAC,KAAD,CAA9C;EAAA;EAAA,IAAO6Q,WAAP;EAAA,IAAoBC,cAApB;;EACA,oBACC,qFACC;IACC,SAAS,EAAC,iBADX;IAEC,GAAG,EAAEjP,MAFN;IAGC,YAAY,EAAE;MAAA,OAAMiP,cAAc,CAAC,KAAD,CAApB;IAAA,CAHf;IAIC,WAAW,EAAE;MAAA,OAAMA,cAAc,CAAC,IAAD,CAApB;IAAA,CAJd;IAKC,OAAO,EAAEF;EALV,GAOEzN,KAAK,CAACyJ,QAPR,CADD,eAUC,2DAAC,+DAAD;IAAS,MAAM,EAAE/K,MAAM,CAACf,OAAxB;IAAiC,IAAI,EAAE+P,WAAvC;IAAoD,SAAS,EAAE;EAA/D,GACE,UAAC1N,KAAD;IAAA,oBACA,2DAAC,+DAAD;MAAS,EAAE,EAAEzC,SAAS,GAAG;IAAzB,GAA4CyC,KAA5C,GACEwN,KADF,CADA;EAAA,CADF,CAVD,CADD;AAoBA,CAvBD;;AAyBA,iEAAezQ,UAAf;;;;;;;;;;;;;;;;;;AC7BA;AAEO,SAASiG,WAAT,CAAqBtE,MAArB,EAA6BkP,KAA7B,EAAoCxK,OAApC,EAA6CvB,UAA7C,EAAyD;EAC/D,IAAIA,UAAJ,EAAgB;IACf,IAAIuB,OAAO,IAAIwK,KAAf,EAAsB;MACrBlP,MAAM,CAACf,OAAP,CAAeC,QAAf,GAA0B,KAA1B;IACA,CAFD,MAEO;MACNc,MAAM,CAACf,OAAP,CAAeC,QAAf,GAA0B,IAA1B;IACA;EACD,CAND,MAMO;IACNc,MAAM,CAACf,OAAP,CAAeC,QAAf,GAA0B,KAA1B;EACA;AACD;AACM,SAASqF,eAAT,CAAyB4K,IAAzB,EAA+BxK,QAA/B,EAAyC;EAC/CA,QAAQ,CAACmH,+DAAY,CAAC;IAAEpH,OAAO,EAAEyK,IAAX;IAAiBhM,UAAU,EAAE;EAA7B,CAAD,CAAb,CAAR;AACA;AACM,SAASqB,mBAAT,CAA6BG,QAA7B,EAAuC;EAC7CA,QAAQ,CAACmH,+DAAY,CAAC;IAAEpH,OAAO,EAAE,CAAX;IAAcvB,UAAU,EAAE;EAA1B,CAAD,CAAb,CAAR;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBD;AAEA;AACA;AACA;AACA;AACA;AACA;AAEO,IAAM+K,aAAb;EAIC,uBAAY6B,aAAZ,EAA2B3B,UAA3B,EAAuC4B,aAAvC,EAAsD1B,UAAtD,EAAkE;IAAA;;IAAA,gCAHzD,EAGyD;;IAAA,mCAFtD,EAEsD;;IACjE,KAAK2B,KAAL,GAAa,IAAIb,wCAAJ,EAAb;IACA,KAAKxN,KAAL,GAAamO,aAAa,CAACG,WAA3B;IACA,KAAKC,MAAL,GAAcJ,aAAa,CAACK,YAA5B;IACA,KAAKzF,YAAL,GAAoB,IAAI4E,gDAAJ,EAApB;IACA,KAAKhI,IAAL,GAAY,IAAI8H,2CAAJ,CAAa,KAAKY,KAAlB,EAAyBF,aAAzB,EAAwC3B,UAAxC,EAAoD,KAAKxM,KAAzD,EAAgE,KAAKuO,MAArE,EAA6E,IAA7E,CAAZ;IACA,KAAK5I,IAAL,CAAU8I,gBAAV,CAA2BL,aAA3B,EAA0C1B,UAA1C;IACA,KAAK/G,IAAL,CAAU+I,SAAV;IACA,KAAK/I,IAAL,CAAUgJ,UAAV,CAAqBR,aAArB,EAAoC3B,UAApC;IACA,KAAK7M,IAAL,GAAY,IAAIkO,6CAAJ,CAAc,KAAKlI,IAAnB,CAAZ;IACA,KAAK7B,SAAL,GAAiB,IAAI8J,6CAAJ,CAAc,KAAKjI,IAAnB,EAAyB,KAAKhG,IAA9B,CAAjB;IACA,KAAKsC,OAAL,GAAe,IAAIyD,kDAAJ,CAAmBtF,qDAAnB,EAAsC,KAAK4J,MAA3C,EAAmD,KAAKrE,IAAxD,EAA8D,KAAKhG,IAAnE,CAAf;IACA,KAAKwC,KAAL,GAAa,IAAIuD,kDAAJ,CAAmBtF,mDAAnB,EAAoC,KAAK4J,MAAzC,EAAiD,KAAKrE,IAAtD,EAA4D,KAAKhG,IAAjE,CAAb;IACA,KAAKuC,OAAL,GAAe,IAAIwD,kDAAJ,CAAmBtF,qDAAnB,EAAsC,KAAK4J,MAA3C,EAAmD,KAAKrE,IAAxD,EAA8D,KAAKhG,IAAnE,CAAf;IACA,KAAKyK,IAAL,GAAY,IAAI1E,kDAAJ,CAAmBtF,kDAAnB,EAAmC,KAAK4J,MAAxC,EAAgD,KAAKrE,IAArD,EAA2D,KAAKhG,IAAhE,CAAZ;IACA,KAAK2K,KAAL,GAAa,IAAI5E,kDAAJ,CAAmBtF,mDAAnB,EAAoC,KAAK4J,MAAzC,EAAiD,KAAKrE,IAAtD,EAA4D,KAAKhG,IAAjE,CAAb;IACA,KAAKiP,aAAL;IACA,KAAKhD,SAAL,GAAiB,IAAIkC,kDAAJ,EAAjB;IACA,KAAKrC,SAAL,CAAeoD,IAAf,CAAoB,KAAKC,YAAL,CAAkB,MAAlB,CAApB;IACA,KAAKrD,SAAL,CAAeoD,IAAf,CAAoB,KAAKC,YAAL,CAAkB,MAAlB,CAApB;IACA,KAAKrD,SAAL,CAAeoD,IAAf,CAAoB,KAAKC,YAAL,CAAkB,MAAlB,CAApB;EACA;;EAzBF;IAAA;IAAA,OA0BC,uBAAc;MACb,KAAKrD,SAAL,CAAeoD,IAAf,CAAoB,KAAKC,YAAL,CAAkB,SAAlB,CAApB;IACA;EA5BF;IAAA;IAAA,OA6BC,sBAAa7P,IAAb,EAAmB;MAClB,IAAID,GAAG,GAAG;QACTC,IAAI,EAAEA,IADG;QAETzB,QAAQ,EAAE0Q,kEAAA,CAA4B,IAA5B,EAAkC,CAAlC,CAFD;QAGT5O,KAAK,EAAE,GAHE;QAITJ,YAAY,EAAE,sBAACC,KAAD,EAAW;UACxBH,GAAG,CAACC,IAAJ,GAAWE,KAAX;QACA,CANQ;QAQTC,QAAQ,EAAE,oBAAM;UACf,OAAO,MAAMJ,GAAG,CAACxB,QAAJ,CAAawR,KAAb,CAAmBC,YAAnB,EAAb;QACA,CAVQ;QAWT5P,aAAa,EAAE,uBAACF,KAAD,EAAW;UACzBH,GAAG,CAACxB,QAAJ,CAAawR,KAAb,CAAmBE,GAAnB,CAAuB/P,KAAvB;QACA,CAbQ;QAcTI,aAAa,EAAE,uBAACJ,KAAD,EAAW;UACzBH,GAAG,CAACM,KAAJ,GAAYH,KAAZ;QACA;MAhBQ,CAAV;MAkBA,OAAOH,GAAP;IACA;EAjDF;IAAA;IAAA,OAkDC,yBAAgB;MACf,IAAImQ,KAAK,GAAG,IAAZ;;MAEAA,KAAK,CAACxJ,IAAN,CAAWyJ,UAAX,CAAsBC,gBAAtB,CACC,WADD,EAEC,UAAUnR,CAAV,EAAa;QACZ6P,qEAAc,CAAC7P,CAAD,EAAIiR,KAAK,CAACxJ,IAAV,CAAd;MACA,CAJF,EAKC,KALD;;MAOAwJ,KAAK,CAACxJ,IAAN,CAAWyJ,UAAX,CAAsBC,gBAAtB,CACC,OADD,EAEC,UAAUnR,CAAV,EAAa;QACZ8P,gEAAS,CAAC9P,CAAD,EAAIiR,KAAK,CAACxJ,IAAV,CAAT;MACA,CAJF,EAKC,KALD;IAOA;EAnEF;IAAA;IAAA,OAoEC,uBAAc2J,QAAd,EAAwB;MACvB,IAAIH,KAAK,GAAG,IAAZ;;MACAA,KAAK,CAACxJ,IAAN,CAAWyJ,UAAX,CAAsBC,gBAAtB,CACC,WADD,EAEC,UAAUnR,CAAV,EAAa;QACZ,IAAImJ,MAAM,GAAG,KAAb;QACA,IAAIU,OAAO,GAAG,KAAd;;QACA,IAAIiC,MAAM,GAAGmF,KAAK,CAACd,KAAN,CAAYlF,QAAZ,CAAqBoG,MAArB,CAA4B,UAACC,CAAD;UAAA,OAAOvB,yDAAA,CAAmBuB,CAAnB,KAAyBvB,2DAAA,CAAqBuB,CAArB,CAAhC;QAAA,CAA5B,CAAb;;QACA,IAAItR,CAAC,CAACwR,KAAF,IAAW,CAAf,EAAkB;UACjB,IAAI1F,MAAM,CAACzM,MAAP,IAAiB,CAArB,EAAwB;YACvB8J,MAAM,GAAG,KAAT;YACAU,OAAO,GAAG,KAAV;UACA,CAHD,MAGO;YACNV,MAAM,GAAG,IAAT;YACAU,OAAO,GAAGoH,KAAK,CAACxJ,IAAN,CAAWsC,WAAX,IAA0B,IAApC;UACA;;UACDqH,QAAQ,CAACjI,MAAD,EAAS;YAAEM,GAAG,EAAEzJ,CAAC,CAACyR,OAAT;YAAkB/H,IAAI,EAAE1J,CAAC,CAAC0R,OAA1B;YAAmC7H,OAAO,EAAEA;UAA5C,CAAT,CAAR;QACA;MACD,CAhBF,EAiBC,KAjBD;IAmBA;EAzFF;IAAA;IAAA,OA0FC,mBAAUuH,QAAV,EAAoB;MACnB,IAAIH,KAAK,GAAG,IAAZ;;MACAA,KAAK,CAACxJ,IAAN,CAAWyJ,UAAX,CAAsBC,gBAAtB,CACC,OADD,EAEC,UAAUnR,CAAV,EAAa;QACZ8P,gEAAS,CAAC9P,CAAD,EAAIiR,KAAK,CAACxJ,IAAV,CAAT;QACA2J,QAAQ,CAACH,KAAK,CAACxJ,IAAN,CAAWsC,WAAZ,CAAR;MACA,CALF,EAMC,KAND;IAQA;EApGF;IAAA;IAAA,OAqGC,yBAAgBqH,QAAhB,EAA0B;MACzB,IAAIH,KAAK,GAAG,IAAZ;;MACAA,KAAK,CAACxJ,IAAN,CAAWyJ,UAAX,CAAsBC,gBAAtB,CACC,UADD,EAEC,UAAUnR,CAAV,EAAa;QACZ,IAAI,CAACiR,KAAK,CAACxJ,IAAN,CAAWsC,WAAhB,EAA6B;UAC5BqH,QAAQ,CAAC,KAAD,CAAR;QACA,CAFD,MAEO;UACNA,QAAQ,CAACH,KAAK,CAACxJ,IAAN,CAAWsC,WAAX,CAAuBG,QAAvB,CAAgCyH,IAAhC,IAAwC5B,uDAAzC,CAAR;QACA;MACD,CARF,EASC,KATD;IAWA;EAlHF;IAAA;IAAA,OAmHC,6BAAoB;MACnB,IAAI,KAAKtI,IAAL,CAAUsC,WAAd,EAA2B;QAC1B,IAAI,KAAKtC,IAAL,CAAUsC,WAAV,CAAsBG,QAAtB,CAA+B0H,OAAnC,EAA4C;UAC3C,KAAKnK,IAAL,CAAUsC,WAAV,CAAsBG,QAAtB,CAA+B0H,OAA/B,CAAuCC,gBAAvC;QACA;;QACD,IAAI,KAAKpK,IAAL,CAAUsC,WAAV,CAAsBG,QAAtB,CAA+B4H,OAAnC,EAA4C;UAC3C,KAAKrK,IAAL,CAAUsC,WAAV,CAAsBG,QAAtB,CAA+B6H,QAA/B,CAAwCnR,MAAxC,CAA+C,KAAKuP,KAApD;QACA;;QACD,KAAK1I,IAAL,CAAUsC,WAAV,CAAsB8H,gBAAtB;QACA,KAAKpK,IAAL,CAAUsC,WAAV,GAAwB,IAAxB;QACA,KAAK+B,MAAL,CAAYF,MAAZ,CAAmB,KAAKE,MAAL,CAAYD,OAAZ,CAAoB,KAAKpE,IAAL,CAAUsC,WAA9B,CAAnB,EAA+D,CAA/D;MACA;IACD;EA/HF;IAAA;IAAA,OAgIC,2BAAkB;MACjB,IAAI,KAAKtC,IAAL,CAAUsC,WAAd,EAA2B;QAC1B,IAAI,KAAKtC,IAAL,CAAUsC,WAAV,CAAsBG,QAAtB,CAA+B0H,OAAnC,EAA4C;UAC3C,KAAKnK,IAAL,CAAUsC,WAAV,CAAsBG,QAAtB,CAA+B0H,OAA/B,CAAuCI,OAAvC,GAAiD,KAAjD;QACA;;QAED,KAAKvK,IAAL,CAAUsC,WAAV,CAAsBiI,OAAtB,GAAgC,KAAhC;QACA,KAAKvK,IAAL,CAAUsC,WAAV,GAAwB,IAAxB;MACA;IACD;EAzIF;IAAA;IAAA,OA0IC,8BAAqB;MACpB,KAAKoG,KAAL,CAAWlF,QAAX,CAAoB1K,OAApB,CAA4B,UAAC+Q,CAAD,EAAO;QAClC,IAAIA,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,uDAAvB,EAAyC;UACxC,IAAIuB,CAAC,CAACpH,QAAF,CAAW0H,OAAf,EAAwB;YACvBN,CAAC,CAACpH,QAAF,CAAW0H,OAAX,CAAmBI,OAAnB,GAA6B,IAA7B;UACA;;UACDV,CAAC,CAACU,OAAF,GAAY,IAAZ;QACA;MACD,CAPD;IAQA;EAnJF;IAAA;IAAA,OAoJC,sBAAa/R,IAAb,EAAmB;MAClB,OAAO,KAAK6L,MAAL,CAAY1L,IAAZ,CAAiB,UAACkR,CAAD;QAAA,OAAOA,CAAC,CAACrR,IAAF,IAAUA,IAAjB;MAAA,CAAjB,CAAP;IACA;EAtJF;;EAAA;AAAA;;;;;;;;;;;;;;;;;ACTA;AACA;AACO,IAAMqS,mBAAmB,GAAG;EAClCC,QAAQ,EAAE,kBAACC,OAAD,EAAa;IACtB,OAAO,IAAIN,oDAAJ,CAAsB;MAC5BpB,KAAK,EAAE,SADqB;MAE5BjQ,GAAG,EAAE2R;IAFuB,CAAtB,CAAP;EAIA,CANiC;EAOlCC,UAAU,EAAE,IAAIR,sDAAJ,CAAwB;IACnCS,WAAW,EAAE,IADsB;IAEnCC,OAAO,EAAE,CAF0B;IAGnC7B,KAAK,EAAEuB,8DAH4B;IAInCO,SAAS,EAAE,IAJwB;IAKnCC,IAAI,EAAEV,6CAAUA;EALmB,CAAxB,CAPsB;EAclCW,SAAS,EAAE,IAAIb,sDAAJ,CAAwB;IAClCS,WAAW,EAAE,IADqB;IAElCC,OAAO,EAAE,CAFyB;IAGlC7B,KAAK,EAAEuB,6DAH2B;IAIlCO,SAAS,EAAE;EAJuB,CAAxB,CAduB;EAoBlCG,QAAQ,EAAE,IAAId,sDAAJ,CAAwB;IACjCS,WAAW,EAAE,IADoB;IAEjCC,OAAO,EAAE,CAFwB;IAGjC7B,KAAK,EAAEuB,4DAH0B;IAIjCO,SAAS,EAAE;EAJsB,CAAxB,CApBwB;EA0BlCI,WAAW,EAAE,IAAIf,sDAAJ,CAAwB;IACpCS,WAAW,EAAE,IADuB;IAEpCC,OAAO,EAAE,CAF2B;IAGpC7B,KAAK,EAAE,QAH6B;IAIpC+B,IAAI,EAAEV,6CAJ8B;IAKpCc,UAAU,EAAE,IALwB;IAMpCL,SAAS,EAAE;EANyB,CAAxB,CA1BqB;EAmClCM,IAAI,EAAE,IAAIjB,sDAAJ,CAAwB;IAC7BS,WAAW,EAAE,IADgB;IAE7BC,OAAO,EAAE,GAFoB;IAG7B7B,KAAK,EAAEuB,6DAHsB;IAI7BQ,IAAI,EAAEV,6CAJuB;IAK7Bc,UAAU,EAAE,IALiB;IAM7BL,SAAS,EAAE;EANkB,CAAxB,CAnC4B;EA2ClCO,QAAQ,EAAE,IAAIlB,sDAAJ,CAAwB;IACjCS,WAAW,EAAE,IADoB;IAEjCC,OAAO,EAAE,CAFwB;IAGjC7B,KAAK,EAAEuB,wDAH0B;IAIjCQ,IAAI,EAAEV,6CAJ2B;IAKjCc,UAAU,EAAE,IALqB;IAMjCL,SAAS,EAAE;EANsB,CAAxB;AA3CwB,CAA5B;;;;;;;;;;;;;;;;;ACFP;AACA;AACO,IAAMS,cAAc,GAAG;EAC7BC,UAAU,EAAE,IAAIrB,sDAAJ,CAAwB;IACnCS,WAAW,EAAE,IADsB;IAEnCC,OAAO,EAAE,CAF0B;IAGnC7B,KAAK,EAAE,KAH4B;IAInC+B,IAAI,EAAEV,6CAJ6B;IAKnCc,UAAU,EAAE,IALuB;IAMnCL,SAAS,EAAE;EANwB,CAAxB,CADiB;EAS7BW,UAAU,EAAE,IAAItB,sDAAJ,CAAwB;IACnCS,WAAW,EAAE,IADsB;IAEnCC,OAAO,EAAE,CAF0B;IAGnC7B,KAAK,EAAE,QAH4B;IAInC+B,IAAI,EAAEV,6CAJ6B;IAKnCc,UAAU,EAAE,IALuB;IAMnCL,SAAS,EAAE;EANwB,CAAxB,CATiB;EAiB7BY,SAAS,EAAE,IAAIvB,sDAAJ,CAAwB;IAClCS,WAAW,EAAE,IADqB;IAElCC,OAAO,EAAE,CAFyB;IAGlC7B,KAAK,EAAE,QAH2B;IAIlC+B,IAAI,EAAEV,6CAJ4B;IAKlCc,UAAU,EAAE,IALsB;IAMlCL,SAAS,EAAE;EANuB,CAAxB,CAjBkB;EAyB7Ba,WAAW,EAAE,IAAIvB,oDAAJ,CAAsB;IAClCQ,WAAW,EAAE,IADqB;IAElCC,OAAO,EAAE,CAFyB;IAGlC7B,KAAK,EAAE,QAH2B;IAIlC+B,IAAI,EAAEV,6CAJ4B;IAKlCc,UAAU,EAAE,IALsB;IAMlCL,SAAS,EAAE;EANuB,CAAtB,CAzBgB;EAiC7B7I,WAAW,EAAE,IAAImI,oDAAJ,CAAsB;IAClCQ,WAAW,EAAE,IADqB;IAElCC,OAAO,EAAE,CAFyB;IAGlC7B,KAAK,EAAEuB,8DAH2B;IAIlCQ,IAAI,EAAEV,6CAJ4B;IAKlCc,UAAU,EAAE,IALsB;IAMlCL,SAAS,EAAE;EANuB,CAAtB,CAjCgB;EAyC7Bc,UAAU,EAAE,IAAIxB,oDAAJ,CAAsB;IACjCQ,WAAW,EAAE,IADoB;IAEjCC,OAAO,EAAE,CAFwB;IAGjC7B,KAAK,EAAE,QAH0B;IAIjC+B,IAAI,EAAEV,6CAJ2B;IAKjCc,UAAU,EAAE,IALqB;IAMjCL,SAAS,EAAE;EANsB,CAAtB,CAzCiB;EAiD7Be,SAAS,EAAE,IAAIzB,oDAAJ,CAAsB;IAChCQ,WAAW,EAAE,IADmB;IAEhCC,OAAO,EAAE,GAFuB;IAGhC7B,KAAK,EAAE,QAHyB;IAIhC+B,IAAI,EAAEV,6CAJ0B;IAKhCc,UAAU,EAAE,IALoB;IAMhCL,SAAS,EAAE;EANqB,CAAtB,CAjDkB;EA0D7BgB,WAAW,EAAE,IAAI1B,oDAAJ,CAAsB;IAClCQ,WAAW,EAAE,IADqB;IAElCC,OAAO,EAAE,GAFyB;IAGlC7B,KAAK,EAAE,OAH2B;IAIlC+B,IAAI,EAAEV,6CAJ4B;IAKlCc,UAAU,EAAE,IALsB;IAMlCL,SAAS,EAAE;EANuB,CAAtB,CA1DgB;EAkE7BiB,WAAW,EAAE,IAAI3B,oDAAJ,CAAsB;IAClCQ,WAAW,EAAE,IADqB;IAElCC,OAAO,EAAE,GAFyB;IAGlC7B,KAAK,EAAE,KAH2B;IAIlC+B,IAAI,EAAEV,6CAJ4B;IAKlCc,UAAU,EAAE,IALsB;IAMlCL,SAAS,EAAE;EANuB,CAAtB;AAlEgB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;ACFP;AACO,IAAMmB,WAAW,GAAG;EAC1BC,OAAO,EAAE,IAAIZ,oDAAJ,CAAsB;IAC9BtC,KAAK,EAAE,QADuB;IAE9BmD,SAAS,EAAE;EAFmB,CAAtB,CADiB;EAK1BC,GAAG,EAAE,IAAId,oDAAJ,CAAsB;IAC1BtC,KAAK,EAAE,OADmB;IAE1BmD,SAAS,EAAE;EAFe,CAAtB,CALqB;EAS1BE,GAAG,EAAE,IAAIf,oDAAJ,CAAsB;IAC1BtC,KAAK,EAAE,OADmB;IAE1BmD,SAAS,EAAE;EAFe,CAAtB,CATqB;EAa1BG,KAAK,EAAE,IAAIhB,oDAAJ,CAAsB;IAC5BtC,KAAK,EAAE,KADqB;IAE5BmD,SAAS,EAAE;EAFiB,CAAtB,CAbmB;EAiB1BI,QAAQ,EAAE,IAAIjB,oDAAJ,CAAsB;IAC/BtC,KAAK,EAAE,KADwB;IAE/BmD,SAAS,EAAE;EAFoB,CAAtB,CAjBgB;EAqB1BK,SAAS,EAAE,IAAIlB,oDAAJ,CAAsB;IAChCtC,KAAK,EAAE,QADyB;IAEhCmD,SAAS,EAAE;EAFqB,CAAtB,CArBe;EA0B1BM,OAAO,EAAE;IACRC,CAAC,EAAE,GADK;IAERC,CAAC,EAAE,CAFK;IAGRxK,CAAC,EAAE,CAHK;IAIRyK,CAAC,EAAE,GAJK;IAKRC,SAAS,EAAE,IALH;IAMRC,SAAS,EAAEC,IAAI,CAACC,EAAL,IAAW,IAAI,EAAf,CANH;IAORC,SAAS,EAAE,GAPH;IAQRC,SAAS,EAAE;EARH,CA1BiB;EAoC1BC,OAAO,EAAE,IAAIhD,sDAAJ,CAAwB;IAChCS,WAAW,EAAE,IADmB;IAEhCC,OAAO,EAAE,CAFuB;IAGhC7B,KAAK,EAAE,QAHyB;IAIhC+B,IAAI,EAAEV,6CAJ0B;IAKhCc,UAAU,EAAE,IALoB;IAMhCL,SAAS,EAAE;EANqB,CAAxB,CApCiB;EA4C1BsC,UAAU,EAAE,IAAIjD,sDAAJ,CAAwB;IACnCS,WAAW,EAAE,IADsB;IAEnCC,OAAO,EAAE,CAF0B;IAGnC7B,KAAK,EAAE,OAH4B;IAInC+B,IAAI,EAAEV,6CAJ6B;IAKnCc,UAAU,EAAE,IALuB;IAMnCL,SAAS,EAAE;EANwB,CAAxB,CA5Cc;EAoD1BuC,KAAK,EAAE,IAAIlD,sDAAJ,CAAwB;IAC9BS,WAAW,EAAE,IADiB;IAE9BC,OAAO,EAAE,CAFqB;IAG9B7B,KAAK,EAAE,OAHuB;IAI9B8B,SAAS,EAAE,IAJmB;IAK9BK,UAAU,EAAE;EALkB,CAAxB,CApDmB;EA2D1BmC,aAAa,EAAE,IAAInD,sDAAJ,CAAwB;IACtCS,WAAW,EAAE,IADyB;IAEtCC,OAAO,EAAE,CAF6B;IAGtC7B,KAAK,EAAE,OAH+B;IAItC8B,SAAS,EAAE,IAJ2B;IAKtCK,UAAU,EAAE;EAL0B,CAAxB,CA3DW;EAkE1BoC,OAAO,EAAE,IAAIvB,qDAAJ,CAAuB;IAC/BhD,KAAK,EAAE,OADwB;IAE/BmD,SAAS,EAAE,CAFoB;IAG/BqB,KAAK,EAAE,CAHwB;IAI/BC,QAAQ,EAAE,GAJqB;IAK/BC,OAAO,EAAE;EALsB,CAAvB,CAlEiB;EAyE1BC,OAAO,EAAE,IAAI3B,qDAAJ,CAAuB;IAC/BhD,KAAK,EAAE,OADwB;IAE/BmD,SAAS,EAAE,CAFoB;IAG/BqB,KAAK,EAAE,CAHwB;IAI/BC,QAAQ,EAAE,IAJqB;IAK/BC,OAAO,EAAE;EALsB,CAAvB;AAzEiB,CAApB;;;;;;;;;;;;;;;;;ACDP;AAEO,IAAMnD,UAAU,GAAG;EACzBsD,KAAK,EAAE,QADkB;EAEzBlD,UAAU,EAAE,IAAIiD,wCAAJ,CAAU,oBAAV,CAFa;EAGzB5C,SAAS,EAAE,IAAI4C,wCAAJ,CAAU,kBAAV,CAHc;EAIzB3C,QAAQ,EAAE,IAAI2C,wCAAJ,CAAU,gBAAV,CAJe;EAKzBE,OAAO,EAAE,IAAIF,wCAAJ,CAAU,oBAAV,CALgB;EAMzBxC,IAAI,EAAE,IAAIwC,wCAAJ,CAAU,mBAAV;AANmB,CAAnB;AAQA,SAASG,WAAT,CAAqBrB,CAArB,EAAwBsB,CAAxB,EAA2BC,CAA3B,EAA8B;EACpC,IAAIjF,KAAK,GAAG,IAAI4E,wCAAJ,EAAZ;EACA5E,KAAK,CAAC0D,CAAN,GAAUA,CAAV;EACA1D,KAAK,CAACgF,CAAN,GAAUA,CAAV;EACAhF,KAAK,CAACiF,CAAN,GAAUA,CAAV;EACA,OAAOjF,KAAP;AACA;;;;;;;;;;;;;;;;;AChBD;AACA;AAEO,IAAMkF,kBAAkB,GAAG;EACjCC,WAAW,EAAE,IAAI/D,oDAAJ,CAAsB;IAClCQ,WAAW,EAAE,IADqB;IAElCC,OAAO,EAAE,GAFyB;IAGlC7B,KAAK,EAAEuB,kEAH2B;IAIlCQ,IAAI,EAAEV,6CAJ4B;IAKlCc,UAAU,EAAE,IALsB;IAMlCL,SAAS,EAAE;EANuB,CAAtB,CADoB;EASjCuD,UAAU,EAAE,IAAIjE,oDAAJ,CAAsB;IACjCQ,WAAW,EAAE,IADoB;IAEjCC,OAAO,EAAE,CAFwB;IAGjC7B,KAAK,EAAEuB,8DAH0B;IAIjCQ,IAAI,EAAEV,6CAJ2B;IAKjCc,UAAU,EAAE,IALqB;IAMjCL,SAAS,EAAE;EANsB,CAAtB,CATqB;EAkBjCoB,OAAO,EAAE,IAAIZ,oDAAJ,CAAsB;IAC9BtC,KAAK,EAAE,IAAI4E,wCAAJ,CAAU,gBAAV,CADuB;IAE9B/C,OAAO,EAAE,GAFqB;IAG9BsB,SAAS,EAAE,CAHmB;IAI9BmC,OAAO,EAAE,OAJqB;IAK9BC,QAAQ,EAAE;EALoB,CAAtB,CAlBwB;EA0BjCC,YAAY,EAAE,IAAIlD,oDAAJ,CAAsB;IACnCtC,KAAK,EAAE,IAAI4E,wCAAJ,CAAU,gBAAV,CAD4B;IAEnC/C,OAAO,EAAE,CAF0B;IAGnCsB,SAAS,EAAE,CAHwB;IAInCmC,OAAO,EAAE,OAJ0B;IAKnCC,QAAQ,EAAE;EALyB,CAAtB,CA1BmB;EAiCjCE,OAAO,EAAE,IAAItE,sDAAJ,CAAwB;IAChCS,WAAW,EAAE,IADmB;IAEhCC,OAAO,EAAE,GAFuB;IAGhC7B,KAAK,EAAEuB,4DAHyB;IAIhCQ,IAAI,EAAEV,6CAJ0B;IAKhCS,SAAS,EAAE,IALqB;IAMhCK,UAAU,EAAE;EANoB,CAAxB,CAjCwB;EAyCjCuD,YAAY,EAAE,IAAIvE,sDAAJ,CAAwB;IACrCS,WAAW,EAAE,IADwB;IAErCC,OAAO,EAAE,CAF4B;IAGrC7B,KAAK,EAAEuB,4DAH8B;IAIrCQ,IAAI,EAAEV,6CAJ+B;IAKrCS,SAAS,EAAE,IAL0B;IAMrCK,UAAU,EAAE;EANyB,CAAxB,CAzCmB;EAiDjCwD,KAAK,EAAE,IAAIxE,sDAAJ,CAAwB;IAC9BS,WAAW,EAAE,IADiB;IAE9BC,OAAO,EAAE,CAFqB;IAG9B7B,KAAK,EAAEuB,4DAHuB;IAI9BQ,IAAI,EAAEV,6CAJwB;IAK9BS,SAAS,EAAE,IALmB;IAM9BK,UAAU,EAAE;EANkB,CAAxB;AAjD0B,CAA3B;;;;;;;;;;;;;;;;ACHP;AAYO,IAAMjD,YAAY,GAAG;EAC3Ba,cAAc,EAAE,wBAAC6B,WAAD,EAAcC,OAAd,EAA0B;IACzC,OAAO,IAAIV,sDAAJ,CAAwB;MAC9BS,WAAW,EAAEA,WADiB;MAE9BC,OAAO,EAAEA,OAFqB;MAG9B7B,KAAK,EAAE,MAAM+D,IAAI,CAACoC,KAAL,CAAWpC,IAAI,CAACqC,MAAL,KAAgB,QAA3B,EAAqCC,QAArC,CAA8C,EAA9C,CAHiB;MAI9BtE,IAAI,EAAEV,6CAJwB;MAK9Bc,UAAU,EAAE,IALkB;MAM9BL,SAAS,EAAE,IANmB,CAO9B;;IAP8B,CAAxB,CAAP;EASA,CAX0B;EAa3BwE,cAAc,EAAE,wBAACC,MAAD,EAAS/X,QAAT,EAAsB;IACrC,IAAI+X,MAAM,CAAC3E,WAAX,EAAwBpT,QAAQ,CAACoT,WAAT,GAAuB2E,MAAM,CAAC3E,WAA9B;IACxB,IAAI2E,MAAM,CAAC1E,OAAX,EAAoBrT,QAAQ,CAACqT,OAAT,GAAmB0E,MAAM,CAAC1E,OAA1B;IACpB,IAAI0E,MAAM,CAACvG,KAAX,EAAkBxR,QAAQ,CAACwR,KAAT,GAAiBuG,MAAM,CAACvG,KAAxB;EAClB,CAjB0B;EAkB3BwG,kBAAkB,EAAE,IAAIrF,sDAAJ,CAAwB;IAC3CnB,KAAK,EAAE,OADoC;IAE3CmC,UAAU,EAAE,KAF+B;IAG3CL,SAAS,EAAE,KAHgC;IAI3C2E,UAAU,EAAE,IAJ+B;IAK3CC,YAAY,EAAE,IAL6B;IAM3CC,WAAW,EAAEf,oDAN8B;IAO3C7D,IAAI,EAAE8D,2CAPqC;IAQ3Ce,WAAW,EAAEd,yDAR8B;IAS3Ce,YAAY,EAAEf,yDAT6B;IAU3CgB,YAAY,EAAEhB,yDAAsBA;EAVO,CAAxB,CAlBO;EA8B3BiB,mBAAmB,EAAE,IAAI5F,sDAAJ,CAAwB;IAC5CnB,KAAK,EAAE,OADqC;IAE5CmC,UAAU,EAAE,KAFgC;IAG5CL,SAAS,EAAE,KAHiC;IAI5C2E,UAAU,EAAE,IAJgC;IAK5CC,YAAY,EAAE,IAL8B;IAM5CC,WAAW,EAAEf,oDAN+B;IAO5C7D,IAAI,EAAEgE,4CAPsC;IAQ5Ca,WAAW,EAAEZ,yDAR+B;IAS5Ca,YAAY,EAAEb,yDAT8B;IAU5Cc,YAAY,EAAEd,yDAAsBA;EAVQ,CAAxB,CA9BM;EA0C3BgB,eAAe,EAAE,IAAI7F,sDAAJ,CAAwB;IACxCnB,KAAK,EAAE,OADiC;IAExC0G,YAAY,EAAE,IAF0B;IAGxCO,UAAU,EAAE,CAH4B;IAIxCN,WAAW,EAAEV,sDAJ2B;IAKxCW,WAAW,EAAEV,mDAL2B;IAMxCW,YAAY,EAAEX,mDAN0B;IAOxCY,YAAY,EAAEZ,mDAAgBA;EAPU,CAAxB;AA1CU,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACNO,IAAMpH,cAAb;EACC,0BAAc;IAAA;;IACb,iBAAc;MACboI,cAAc,EAAE,OADH;MAEbC,MAAM,EAAE,EAFK;MAGbC,QAAQ,EAAE,EAHG;MAIbC,IAAI,EAAE;QACLC,MAAM,EAAE,eADH;QAELC,SAAS,EAAE;MAFN;IAJO,CAAd;EASA;;EAXF;IAAA;IAAA,OAYC,mBAAU9U,KAAV,EAAiB;MAChB,IAAI,CAACA,KAAK,CAAC2G,QAAN,CAAeoO,MAApB,EAA4B;MAC5B,eAAYL,MAAZ,CAAmBtH,IAAnB,CAAwB;QACvB4H,OAAO,EAAEhV,KAAK,CAAC2G,QAAN,CAAeoO,MAAf,CAAsBC,OADR;QAEvBC,WAAW,EAAEjV,KAAK,CAAC2G,QAAN,CAAeoO,MAAf,CAAsBE,WAFZ;QAGvBC,OAAO,EAAElV,KAAK,CAAC2G,QAAN,CAAeoO,MAAf,CAAsBG;MAHR,CAAxB;MAKA,eAAYP,QAAZ,CAAqBvH,IAArB,CAA0BpN,KAAK,CAAC2G,QAAN,CAAeoO,MAAf,CAAsBJ,QAAhD;IACA;EApBF;IAAA;IAAA,OAqBC,sBAAapM,MAAb,EAAqB;MACpB,KAAK,IAAI4M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG5M,MAAM,CAACzM,MAA3B,EAAmCqZ,CAAC,EAApC,EAAwC;QACvC,KAAKC,SAAL,CAAe7M,MAAM,CAAC4M,CAAD,CAArB;MACA;;MACD,IAAME,MAAM,GAAGC,IAAI,CAACC,SAAL,CAAe,cAAf,EAA4B,IAA5B,EAAkC,CAAlC,CAAf;MACA,IAAIC,GAAG,GAAGC,GAAG,CAACC,eAAJ,CAAoB,IAAIC,IAAJ,CAAS,CAACN,MAAD,CAAT,EAAmB;QAAE9U,IAAI,EAAE;MAAR,CAAnB,CAApB,CAAV;MACA,IAAMqV,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;MACAF,IAAI,CAACG,QAAL,GAAgB,WAAW,MAA3B;MACAH,IAAI,CAACI,IAAL,GAAYR,GAAZ;MACAK,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,IAA1B;MACAA,IAAI,CAACO,KAAL;MACAP,IAAI,CAACvY,MAAL;IACA;EAjCF;;EAAA;AAAA;;;;;;;;;;;;;;;;;;+CCCA;;;;;;;;;;;;AADA;;AACA,SAASgZ,IAAT,CAAcC,CAAd,EAAiB;EAChB,OAAO;IAAE/V,IAAI,EAAE,CAAR;IAAW7C,KAAK,EAAE4Y;EAAlB,CAAP;AACA;;AAED,SAASC,GAAT,CAAaD,CAAb,EAAgB;EACf,OAAO;IAAE/V,IAAI,EAAE,CAAR;IAAW7C,KAAK,EAAE4Y;EAAlB,CAAP;AACA;;AAED,SAASE,KAAT,GAAiB;EAChB,OAAO;IAAEjW,IAAI,EAAE;EAAR,CAAP;AACA;;AAED,SAASkW,GAAT,CAAaH,CAAb,EAAgB;EACf,OAAO;IAAE/V,IAAI,EAAE,CAAR;IAAW7C,KAAK,EAAE4Y;EAAlB,CAAP;AACA;;AACD,SAASI,GAAT,CAAaJ,CAAb,EAAgB;EACf,OAAO;IAAE/V,IAAI,EAAE,CAAR;IAAW7C,KAAK,EAAE4Y;EAAlB,CAAP;AACA;;AACM,IAAMK,cAAb;EACC,wBAAYC,OAAZ,EAAqBC,KAArB,EAA4BC,MAA5B,EAAoC;IAAA;;IACnC,KAAKF,OAAL,GAAeA,OAAf;IACA,KAAKC,KAAL,GAAaA,KAAb;IACA,KAAKE,GAAL,GAAWD,MAAX;EACA;;EALF;IAAA;IAAA;MAAA,wEAMC,iBAAYE,UAAZ;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOC,WADP,GACqB;kBACnBC,EAAE,EAAEF,UAAU,CAACG,SADI;kBAEnB5W,IAAI,EAAEyW,UAAU,CAACzW,IAFE;kBAGnB6W,SAAS,EAAEJ,UAAU,CAACK,MAAX;gBAHQ,CADrB;gBAAA;gBAAA,OAOO,KAAKN,GAAL,CAASO,gBAAT,CAA0B,KAAKV,OAA/B,EAAwCK,WAAxC,CAPP;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAND;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,wEAeC,kBAAYM,CAAZ;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOL,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,sDAAJ,CAA2Bc,EAA3B,EAA+Bd,sDAA/B,EAAuD,CAACC,IAAI,CAACkB,CAAC,CAACI,CAAH,CAAL,EAAYtB,IAAI,CAACkB,CAAC,CAACK,CAAH,CAAhB,EAAuBvB,IAAI,CAACkB,CAAC,CAACM,CAAH,CAA3B,CAAvD,CAFZ;gBAAA;gBAAA,OAGO,KAAKC,KAAL,CAAWN,EAAX,CAHP;;cAAA;gBAAA,kCAIQjB,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAfD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,2EAsBC,kBAAea,EAAf;QAAA;;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACoBC,OAAO,CAACC,GAAR,CAAYF,EAAE,CAACza,GAAH,CAAO,UAACia,CAAD;kBAAA,OAAO,KAAI,CAACW,KAAL,CAAWX,CAAX,CAAP;gBAAA,CAAP,CAAZ,CADpB;;cAAA;gBACOY,IADP;gBAEOjB,EAFP,GAEY,KAAKL,KAAL,EAFZ;gBAGOuB,IAHP,GAGc,IAAIhC,gDAAJ,CAAqBc,EAArB,EAAyBd,gDAAzB,EAA2C+B,IAA3C,CAHd;gBAAA;gBAAA,OAIO,KAAKL,KAAL,CAAWM,IAAX,CAJP;;cAAA;gBAAA,kCAKQ7B,GAAG,CAACW,EAAD,CALX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAtBD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,iFA8BC,kBAAqBa,EAArB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOb,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,eAEmBT,sDAFnB;gBAAA,eAE0Cc,EAF1C;gBAAA,eAE8Cd,sDAF9C;gBAAA;gBAAA,OAE4E,KAAKqC,QAAL,CAAcV,EAAd,CAF5E;;cAAA;gBAAA;gBAAA,eAE+FrB,GAAG,CAAC,GAAD,CAFlG;gBAEOgC,KAFP;gBAAA;gBAAA,OAGO,KAAKZ,KAAL,CAAWY,KAAX,CAHP;;cAAA;gBAAA,kCAIQnC,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA9BD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,uEAqCC,kBAAWa,EAAX;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOb,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,eAEkBT,4CAFlB;gBAAA,eAE+Bc,EAF/B;gBAAA,eAEmCd,4CAFnC;gBAAA;gBAAA,OAEwD,KAAKyC,cAAL,CAAoBd,EAApB,CAFxD;;cAAA;gBAAA;gBAAA;gBAEOe,IAFP;gBAAA;gBAAA,OAGO,KAAKhB,KAAL,CAAWgB,IAAX,CAHP;;cAAA;gBAAA,kCAIQvC,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CArCD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,8EA4CC,kBAAkB6B,QAAlB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO7B,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOmC,KAFP,GAEe,IAAI5C,mDAAJ,CAAwBc,EAAxB,EAA4Bd,mDAA5B,EAAiD2C,QAAjD,CAFf;gBAAA;gBAAA,OAGO,KAAKjB,KAAL,CAAWkB,KAAX,CAHP;;cAAA;gBAAA,kCAIQzC,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA5CD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,8EAmDC,kBAAkB6B,QAAlB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO7B,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,eAEkBT,mDAFlB;gBAAA,eAEsCc,EAFtC;gBAAA,eAE0Cd,mDAF1C;gBAAA;gBAAA,OAEqE,KAAKiD,WAAL,CAAiBN,QAAjB,CAFrE;;cAAA;gBAAA;gBAEOO,IAFP;gBAAA;gBAAA,OAGO,KAAKxB,KAAL,CAAWwB,IAAX,CAHP;;cAAA;gBAAA,kCAIQ/C,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAnDD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,4EA0DC,kBAAgBjG,CAAhB,EAAmBsB,CAAnB,EAAsBC,CAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO0E,EADP,GACY,KAAKL,KAAL,EADZ;gBAEO0C,GAFP,GAEa,IAAInD,iDAAJ,CAAsBc,EAAtB,EAA0Bd,iDAA1B,EAA6CI,KAAK,EAAlD,EAAsDH,IAAI,CAACpF,CAAD,CAA1D,EAA+DoF,IAAI,CAAC9D,CAAD,CAAnE,EAAwE8D,IAAI,CAAC7D,CAAD,CAA5E,CAFb;gBAAA;gBAAA,OAGO,KAAKsF,KAAL,CAAWyB,GAAX,CAHP;;cAAA;gBAAA,kCAIQhD,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA1DD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,sFAiEC,kBAA0BjG,CAA1B,EAA6BsB,CAA7B,EAAgCC,CAAhC,EAAmCkH,CAAnC;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOxC,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,eAEiBT,2DAFjB;gBAAA,eAGEc,EAHF;gBAAA,eAIEd,2DAJF;gBAAA;gBAAA,OAKQ,KAAKyD,SAAL,CAAe5I,CAAf,EAAkBsB,CAAlB,EAAqBC,CAArB,CALR;;cAAA;gBAAA;gBAAA,eAME6D,IAAI,CAACqD,CAAD,CANN;gBAEOH,GAFP;gBAAA;gBAAA,OAQO,KAAKzB,KAAL,CAAWyB,GAAX,CARP;;cAAA;gBAAA,kCASQhD,GAAG,CAACW,EAAD,CATX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAjED;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,wFA6EC,mBAA4BjG,CAA5B,EAA+BsB,CAA/B,EAAkCC,CAAlC,EAAqCkH,CAArC;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOxC,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,gBAEiBT,6DAFjB;gBAAA,gBAGEc,EAHF;gBAAA,gBAIEd,6DAJF;gBAAA;gBAAA,OAKQ,KAAKyD,SAAL,CAAe5I,CAAf,EAAkBsB,CAAlB,EAAqBC,CAArB,CALR;;cAAA;gBAAA;gBAAA,gBAME6D,IAAI,CAACqD,CAAD,CANN;gBAAA,gBAOElD,KAAK,EAPP;gBAAA,gBAQEA,KAAK,EARP;gBAAA,gBASEA,KAAK,EATP;gBAAA,gBAUEA,KAAK,EAVP;gBAAA,gBAWEA,KAAK,EAXP;gBAAA,iBAYEA,KAAK,EAZP;gBAAA,iBAaEE,GAAG,CAAC,YAAD,CAbL;gBAEO6C,GAFP;gBAAA;gBAAA,OAeO,KAAKzB,KAAL,CAAWyB,GAAX,CAfP;;cAAA;gBAAA,mCAgBQhD,GAAG,CAACW,EAAD,CAhBX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA7ED;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,+EAgGC,mBAAmB1Z,IAAnB,EAAyByT,CAAzB,EAA4BsB,CAA5B,EAA+BC,CAA/B,EAAkCkH,CAAlC;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOxC,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,gBAEiBT,oDAFjB;gBAAA,gBAEsCc,EAFtC;gBAAA,gBAE0Cd,oDAF1C;gBAAA,gBAEgEK,GAAG,CAACjZ,IAAD,CAFnE;gBAAA,gBAE2EkZ,GAAG,CAACN,wDAAD,CAF9E;gBAAA;gBAAA,OAGQ,KAAKgE,mBAAL,CAAyBnJ,CAAzB,EAA4BsB,CAA5B,EAA+BC,CAA/B,EAAkCkH,CAAlC,CAHR;;cAAA;gBAAA;gBAAA;gBAEOH,GAFP;gBAAA;gBAAA,OAKO,KAAKzB,KAAL,CAAWyB,GAAX,CALP;;cAAA;gBAAA,mCAMQhD,GAAG,CAACW,EAAD,CANX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAhGD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,8FAyGC,mBAAkC1Z,IAAlC,EAAwCyT,CAAxC,EAA2CsB,CAA3C,EAA8CC,CAA9C,EAAiDkH,CAAjD;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOxC,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,gBAEmBT,mEAFnB;gBAAA,gBAEuDc,EAFvD;gBAAA,gBAE2Dd,mEAF3D;gBAAA;gBAAA,OAGQ,KAAKmE,YAAL,CAAkB/c,IAAlB,EAAwByT,CAAxB,EAA2BsB,CAA3B,EAA8BC,CAA9B,EAAiCkH,CAAjC,CAHR;;cAAA;gBAAA;gBAAA;gBAEOc,KAFP;gBAAA;gBAAA,OAKO,KAAK1C,KAAL,CAAW0C,KAAX,CALP;;cAAA;gBAAA,mCAMQjE,GAAG,CAACW,EAAD,CANX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAzGD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,mGAkHC,mBAAuC1Z,IAAvC,EAA6CyT,CAA7C,EAAgDsB,CAAhD,EAAmDC,CAAnD,EAAsDkH,CAAtD;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOxC,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,gBAEmBT,mEAFnB;gBAAA,gBAEuDc,EAFvD;gBAAA,gBAE2Dd,mEAF3D;gBAAA;gBAAA,OAGQ,KAAKqE,oBAAL,CAA0Bjd,IAA1B,EAAgCyT,CAAhC,EAAmCsB,CAAnC,EAAsCC,CAAtC,EAAyCkH,CAAzC,CAHR;;cAAA;gBAAA;gBAAA;gBAEOc,KAFP;gBAAA;gBAAA,OAKO,KAAK1C,KAAL,CAAW0C,KAAX,CALP;;cAAA;gBAAA,mCAMQjE,GAAG,CAACW,EAAD,CANX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAlHD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,uFA2HC,mBAA2B1Z,IAA3B,EAAiCyT,CAAjC,EAAoCsB,CAApC,EAAuCC,CAAvC,EAA0CkH,CAA1C;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOxC,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,gBAEmBT,oDAFnB;gBAAA,gBAEwCc,EAFxC;gBAAA,gBAE4Cd,oDAF5C;gBAAA,gBAEkEK,GAAG,CAACjZ,IAAD,CAFrE;gBAAA,gBAE6EkZ,GAAG,CAAC,MAAD,CAFhF;gBAAA;gBAAA,OAGQ,KAAKgE,qBAAL,CAA2BzJ,CAA3B,EAA8BsB,CAA9B,EAAiCC,CAAjC,EAAoCkH,CAApC,CAHR;;cAAA;gBAAA;gBAAA;gBAEOc,KAFP;gBAAA;gBAAA,OAKO,KAAK1C,KAAL,CAAW0C,KAAX,CALP;;cAAA;gBAAA,mCAMQjE,GAAG,CAACW,EAAD,CANX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA3HD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,6EAoIC,mBAAiByD,IAAjB,EAAuBH,KAAvB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOtD,EADP,GACY,KAAKL,KAAL,EADZ;gBAEO+D,CAFP,GAEW,IAAIxE,kDAAJ,CAAuBc,EAAvB,EAA2Bd,kDAA3B,EAA+CuE,IAA/C,EAAqD,CAACH,KAAD,CAArD,EAA8DhE,KAAK,EAAnE,CAFX;gBAAA;gBAAA,OAGO,KAAKsB,KAAL,CAAW8C,CAAX,CAHP;;cAAA;gBAAA,mCAIQrE,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CApID;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,oFA2IC,mBAAwBsD,KAAxB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOtD,EADP,GACY,KAAKL,KAAL,EADZ;gBAEO+D,CAFP,GAEW,IAAIxE,kDAAJ,CAAuBc,EAAvB,EAA2Bd,kDAA3B,EAA+CI,KAAK,EAApD,EAAwD,CAACgE,KAAD,CAAxD,EAAiEhE,KAAK,EAAtE,CAFX;gBAAA;gBAAA,OAGO,KAAKsB,KAAL,CAAW8C,CAAX,CAHP;;cAAA;gBAAA,mCAIQrE,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA3ID;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,8FAkJC,mBAAkC6D,OAAlC,EAA2Cvd,IAA3C,EAAiDwd,WAAjD,EAA8DR,KAA9D;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOtD,EADP,GACY,KAAKL,KAAL,EADZ;gBAEO+D,CAFP,GAEW,IAAIxE,4DAAJ,CACTc,EADS,EAETd,4DAFS,EAGT2E,OAHS,EAITtE,GAAG,CAACjZ,IAAD,CAJM,EAKTiZ,GAAG,CAACuE,WAAD,CALM,EAMTR,KANS,CAFX;gBAAA;gBAAA,OAUO,KAAK1C,KAAL,CAAW8C,CAAX,CAVP;;cAAA;gBAAA,mCAWQrE,GAAG,CAACW,EAAD,CAXX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAlJD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,4EAgKC,mBAAgBiE,QAAhB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOjE,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOuE,KAFP,GAEe,IAAIhF,2DAAJ,CACbc,EADa,EAEbd,2DAFa,EAGbI,KAAK,EAHQ,EAIbC,GAAG,CAAC,MAAD,CAJU,EAKbA,GAAG,CAAC,MAAD,CALU,EAMb0E,QANa,CAFf;gBAAA;gBAAA,OAUO,KAAKrD,KAAL,CAAWsD,KAAX,CAVP;;cAAA;gBAAA,mCAWQ7E,GAAG,CAACW,EAAD,CAXX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAhKD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,yFA8KC,mBAA6BqE,SAA7B;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOrE,EADP,GACY,KAAKL,KAAL,EADZ;gBAEO2E,GAFP,GAEa,IAAIpF,8DAAJ,CAAmCc,EAAnC,EAAuCd,8DAAvC,EAAuEI,KAAK,EAA5E,EAAgFA,KAAK,EAArF,EAAyF+E,SAAzF,CAFb;gBAAA;gBAAA,OAGO,KAAKzD,KAAL,CAAW0D,GAAX,CAHP;;cAAA;gBAAA,mCAIQjF,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA9KD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,0EAqLC,mBAAcyE,WAAd,EAA2BC,MAA3B,EAAmCC,YAAnC,EAAiDC,SAAjD;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO5E,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAImE,WAAJ,CACVzE,EADU,EAEV0E,MAFU,EAGVnF,GAAG,CAACnF,IAAI,CAACqC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BmI,SAA3B,CAAqC,CAArC,EAAwC,CAAxC,CAAD,CAHO,EAIVvF,KAAK,EAJK,EAKVC,GAAG,CAAC,MAAD,CALO,EAMVD,KAAK,EANK,EAOVC,GAAG,CAAC,OAAD,CAPO,EAQVqF,SARU,EASVD,YATU,EAUVpF,GAAG,CAAC,EAAD,CAVO,EAWVD,KAAK,EAXK,CAFZ;gBAAA;gBAAA,OAeO,KAAKsB,KAAL,CAAWN,EAAX,CAfP;;cAAA;gBAAA,mCAgBQjB,GAAG,CAACW,EAAD,CAhBX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CArLD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,2EAwMC,mBAAe0E,MAAf,EAAuBE,SAAvB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO5E,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,gDAAJ,CACVc,EADU,EAEV0E,MAFU,EAGVnF,GAAG,CAACnF,IAAI,CAACqC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BqI,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAD,CAHO,EAIVzF,KAAK,EAJK,EAKVC,GAAG,CAAC,MAAD,CALO,EAMVA,GAAG,CAAC,aAAD,CANO,EAOVA,GAAG,CAAC,OAAD,CAPO,EAQVqF,SARU,EASVtF,KAAK,EATK,EAUVC,GAAG,CAAC,EAAD,CAVO,EAWVC,GAAG,CAACN,sEAAD,CAXO,EAYVI,KAAK,EAZK,EAaVA,KAAK,EAbK,EAcVA,KAAK,EAdK,CAFZ;gBAAA;gBAAA,OAkBO,KAAKsB,KAAL,CAAWN,EAAX,CAlBP;;cAAA;gBAAA,mCAmBQjB,GAAG,CAACW,EAAD,CAnBX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAxMD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,iFA8NC,mBAAqB0E,MAArB,EAA6BE,SAA7B;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO5E,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,sDAAJ,CACVc,EADU,EAEV0E,MAFU,EAGVnF,GAAG,CAACnF,IAAI,CAACqC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BqI,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAD,CAHO,EAIVzF,KAAK,EAJK,EAKVC,GAAG,CAAC,MAAD,CALO,EAMVA,GAAG,CAAC,aAAD,CANO,EAOVA,GAAG,CAAC,OAAD,CAPO,EAQVqF,SARU,EASVtF,KAAK,EATK,EAUVC,GAAG,CAAC,EAAD,CAVO,EAWVC,GAAG,CAACN,sEAAD,CAXO,EAYVI,KAAK,EAZK,CAFZ;gBAAA;gBAAA,OAgBO,KAAKsB,KAAL,CAAWN,EAAX,CAhBP;;cAAA;gBAAA,mCAiBQjB,GAAG,CAACW,EAAD,CAjBX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA9ND;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,uEAkPC,mBAAW0E,MAAX,EAAmBE,SAAnB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO5E,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,4CAAJ,CACVc,EADU,EAEV0E,MAFU,EAGVnF,GAAG,CAACnF,IAAI,CAACqC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BqI,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAD,CAHO,EAIVzF,KAAK,EAJK,EAKVC,GAAG,CAAC,MAAD,CALO,EAMVA,GAAG,CAAC,aAAD,CANO,EAOVA,GAAG,CAAC,OAAD,CAPO,EAQVqF,SARU,EASVtF,KAAK,EATK,EAUVC,GAAG,CAAC,EAAD,CAVO,EAWVC,GAAG,CAACN,sEAAD,CAXO,EAYVI,KAAK,EAZK,EAaVA,KAAK,EAbK,EAcVA,KAAK,EAdK,EAeVA,KAAK,EAfK,EAgBVA,KAAK,EAhBK,CAFZ;gBAAA;gBAAA,OAoBO,KAAKsB,KAAL,CAAWN,EAAX,CApBP;;cAAA;gBAAA,mCAqBQjB,GAAG,CAACW,EAAD,CArBX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAlPD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,iGA0QC,mBAAqC0E,MAArC,EAA6CU,cAA7C,EAA6DC,YAA7D;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOrF,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,sEAAJ,CACVc,EADU,EAEV0E,MAFU,EAGVnF,GAAG,CAACnF,IAAI,CAACqC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BqI,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAD,CAHO,EAIVzF,KAAK,EAJK,EAKVC,GAAG,CAAC,MAAD,CALO,EAMVA,GAAG,CAAC,aAAD,CANO,EAOV8F,YAPU,EAQVD,cARU,CAFZ;gBAAA;gBAAA,OAYO,KAAKxE,KAAL,CAAWN,EAAX,CAZP;;cAAA;gBAAA,mCAaQjB,GAAG,CAACW,EAAD,CAbX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA1QD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,gFA0RC,mBAAoB0E,MAApB,EAA4Ba,OAA5B,EAAqCF,YAArC;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOrF,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,qDAAJ,CACVc,EADU,EAEV0E,MAFU,EAGVnF,GAAG,CAACnF,IAAI,CAACqC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BqI,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAD,CAHO,EAIVzF,KAAK,EAJK,EAKVC,GAAG,CAAC,MAAD,CALO,EAMVA,GAAG,CAAC,aAAD,CANO,EAOVgG,OAPU,EAQVF,YARU,CAFZ;gBAAA;gBAAA,OAYO,KAAKzE,KAAL,CAAWN,EAAX,CAZP;;cAAA;gBAAA,mCAaQjB,GAAG,CAACW,EAAD,CAbX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA1RD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,sEA0SC,mBAAUK,CAAV;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOL,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,iDAAJ,CAAsBc,EAAtB,EAA0Bd,iDAA1B,EAA6C,CAACC,IAAI,CAACkB,CAAC,CAACI,CAAH,CAAL,EAAYtB,IAAI,CAACkB,CAAC,CAACK,CAAH,CAAhB,EAAuBvB,IAAI,CAACkB,CAAC,CAACM,CAAH,CAA3B,CAA7C,CAFZ;gBAAA;gBAAA,OAGO,KAAKC,KAAL,CAAWN,EAAX,CAHP;;cAAA;gBAAA,mCAIQjB,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA1SD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,0EAiTC,mBAAc2F,GAAd;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO3F,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,sDAAJ,CAA2Bc,EAA3B,EAA+Bd,sDAA/B,EAAuD,CAACC,IAAI,CAACkB,CAAC,CAACI,CAAH,CAAL,EAAYtB,IAAI,CAACkB,CAAC,CAACK,CAAH,CAAhB,CAAvD,CAFZ;gBAAA;gBAAA,OAGO,KAAKE,KAAL,CAAWN,EAAX,CAHP;;cAAA;gBAAA,mCAIQjB,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAjTD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,gFAwTC,mBAAoBK,CAApB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAC0B,KAAKW,KAAL,CAAWX,CAAX,CAD1B;;cAAA;gBACOuF,UADP;gBAEO5F,EAFP,GAEY,KAAKL,KAAL,EAFZ;gBAGOW,EAHP,GAGY,IAAIpB,wDAAJ,CAA6Bc,EAA7B,EAAiCd,wDAAjC,EAA2D0G,UAA3D,EAAuEtG,KAAK,EAA5E,EAAgFA,KAAK,EAArF,CAHZ;gBAAA;gBAAA,OAIO,KAAKsB,KAAL,CAAWN,EAAX,CAJP;;cAAA;gBAAA,mCAKQjB,GAAG,CAACW,EAAD,CALX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAxTD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,kFAgUC,mBAAsBK,CAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAC0B,KAAK0F,OAAL,CAAa1F,CAAb,CAD1B;;cAAA;gBACOuF,UADP;gBAEO5F,EAFP,GAEY,KAAKL,KAAL,EAFZ;gBAGOW,EAHP,GAGY,IAAIpB,wDAAJ,CAA6Bc,EAA7B,EAAiCd,wDAAjC,EAA2D0G,UAA3D,EAAuEtG,KAAK,EAA5E,CAHZ;gBAAA;gBAAA,OAIO,KAAKsB,KAAL,CAAWN,EAAX,CAJP;;cAAA;gBAAA,mCAKQjB,GAAG,CAACW,EAAD,CALX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAhUD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,4EAwUC,mBAAgBK,CAAhB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACsB,KAAK6F,aAAL,CAAmB7F,CAAnB,CADtB;;cAAA;gBACO8F,MADP;gBAEOnG,EAFP,GAEY,KAAKL,KAAL,EAFZ;gBAGOW,EAHP,GAGY,IAAIpB,sDAAJ,CAA2Bc,EAA3B,EAA+Bd,sDAA/B,EAAuDI,KAAK,EAA5D,EAAgE6G,MAAhE,CAHZ;gBAAA;gBAAA,OAIO,KAAKvF,KAAL,CAAWN,EAAX,CAJP;;cAAA;gBAAA,mCAKQjB,GAAG,CAACW,EAAD,CALX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAxUD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,gFAgVC,mBAAoBsG,GAApB,EAAyBjG,CAAzB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOL,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,gBAEgBT,wDAFhB;gBAAA,gBAGEc,EAHF;gBAAA,gBAIEd,wDAJF;gBAAA,gBAKEM,GAAG,CAACN,4DAAD,CALL;gBAAA,gBAMEK,GAAG,CAAC,eAAD,CANL;gBAAA;gBAAA,OAOQ,KAAKoH,eAAL,CAAqBtG,CAArB,CAPR;;cAAA;gBAAA;gBAAA,gBAQElB,IAAI,CAACmH,GAAD,CARN;gBAEOhG,EAFP;gBAAA;gBAAA,OAUO,KAAKM,KAAL,CAAWN,EAAX,CAVP;;cAAA;gBAAA,mCAWQjB,GAAG,CAACW,EAAD,CAXX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAhVD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,0EA8VC,mBAAc6D,OAAd,EAAuBvd,IAAvB,EAA6Bwd,WAA7B;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO9D,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,gBAEgBT,+CAFhB;gBAAA,gBAGEc,EAHF;gBAAA,gBAIEd,+CAJF;gBAAA,gBAKEK,GAAG,CAACnF,IAAI,CAACqC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BqI,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAD,CALL;gBAAA,gBAMEzF,KAAK,EANP;gBAAA,gBAOEC,GAAG,CAACjZ,IAAD,CAPL;gBAAA,gBAQEiZ,GAAG,CAACuE,WAAD,CARL;gBAAA,gBASExE,KAAK,EATP;gBAAA,gBAUEA,KAAK,EAVP;gBAAA,gBAWEA,KAAK,EAXP;gBAAA,iBAYE,CAACuE,OAAD,CAZF;gBAAA;gBAAA,OAaQ,KAAKiD,cAAL,EAbR;;cAAA;gBAAA;gBAEOxG,EAFP;gBAAA;gBAAA,OAeO,KAAKM,KAAL,CAAWN,EAAX,CAfP;;cAAA;gBAAA,mCAgBQjB,GAAG,CAACW,EAAD,CAhBX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA9VD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,wFAiXC,mBAA4B+G,GAA5B,EAAiCC,KAAjC;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOhH,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,gBAEgBT,sEAFhB;gBAAA,gBAGEc,EAHF;gBAAA,gBAIEd,sEAJF;gBAAA,gBAKEK,GAAG,CAAC,OAAD,CALL;gBAAA,gBAMED,KAAK,EANP;gBAAA,gBAOEH,IAAI,CAAC,CAAD,CAPN;gBAAA,gBAQEA,IAAI,CAAC,IAAD,CARN;gBAAA;gBAAA,OASQ,KAAK+G,aAAL,CAAmBa,GAAnB,CATR;;cAAA;gBAAA;gBAAA;gBAAA,OAUQ,KAAKI,GAAL,CAASH,KAAT,CAVR;;cAAA;gBAAA;gBAEO1G,EAFP;gBAAA;gBAAA,OAYO,KAAKM,KAAL,CAAWN,EAAX,CAZP;;cAAA;gBAAA,mCAaQjB,GAAG,CAACW,EAAD,CAbX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAjXD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,2FAiYC,mBAA+B6D,OAA/B,EAAwCuD,UAAxC,EAAoDtD,WAApD,EAAiEuD,UAAjE;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOrH,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,yEAAJ,CACVc,EADU,EAEVd,yEAFU,EAGVK,GAAG,CAAC6H,UAAD,CAHO,EAIV7H,GAAG,CAACuE,WAAD,CAJO,EAKVvE,GAAG,CAAC,GAAD,CALO,EAMVA,GAAG,CAAC,GAAD,CANO,EAOVA,GAAG,CAAC,GAAD,CAPO,EAQVA,GAAG,CAAC,GAAD,CARO,EASVsE,OATU,EAUVvE,KAAK,EAVK,EAWVE,GAAG,CAAC6H,UAAD,CAXO,EAYV/H,KAAK,EAZK,CAFZ;gBAAA;gBAAA,OAgBO,KAAKsB,KAAL,CAAWN,EAAX,CAhBP;;cAAA;gBAAA,mCAiBQjB,GAAG,CAACW,EAAD,CAjBX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAjYD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,iFAqZC;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOA,EADP,GACY,KAAKL,KAAL,EADZ;gBAEO6H,GAFP,GAEa,EAFb;gBAAA,gBAGCA,GAHD;gBAAA;gBAAA,OAGgB,KAAKC,MAAL,CAAYjI,GAAG,CAACN,2DAAD,CAAf,EAA8CM,GAAG,CAACN,wDAAD,CAAjD,CAHhB;;cAAA;gBAAA;;gBAAA,cAGKhJ,IAHL;;gBAAA,gBAICsR,GAJD;gBAAA;gBAAA,OAIgB,KAAKC,MAAL,CAAYjI,GAAG,CAACN,yDAAD,CAAf,EAA4CM,GAAG,CAACN,+DAAD,CAA/C,CAJhB;;cAAA;gBAAA;;gBAAA,cAIKhJ,IAJL;;gBAAA,gBAKCsR,GALD;gBAAA;gBAAA,OAKgB,KAAKC,MAAL,CAAYjI,GAAG,CAACN,2DAAD,CAAf,EAA8CM,GAAG,CAACN,8DAAD,CAAjD,CALhB;;cAAA;gBAAA;;gBAAA,cAKKhJ,IALL;;gBAAA,gBAMCsR,GAND;gBAAA;gBAAA,OAMgB,KAAKC,MAAL,CAAYjI,GAAG,CAACN,yDAAD,CAAf,EAA4CM,GAAG,CAACN,uDAAD,CAA/C,CANhB;;cAAA;gBAAA;;gBAAA,cAMKhJ,IANL;;gBAAA,gBAOCsR,GAPD;gBAAA;gBAAA,OAOgB,KAAKC,MAAL,CAAYjI,GAAG,CAACN,+DAAD,CAAf,EAAkDM,GAAG,CAACN,4DAAD,CAArD,CAPhB;;cAAA;gBAAA;;gBAAA,cAOKhJ,IAPL;;gBAAA,iBAQCsR,GARD;gBAAA;gBAAA,OAQgB,KAAKC,MAAL,CAAYjI,GAAG,CAACN,yDAAD,CAAf,EAA4CM,GAAG,CAACN,yDAAD,CAA/C,CARhB;;cAAA;gBAAA;;gBAAA,eAQKhJ,IARL;;gBAAA,iBASCsR,GATD;gBAAA;gBAAA,OAUQ,KAAKC,MAAL,CACLjI,GAAG,CAACN,6EAAD,CADE,EAELM,GAAG,CAACN,iEAAD,CAFE,CAVR;;cAAA;gBAAA;;gBAAA,eASKhJ,IATL;;gBAAA,iBAeCsR,GAfD;gBAAA;gBAAA,OAegB,KAAKC,MAAL,CAAYjI,GAAG,CAACN,sEAAD,CAAf,EAAyDM,GAAG,CAACN,wDAAD,CAA5D,CAfhB;;cAAA;gBAAA;;gBAAA,eAeKhJ,IAfL;;gBAgBOoK,EAhBP,GAgBY,IAAIpB,sDAAJ,CAA2Bc,EAA3B,EAA+Bd,sDAA/B,EAAuDsI,GAAvD,CAhBZ;gBAAA;gBAAA,OAiBO,KAAK5G,KAAL,CAAWN,EAAX,CAjBP;;cAAA;gBAAA,mCAkBQjB,GAAG,CAACW,EAAD,CAlBX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CArZD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,yEA0aC,mBAAahZ,IAAb,EAAmBV,IAAnB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACO0Z,EADP,GACY,KAAKL,KAAL,EADZ;gBAEOW,EAFP,GAEY,IAAIpB,8CAAJ,CAAmBc,EAAnB,EAAuBd,8CAAvB,EAAuCI,KAAK,EAA5C,EAAgDtY,IAAhD,EAAsDsY,KAAK,EAA3D,EAA+DhZ,IAA/D,CAFZ;gBAAA;gBAAA,OAGO,KAAKsa,KAAL,CAAWN,EAAX,CAHP;;cAAA;gBAAA,mCAIQjB,GAAG,CAACW,EAAD,CAJX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CA1aD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,oFAibC,mBAAwB+G,GAAxB,EAA6BiC,GAA7B,EAAkC1C,GAAlC,EAAuC2C,GAAvC;QAAA;QAAA;UAAA;YAAA;cAAA;gBACOjJ,EADP,GACY,KAAKL,KAAL,EADZ;gBAAA,gBAEgBT,yDAFhB;gBAAA,gBAGEc,EAHF;gBAAA,gBAIEd,yDAJF;gBAAA;gBAAA,OAKQ,KAAKkK,aAAL,CAAmB9C,GAAnB,EAAwB;kBAAE7F,CAAC,EAAE,CAAL;kBAAQC,CAAC,EAAE;gBAAX,CAAxB,CALR;;cAAA;gBAAA;gBAAA;gBAAA,OAMQ,KAAKwF,aAAL,CAAmBa,GAAnB,CANR;;cAAA;gBAAA;gBAAA;gBAAA,OAOQ,KAAKI,GAAL,CAAS6B,GAAT,CAPR;;cAAA;gBAAA;gBAAA,gBAQE7J,IAAI,CAAC8J,GAAD,CARN;gBAEO3I,EAFP;gBAAA;gBAAA,OAUO,KAAKM,KAAL,CAAWN,EAAX,CAVP;;cAAA;gBAAA,mCAWQjB,GAAG,CAACW,EAAD,CAXX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAjbD;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBA;AAYA;AACO,IAAMvY,SAAS,GAAG;EACxB6B,OAAO,EAAE,CADe;EAExBE,KAAK,EAAE,CAFiB;EAGxBD,OAAO,EAAE,CAHe;EAIxBkI,IAAI,EAAE,CAJkB;EAKxBE,KAAK,EAAE;AALiB,CAAlB;AAQA,IAAM7H,QAAQ,GAAG;EACvBigB,IAAI,EAAE,CADiB;EAEvB9e,IAAI,EAAE,CAFiB;EAGvBI,MAAM,EAAE,CAHe;EAIvBG,GAAG,EAAE,CAJkB;EAKvBG,IAAI,EAAE,CALiB;EAMvBG,SAAS,EAAE,CANY;EAOvBK,OAAO,EAAE,CAPc;EAQvBkB,KAAK,EAAE,CARgB;EASvBG,IAAI,EAAE,CATiB;EAUvBF,IAAI,EAAE,CAViB;EAWvBC,MAAM,EAAE,EAXe;EAYvBpC,SAAS,EAAE;AAZY,CAAjB;AAcA,IAAM4B,cAAb;EAIC,wBAAY1D,IAAZ,EAAkBgI,MAAlB,EAA0BrE,IAA1B,EAAgChG,IAAhC,EAAsC;IAAA;;IAAA,qCAHxB,EAGwB;;IAAA,0CAFnB,EAEmB;;IAAA;;IACrC,KAAKgG,IAAL,GAAYA,IAAZ;IACA,KAAK3D,IAAL,GAAYA,IAAZ;IACA,KAAKgI,MAAL,GAAcA,MAAd;IACA,KAAKrK,IAAL,GAAYA,IAAZ;EACA;;EATF;IAAA;IAAA,OAUC,mBAAU;MACT,IAAIwP,KAAK,GAAG,IAAZ;;MACAA,KAAK,CAACtF,WAAN,CAAkBpL,OAAlB,CAA0B,UAAC+Q,CAAD,EAAO;QAChCA,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBnR,MAApB,CAA2BqQ,KAAK,CAACxJ,IAAN,CAAW0I,KAAtC;QACAmB,CAAC,CAACO,gBAAF;MACA,CAHD;;MAIAZ,KAAK,CAACtF,WAAN,GAAoB,EAApB;IACA;EAjBF;IAAA;IAAA,OAkBC,8BAAqB;MACpB,IAAI,KAAK4Y,WAAT,EAAsB;QACrB,KAAKE,gBAAL,GAAwB,EAAxB;QACA,IAAI,KAAKF,WAAL,CAAiBra,QAAjB,CAA0B0H,OAA9B,EAAuC,KAAK2S,WAAL,CAAiBra,QAAjB,CAA0B0H,OAA1B,CAAkCC,gBAAlC;QACvC,KAAK0S,WAAL,CAAiB1S,gBAAjB;QACA,KAAK0S,WAAL,GAAmB,IAAnB;MACA;IACD;EAzBF;IAAA;IAAA,OA0BC,qBAAYpgB,OAAZ,EAAqB;MACpB,KAAKwH,WAAL,GAAmBxH,OAAnB;;MACA,KAAK,IAAIuU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvU,OAAO,CAAC9E,MAA5B,EAAoCqZ,CAAC,EAArC,EAAyC;QACxC,KAAKjR,IAAL,CAAU0I,KAAV,CAAgBxP,GAAhB,CAAoBwD,OAAO,CAACuU,CAAD,CAA3B;MACA;;MACD,KAAKgM,kBAAL;IACA;EAhCF;IAAA;IAAA,OAiCC,2BAAkBC,GAAlB,EAAuB/e,SAAvB,EAAkCwL,QAAlC,EAA4C;MAC3C,IAAIH,KAAK,GAAG,IAAZ;;MACA6S,mDAAQ,CAAC7S,KAAK,CAACxJ,IAAP,EAAawJ,KAAK,CAACxP,IAAnB,EAAyBkjB,GAAzB,EAA8B/e,SAA9B,EAAyC,UAACgf,IAAD,EAAU;QAC1D3T,KAAK,CAACtF,WAAN,GAAoBsF,KAAK,CAACtF,WAAN,CAAkBkZ,MAAlB,CAAyBD,IAAzB,CAApB;QACAxT,QAAQ;MACR,CAHO,CAAR;IAIA;EAvCF;IAAA;IAAA,OAwCC,6BAAoBuT,GAApB,EAAyB/e,SAAzB,EAAoCwL,QAApC,EAA8C;MAC7C,IAAIH,KAAK,GAAG,IAAZ;;MACA8S,qDAAU,CAAC9S,KAAK,CAACxJ,IAAP,EAAawJ,KAAK,CAACxP,IAAnB,EAAyBkjB,GAAzB,EAA8B/e,SAA9B,EAAyC,UAACgf,IAAD,EAAU;QAC5D3T,KAAK,CAACtF,WAAN,GAAoBsF,KAAK,CAACtF,WAAN,CAAkBkZ,MAAlB,CAAyBD,IAAzB,CAApB;QACAxT,QAAQ;MACR,CAHS,CAAV;IAIA;EA9CF;IAAA;IAAA,OA+CC,0BAAiBuT,GAAjB,EAAsB/e,SAAtB,EAAiCwL,QAAjC,EAA2C;MAC1C,IAAIH,KAAK,GAAG,IAAZ;;MACA+S,kDAAO,CAAC/S,KAAK,CAACxJ,IAAP,EAAawJ,KAAK,CAACxP,IAAnB,EAAyBkjB,GAAzB,EAA8B/e,SAA9B,EAAyC,UAACgf,IAAD,EAAU;QACzD3T,KAAK,CAACtF,WAAN,GAAoBsF,KAAK,CAACtF,WAAN,CAAkBkZ,MAAlB,CAAyBD,IAAzB,CAApB;QACAxT,QAAQ;MACR,CAHM,CAAP;IAIA;EArDF;IAAA;IAAA,OAsDC,2BAAkBuT,GAAlB,EAAuB/e,SAAvB,EAAkCwL,QAAlC,EAA4C;MAC3C,IAAIH,KAAK,GAAG,IAAZ;;MACAgT,mDAAQ,CAAChT,KAAK,CAACxJ,IAAP,EAAawJ,KAAK,CAACxP,IAAnB,EAAyBkjB,GAAzB,EAA8B/e,SAA9B,EAAyC,UAACgf,IAAD,EAAU;QAC1D3T,KAAK,CAACtF,WAAN,GAAoBsF,KAAK,CAACtF,WAAN,CAAkBkZ,MAAlB,CAAyBD,IAAzB,CAApB;QACAxT,QAAQ;MACR,CAHO,CAAR;IAIA;EA5DF;IAAA;IAAA,OA6DC,gCAAuBuT,GAAvB,EAA4B/e,SAA5B,EAAuCwL,QAAvC,EAAiD;MAChD,IAAIH,KAAK,GAAG,IAAZ;;MACAiT,wDAAa,CAACjT,KAAK,CAACxJ,IAAP,EAAawJ,KAAK,CAACxP,IAAnB,EAAyBkjB,GAAzB,EAA8B/e,SAA9B,EAAyC,UAACgf,IAAD,EAAU;QAC/D3T,KAAK,CAACtF,WAAN,GAAoBsF,KAAK,CAACtF,WAAN,CAAkBkZ,MAAlB,CAAyBD,IAAzB,CAApB;QACAxT,QAAQ;MACR,CAHY,CAAb;IAIA;EAnEF;IAAA;IAAA,OAoEC,8BAAqBuT,GAArB,EAA0B/e,SAA1B,EAAqCwL,QAArC,EAA+C;MAC9C,IAAIH,KAAK,GAAG,IAAZ;;MACAkT,sDAAW,CAAClT,KAAK,CAACxJ,IAAP,EAAawJ,KAAK,CAACxP,IAAnB,EAAyBkjB,GAAzB,EAA8B/e,SAA9B,EAAyC,UAACgf,IAAD,EAAU;QAC7D3T,KAAK,CAACtF,WAAN,GAAoBsF,KAAK,CAACtF,WAAN,CAAkBkZ,MAAlB,CAAyBD,IAAzB,CAApB;QACAxT,QAAQ;MACR,CAHU,CAAX;IAIA;EA1EF;IAAA;IAAA,OA4EC,0BAAiBA,QAAjB,EAA2B;MAC1B,IAAIH,KAAK,GAAG,IAAZ;;MACAA,KAAK,CAACwT,gBAAN,GAAyB,EAAzB;MACAxT,KAAK,CAACsT,WAAN,GAAoB,IAApB;MACAD,kEAAA,CAA4BrT,KAAK,CAACtF,WAAlC,EAA+C,UAACoZ,IAAD,EAAU;QACxD,IAAI,CAACA,IAAI,CAACjY,MAAV,EAAkB;UACjB,IAAIiY,IAAI,CAAC7M,QAAT,EAAmB;YAClB,IAAI8M,IAAI,GAAG/T,KAAK,CAACxJ,IAAN,CAAWwd,QAAX,CAAoB/kB,MAA/B;YACA,IAAIglB,IAAI,GAAGH,IAAI,CAAC7M,QAAL,CAAchO,QAAd,CAAuB6H,QAAvB,CAAgCoT,KAAhC,CAAsCC,QAAjD;YACA,IAAMC,KAAK,GAAG,IAAI7V,oDAAJ,CAAU;cAAEgS,GAAG,EAAEwD;YAAP,CAAV,EAAyBM,EAAzB,CAA4B;cAAE9D,GAAG,EAAE0D;YAAP,CAA5B,EAA2C,GAA3C,EAAgDK,QAAhD,CAAyD,UAACC,MAAD,EAAY;cAClFvU,KAAK,CAACxJ,IAAN,CAAWwd,QAAX,CAAoB/kB,MAApB,GAA6BslB,MAAM,CAAChE,GAApC;YACA,CAFa,CAAd;YAGA6D,KAAK,CAACI,KAAN;UACA;;UACDrU,QAAQ,CAAC2T,IAAI,CAACjY,MAAN,EAAc,IAAd,CAAR;QACA,CAVD,MAUO;UACNmE,KAAK,CAACwT,gBAAN,GAAyBH,wEAAA,CAAkCrT,KAAK,CAACtF,WAAxC,CAAzB;UACAsF,KAAK,CAACsT,WAAN,GAAoBA,sDAAW,CAACtT,KAAK,CAACwT,gBAAP,EAAyBxT,KAAK,CAACxJ,IAAN,CAAW0I,KAApC,CAA/B;UACAiB,QAAQ,CAAC2T,IAAI,CAACjY,MAAN,EAAcmE,KAAK,CAACtF,WAApB,CAAR;QACA;MACD,CAhBD;IAiBA;EAjGF;IAAA;IAAA,OAmGC,uBAAcxH,OAAd,EAAuBpB,WAAvB,EAAoCkG,KAApC,EAA2C3J,QAA3C,EAAqD;MACpD,KAAKoN,OAAL;MACA,IAAIiZ,QAAQ,GAAG,EAAf;;MACA,KAAK,IAAIjN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+L,gBAAL,CAAsBplB,MAA1C,EAAkDqZ,CAAC,EAAnD,EAAuD;QACtDiN,QAAQ,CAAChV,IAAT,CACC,KAAK8T,gBAAL,CAAsB/L,CAAtB,EACEkN,KADF,GAEEjlB,GAFF,CAEMsI,KAAK,CAAC4c,MAAN,CAAaD,KAAb,GAAqBE,cAArB,CAAoC/iB,WAAW,GAAG,KAAKtB,IAAL,CAAUuM,MAA5D,CAFN,CADD;MAKA;;MACD,KAAKlC,MAAL,CAAY6E,IAAZ,CACCyT,yDAAc,CACb,KAAKK,gBADQ,EAEbkB,QAFa,EAGbxhB,OAHa,EAIb,KAAKogB,WAJQ,EAKbjlB,QALa,EAMb2J,KAAK,CAAC4c,MANO,EAOb,KAAKpe,IAAL,CAAU0I,KAPG,CADf;MAWA,KAAKuU,kBAAL;IACA;EAzHF;IAAA;IAAA,OA2HC,2BAAyBC,GAAzB,EAA8Bld,IAA9B,EAAoC2J,QAApC,EAA8C;MAC7CiT,sDAAW,CAAC5c,IAAD,EAAOkd,GAAP,EAAY,YAAM;QAC5BvT,QAAQ;MACR,CAFU,CAAX;IAGA;EA/HF;;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AAEO,IAAM3B,YAAb;EACC,wBAAc;IAAA;;IACb,KAAKkD,OAAL,GAAe,CAAf;IACA,KAAKuT,SAAL,GAAiB,KAAjB;EACA;;EAJF;IAAA;IAAA,OAMC,cAAKphB,aAAL,EAAoBqhB,YAApB,EAAkC;MACjC,IAAI1e,IAAI,GAAG3C,aAAa,CAAC2C,IAAzB;MACA,IAAI0I,KAAK,GAAGrL,aAAa,CAACqL,KAA1B;;MACA,SAASiW,kBAAT,CAA4BzT,OAA5B,EAAqC;QACpC,IAAI0T,WAAW,GAAGlW,KAAK,CAAClF,QAAN,CAAeoG,MAAf,CAAsB,UAACC,CAAD;UAAA,OAAOA,CAAC,CAACpH,QAAF,CAAWoc,WAAlB;QAAA,CAAtB,CAAlB;QACAD,WAAW,CAAC9lB,OAAZ,CAAoB,UAAC+Q,CAAD,EAAO;UAC1BA,CAAC,CAAChS,QAAF,CAAWqT,OAAX,GAAqBA,OAArB;QACA,CAFD;MAGA;;MAED,KAAK4T,GAAL,GAAW,IAAIR,wCAAJ,CAAQ;QAAES,SAAS,EAAE;MAAb,CAAR,CAAX;MACAL,YAAY,CAAC1M,WAAb,CAAyB,KAAK8M,GAAL,CAASrV,UAAlC;MACA,IAAMuV,aAAa,GAAG,KAAKF,GAAL,CAASG,SAAT,CAAmB,SAAnB,CAAtB;MACAD,aAAa,CAACE,IAAd;;MACA,IAAI1V,KAAK,GAAG,IAAZ;;MACAwV,aAAa,CACX9lB,GADF,CACMsQ,KADN,EACa,SADb,EACwB,CADxB,EAC2B,CAD3B,EAEElQ,IAFF,CAEO,eAFP,EAGEc,QAHF,CAGW,UAACZ,KAAD,EAAW;QACpBmlB,kBAAkB,CAACnlB,KAAD,CAAlB;MACA,CALF;MAMAwlB,aAAa,CACX9lB,GADF,CACM8G,IADN,EACY,eADZ,EAEE1G,IAFF,CAEO,gBAFP,EAGEc,QAHF,CAGW,UAACZ,KAAD,EAAW;QACpBwG,IAAI,CAACmf,eAAL,CAAqB3lB,KAArB;MACA,CALF;IAMA;EAjCF;;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;ACLO,IAAM0O,SAAb;EACC,mBAAYlI,IAAZ,EAAkB;IAAA;;IACjB,KAAKA,IAAL,GAAYA,IAAZ;IACA,KAAK1F,EAAL,GAAU,IAAV;IACA,KAAK1B,CAAL,GAAS,GAAT;IACA,KAAK2N,MAAL,GAAc,GAAd;IACA,KAAK6Y,KAAL,GAAa,GAAb;EACA;;EAPF;IAAA;IAAA,OAQC,kBAAS5lB,KAAT,EAAgB;MACf,KAAK+M,MAAL,GAAc/M,KAAK,IAAI,KAAKZ,CAAd,GAAkB,GAAlB,GAAwB,KAAtC;MACA,KAAKwmB,KAAL,GAAa5lB,KAAb;MACA,KAAKwG,IAAL,CAAUqf,sBAAV,CAAiC,KAAK9Y,MAAtC;IACA;EAZF;;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAWA;AACA;AACA;AASA;AAEO,IAAM0B,SAAb;EAGC,mBAAYjI,IAAZ,EAAkBhG,IAAlB,EAAwB;IAAA;;IAAA,wCAFP,EAEO;;IAAA,+BADhB,EACgB;;IACvB,KAAKgG,IAAL,GAAYA,IAAZ;IACA,KAAKhG,IAAL,GAAYA,IAAZ;IACA,KAAKsmB,kBAAL;IACA,KAAKC,aAAL;IACA,KAAKpe,IAAL,GAAY,KAAZ;EACA;;EATF;IAAA;IAAA,OAWC,2BAAkB7I,IAAlB,EAAwB+C,IAAxB,EAA8B+hB,MAA9B,EAAsC1Q,KAAtC,EAA6C;MAC5C,KAAKnM,cAAL,CAAoB2H,IAApB,CAAyB;QACxB5P,IAAI,EAAEA,IADkB;QAExB+C,IAAI,EAAEA,IAFkB;QAGxB+hB,MAAM,EAAEA,MAHgB;QAIxB1Q,KAAK,EAAEA;MAJiB,CAAzB;IAMA;EAlBF;IAAA;IAAA,OAmBC,8BAAqB;MACpB,KAAK8S,iBAAL,CAAuB,IAAvB,EAA6B,CAA7B,EAAgC,IAAIhC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAhC,EAAsD,IAAIA,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAtD;MACA,KAAKgC,iBAAL,CAAuB,IAAvB,EAA6B,CAA7B,EAAgC,IAAIhC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAhC,EAAsD,IAAIA,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAtD;MACA,KAAKgC,iBAAL,CAAuB,IAAvB,EAA6B,CAA7B,EAAgC,IAAIhC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAhC,EAAsD,IAAIA,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAtD;MACA,KAAKgC,iBAAL,CAAuB,cAAvB,EAAuC,CAAvC,EAA0C,IAAIhC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAA1C,EAAgE,IAAIA,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAhE;IACA;EAxBF;IAAA;IAAA,OAyBC,yBAAgB;MACf,4BAA0B,KAAKjd,cAAL,CAAoB,CAApB,CAA1B;MAAA,IAAQmM,KAAR,yBAAQA,KAAR;MAAA,IAAe0Q,MAAf,yBAAeA,MAAf;MACA,KAAKqC,MAAL,GAAc/S,KAAd;MACA,IAAIlM,KAAK,GAAG,IAAI+c,wCAAJ,CAAU,IAAIC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAV,EAAgC,CAAhC,CAAZ;MACA,KAAKhd,KAAL,GAAaA,KAAK,CAACkf,6BAAN,CAAoCtC,MAApC,EAA4C1Q,KAA5C,CAAb;MACA,KAAKiT,SAAL,GAAiB,KAAKC,aAAL,EAAjB;IACA;EA/BF;IAAA;IAAA,OAgCC,yBAAgB;MACf,yBAAgC,KAAKC,YAAL,EAAhC;MAAA,IAAMC,MAAN,sBAAMA,MAAN;MAAA,IAAcC,EAAd,sBAAcA,EAAd;MAAA,IAAkBC,EAAlB,sBAAkBA,EAAlB;MAAA,IAAsBC,KAAtB,sBAAsBA,KAAtB;;MACA,IAAIC,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCL,MAAnC,CAAf,CAFe,CAGf;;MACA,IAAMM,KAAK,GAAG,IAAI3B,gDAAJ,CAAkByB,QAAlB,CAAd;MACA,IAAMG,IAAI,GAAG,IAAI1B,+CAAJ,CAAiByB,KAAjB,EAAwBxV,gEAAxB,CAAb,CALe,CAMf;;MACA,qBAAyB,KAAK0V,QAAL,CAAcP,EAAd,EAAkBC,EAAlB,CAAzB;MAAA,IAAQO,KAAR,kBAAQA,KAAR;MAAA,IAAeC,KAAf,kBAAeA,KAAf;;MACA,IAAIC,SAAS,GAAGpB,+DAAW,CAAC,KAAKI,MAAN,EAAcT,oDAAd,CAA3B;;MACA,IAAIxW,KAAK,GAAG,IAAZ;;MACA6X,IAAI,CAAC5e,QAAL,CAAckf,IAAd,GAAqB;QACpBJ,KAAK,EAAEA,KADa;QAEpBC,KAAK,EAAEA,KAFa;QAGpBP,KAAK,EAAEA,KAHa;QAIpBQ,SAAS,EAAEA,SAJS;QAKpBG,UAAU,EAAE,oBAACrX,OAAD,EAAa;UACxB,KAAK,IAAI0G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoQ,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBJ,KAAnB,CAAyB3pB,MAA7C,EAAqDqZ,CAAC,EAAtD,EAA0D;YACzD,IAAI1G,OAAJ,EAAa;cACZf,KAAK,CAACxJ,IAAN,CAAW0I,KAAX,CAAiBxP,GAAjB,CAAqBmoB,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBJ,KAAnB,CAAyBtQ,CAAzB,CAArB;;cACAzH,KAAK,CAACxJ,IAAN,CAAW0I,KAAX,CAAiBxP,GAAjB,CAAqBmoB,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBH,KAAnB,CAAyBvQ,CAAzB,CAArB;YACA,CAHD,MAGO;cACNoQ,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBJ,KAAnB,CAAyBtQ,CAAzB,EAA4B7G,gBAA5B;cACAiX,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBH,KAAnB,CAAyBvQ,CAAzB,EAA4B7G,gBAA5B;YACA;UACD;QACD,CAfmB;QAgBpByX,OAAO,EAAE,iBAACd,EAAD,EAAKC,EAAL,EAASC,KAAT,EAAmB;UAC3B,KAAK,IAAIhQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoQ,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBJ,KAAnB,CAAyB3pB,MAA7C,EAAqDqZ,CAAC,EAAtD,EAA0D;YACzDoQ,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBJ,KAAnB,CAAyBtQ,CAAzB,EAA4BiQ,QAA5B,GAAuC,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmC,CAACJ,EAAE,CAAC9P,CAAD,CAAF,CAAM+M,KAAP,EAAc+C,EAAE,CAAC9P,CAAD,CAAF,CAAM6Q,GAApB,CAAnC,CAAvC;YACAT,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBH,KAAnB,CAAyBvQ,CAAzB,EAA4BiQ,QAA5B,GAAuC,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmC,CAACH,EAAE,CAAC/P,CAAD,CAAF,CAAM+M,KAAP,EAAcgD,EAAE,CAAC/P,CAAD,CAAF,CAAM6Q,GAApB,CAAnC,CAAvC;UACA;;UACDT,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBV,KAAnB,GAA2BA,KAA3B;QACA,CAtBmB;QAuBpBc,QAAQ,EAAE,kBAACC,CAAD,EAAO;UAChB,OAAOX,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBV,KAAnB,CAAyBrX,MAAzB,CAAgC,UAAC8M,CAAD;YAAA,OAAOsL,CAAC,CAACC,UAAF,CAAavL,CAAb,KAAmBoJ,2CAA1B;UAAA,CAAhC,CAAP;QACA,CAzBmB;QA0BpBoC,cAAc,EAAE,wBAACF,CAAD,EAAO;UACtB,IAAIG,IAAI,GAAGd,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBI,QAAnB,CAA4BC,CAA5B,EAA+B,CAA/B,CAAX;UACAX,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBF,SAAnB,CAA6Bhf,QAA7B,CAAsCmf,UAAtC,CAAiDpY,KAAK,CAACxJ,IAAN,CAAW0I,KAA5D,EAAmEyZ,IAAI,IAAI,IAA3E;;UACA,IAAIA,IAAJ,EAAU;YACTd,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBF,SAAnB,CAA6Bhf,QAA7B,CAAsC2f,WAAtC,CAAkDD,IAAlD;UACA;;UACD,OAAOA,IAAP;QACA,CAjCmB;QAkCpBE,WAAW,EAAE,uBAAM;UAClBhB,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBF,SAAnB,CAA6Bhf,QAA7B,CAAsCmf,UAAtC,CAAiDpY,KAAK,CAACxJ,IAAN,CAAW0I,KAA5D,EAAmE,KAAnE;QACA,CApCmB;QAqCpB4Z,WAAW,EAAE,uBAAM;UAClBjB,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBF,SAAnB,CAA6BrX,gBAA7B;;UACA,KAAK,IAAI6G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoQ,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBJ,KAAnB,CAAyB3pB,MAA7C,EAAqDqZ,CAAC,EAAtD,EAA0D;YACzDoQ,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBJ,KAAnB,CAAyBtQ,CAAzB,EAA4B7G,gBAA5B;YACAiX,IAAI,CAAC5e,QAAL,CAAckf,IAAd,CAAmBH,KAAnB,CAAyBvQ,CAAzB,EAA4B7G,gBAA5B;UACA,CALiB,CAMlB;;;UACAiX,IAAI,CAACjX,gBAAL;QACA;MA7CmB,CAArB;MA+CAiX,IAAI,CAACH,QAAL,CAAcqB,kBAAd;MACAlB,IAAI,CAACH,QAAL,CAAcsB,qBAAd;MACAnB,IAAI,CAACH,QAAL,CAAcuB,oBAAd;MACApB,IAAI,CAACH,QAAL,CAAcwB,UAAd,GAA2B,IAAI7C,mDAAJ,CAAYwB,IAAI,CAACH,QAAjB,CAA3B;MACA,OAAOG,IAAP;IACA;EA9FF;IAAA;IAAA,OA+FC,kBAASN,EAAT,EAAaC,EAAb,EAAiB;MAChB,IAAIO,KAAK,GAAG,EAAZ;MACA,IAAIC,KAAK,GAAG,EAAZ;;MACA,KAAK,IAAIvQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8P,EAAE,CAACnpB,MAAvB,EAA+BqZ,CAAC,EAAhC,EAAoC;QACnC,IAAI0R,IAAI,GAAG,IAAInD,iDAAJ,GAAqB2B,aAArB,CAAmC,CAACJ,EAAE,CAAC9P,CAAD,CAAF,CAAM+M,KAAP,EAAc+C,EAAE,CAAC9P,CAAD,CAAF,CAAM6Q,GAApB,CAAnC,CAAX;QACA,IAAIc,EAAE,GAAG,IAAIlD,uCAAJ,CAASiD,IAAT,EAAerW,0DAAf,CAAT;QACAsW,EAAE,CAACC,oBAAH;QACAtB,KAAK,CAACrY,IAAN,CAAW0Z,EAAX;QACA,IAAIE,IAAI,GAAG,IAAItD,iDAAJ,GAAqB2B,aAArB,CAAmC,CAACH,EAAE,CAAC/P,CAAD,CAAF,CAAM+M,KAAP,EAAcgD,EAAE,CAAC/P,CAAD,CAAF,CAAM6Q,GAApB,CAAnC,CAAX;QACA,IAAIiB,EAAE,GAAG,IAAIrD,uCAAJ,CAASoD,IAAT,EAAexW,0DAAf,CAAT;QACAyW,EAAE,CAACF,oBAAH;QACArB,KAAK,CAACtY,IAAN,CAAW6Z,EAAX;MACA;;MACD,OAAO;QAAExB,KAAK,EAAEA,KAAT;QAAgBC,KAAK,EAAEA;MAAvB,CAAP;IACA;EA7GF;IAAA;IAAA,OA8GC,wBAAe;MACd,IAAIwB,KAAK,GAAGjD,+DAAoB,CAAC,KAAKve,KAAL,CAAW4c,MAAZ,CAAhC;MACA,IAAI3K,CAAC,GAAGuP,KAAK,CAACvP,CAAN,CAAQwP,SAAR,EAAR;MACA,IAAIC,EAAE,GAAGzP,CAAC,CAAC0K,KAAF,GAAUgF,MAAV,EAAT;MACA,IAAIxP,CAAC,GAAGqP,KAAK,CAACrP,CAAN,CAAQsP,SAAR,EAAR;MACA,IAAIG,EAAE,GAAGzP,CAAC,CAACwK,KAAF,GAAUgF,MAAV,EAAT;MACA,IAAIE,EAAE,GAAG,KAAK5C,MAAL,CAAYtC,KAAZ,GAAoBjlB,GAApB,CAAwBua,CAAC,CAAC0K,KAAF,GAAUE,cAAV,CAAyB,KAAKhkB,KAAL,GAAa,CAAtC,CAAxB,CAAT;MACA,IAAIipB,EAAE,GAAG,KAAK7C,MAAL,CAAYtC,KAAZ,GAAoBjlB,GAApB,CAAwBgqB,EAAE,CAAC/E,KAAH,GAAWE,cAAX,CAA0B,KAAKhkB,KAAL,GAAa,CAAvC,CAAxB,CAAT;MACA,IAAIkpB,EAAE,GAAG,KAAK9C,MAAL,CAAYtC,KAAZ,GAAoBjlB,GAApB,CAAwBya,CAAC,CAACwK,KAAF,GAAUE,cAAV,CAAyB,KAAKhkB,KAAL,GAAa,CAAtC,CAAxB,CAAT;MACA,IAAImpB,EAAE,GAAG,KAAK/C,MAAL,CAAYtC,KAAZ,GAAoBjlB,GAApB,CAAwBkqB,EAAE,CAACjF,KAAH,GAAWE,cAAX,CAA0B,KAAKhkB,KAAL,GAAa,CAAvC,CAAxB,CAAT;MACA,IAAIopB,EAAE,GAAGH,EAAE,CAACnF,KAAH,GAAWjlB,GAAX,CAAekqB,EAAE,CAACjF,KAAH,GAAWE,cAAX,CAA0B,KAAKhkB,KAAL,GAAa,CAAvC,CAAf,CAAT;MACA,IAAIqpB,EAAE,GAAGJ,EAAE,CAACnF,KAAH,GAAWjlB,GAAX,CAAeya,CAAC,CAACwK,KAAF,GAAUE,cAAV,CAAyB,KAAKhkB,KAAL,GAAa,CAAtC,CAAf,CAAT;MACA,IAAIspB,EAAE,GAAGN,EAAE,CAAClF,KAAH,GAAWjlB,GAAX,CAAeya,CAAC,CAACwK,KAAF,GAAUE,cAAV,CAAyB,KAAKhkB,KAAL,GAAa,CAAtC,CAAf,CAAT;MACA,IAAIupB,EAAE,GAAGP,EAAE,CAAClF,KAAH,GAAWjlB,GAAX,CAAekqB,EAAE,CAACjF,KAAH,GAAWE,cAAX,CAA0B,KAAKhkB,KAAL,GAAa,CAAvC,CAAf,CAAT;MACA,IAAIymB,MAAM,GAAG,EAAb;MACA,IAAIC,EAAE,GAAG,EAAT;MACA,IAAIC,EAAE,GAAG,EAAT;MACA,IAAIC,KAAK,GAAG,EAAZ;MACAH,MAAM,CAAC5X,IAAP,CAAYua,EAAZ;MACA3C,MAAM,CAAC5X,IAAP,CAAYwa,EAAZ;MACA5C,MAAM,CAAC5X,IAAP,CAAYya,EAAZ;MACA7C,MAAM,CAAC5X,IAAP,CAAYua,EAAZ;MACA3C,MAAM,CAAC5X,IAAP,CAAYya,EAAZ;MACA7C,MAAM,CAAC5X,IAAP,CAAY0a,EAAZ;MACA7C,EAAE,CAAC7X,IAAH,CAAQ;QAAE8U,KAAK,EAAEqF,EAAT;QAAavB,GAAG,EAAEwB;MAAlB,CAAR;MACAtC,EAAE,CAAC9X,IAAH,CAAQ;QAAE8U,KAAK,EAAEuF,EAAT;QAAazB,GAAG,EAAE0B;MAAlB,CAAR;;MACA,KAAK,IAAIvS,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;QAC5B,IAAI4S,GAAG,GAAGR,EAAE,CAAClF,KAAH,GAAWjlB,GAAX,CAAeya,CAAC,CAACwK,KAAF,GAAUE,cAAV,CAA0BpN,CAAC,GAAG,KAAK5W,KAAV,GAAmB,EAA5C,CAAf,CAAV;QACA,IAAIypB,GAAG,GAAGR,EAAE,CAACnF,KAAH,GAAWjlB,GAAX,CAAeya,CAAC,CAACwK,KAAF,GAAUE,cAAV,CAA0BpN,CAAC,GAAG,KAAK5W,KAAV,GAAmB,EAA5C,CAAf,CAAV;QACA,IAAI0pB,GAAG,GAAGV,EAAE,CAAClF,KAAH,GAAWjlB,GAAX,CAAekqB,EAAE,CAACjF,KAAH,GAAWE,cAAX,CAA2BpN,CAAC,GAAG,KAAK5W,KAAV,GAAmB,EAA7C,CAAf,CAAV;QACA,IAAI2pB,GAAG,GAAGV,EAAE,CAACnF,KAAH,GAAWjlB,GAAX,CAAekqB,EAAE,CAACjF,KAAH,GAAWE,cAAX,CAA2BpN,CAAC,GAAG,KAAK5W,KAAV,GAAmB,EAA7C,CAAf,CAAV;QACA,IAAI4pB,GAAG,GAAGV,EAAE,CAACpF,KAAH,GAAWjlB,GAAX,CAAeua,CAAC,CAAC0K,KAAF,GAAUE,cAAV,CAA0BpN,CAAC,GAAG,KAAK5W,KAAV,GAAmB,EAA5C,CAAf,CAAV;QACA,IAAI6pB,GAAG,GAAGV,EAAE,CAACrF,KAAH,GAAWjlB,GAAX,CAAeua,CAAC,CAAC0K,KAAF,GAAUE,cAAV,CAA0BpN,CAAC,GAAG,KAAK5W,KAAV,GAAmB,EAA5C,CAAf,CAAV;QACA,IAAI8pB,GAAG,GAAGZ,EAAE,CAACpF,KAAH,GAAWjlB,GAAX,CAAegqB,EAAE,CAAC/E,KAAH,GAAWE,cAAX,CAA2BpN,CAAC,GAAG,KAAK5W,KAAV,GAAmB,EAA7C,CAAf,CAAV;QACA,IAAI+pB,GAAG,GAAGZ,EAAE,CAACrF,KAAH,GAAWjlB,GAAX,CAAegqB,EAAE,CAAC/E,KAAH,GAAWE,cAAX,CAA2BpN,CAAC,GAAG,KAAK5W,KAAV,GAAmB,EAA7C,CAAf,CAAV;QACA0mB,EAAE,CAAC7X,IAAH,CAAQ;UAAE8U,KAAK,EAAE6F,GAAT;UAAc/B,GAAG,EAAEgC;QAAnB,CAAR;QACA/C,EAAE,CAAC7X,IAAH,CAAQ;UAAE8U,KAAK,EAAE+F,GAAT;UAAcjC,GAAG,EAAEkC;QAAnB,CAAR;QACAhD,EAAE,CAAC9X,IAAH,CAAQ;UAAE8U,KAAK,EAAEiG,GAAT;UAAcnC,GAAG,EAAEoC;QAAnB,CAAR;QACAvQ,CAAC;QACDqN,EAAE,CAAC9X,IAAH,CAAQ;UAAE8U,KAAK,EAAEmG,GAAT;UAAcrC,GAAG,EAAEsC;QAAnB,CAAR;MACA;;MACD,KAAK,IAAInT,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,EAApB,EAAwBA,EAAC,EAAzB,EAA6B;QAC5B,IAAIoT,KAAK,GAAGZ,EAAE,CAACtF,KAAH,GAAWjlB,GAAX,CAAeya,CAAC,CAACwK,KAAF,GAAUE,cAAV,CAA0BpN,EAAC,GAAG,KAAK5W,KAAV,GAAmB,EAA5C,CAAf,CAAZ;;QACA,KAAK,IAAIiqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;UAC5B,IAAIC,KAAK,GAAGF,KAAK,CAAClG,KAAN,GAAcjlB,GAAd,CAAkBua,CAAC,CAAC0K,KAAF,GAAUE,cAAV,CAA0BiG,CAAC,GAAG,KAAKjqB,KAAV,GAAmB,EAA5C,CAAlB,CAAZ;UACA4mB,KAAK,CAAC/X,IAAN,CAAWqb,KAAX;QACA;MACD;;MACD,OAAO;QAAEzD,MAAM,EAAEA,MAAV;QAAkBC,EAAE,EAAEA,EAAtB;QAA0BC,EAAE,EAAEA,EAA9B;QAAkCC,KAAK,EAAEA;MAAzC,CAAP;IACA;EA/JF;IAAA;IAAA,OAgKC,mBAAUtX,QAAV,EAAoB;MACnB,IAAIH,KAAK,GAAG,IAAZ;;MACA,IAAIgb,KAAK,GAAG,IAAIlF,0CAAJ,EAAZ;MACA,IAAI+B,IAAJ;;MACA,SAASoD,IAAT,GAAgB;QACfjb,KAAK,CAACxJ,IAAN,CAAWyJ,UAAX,CAAsBC,gBAAtB,CAAuC,OAAvC,EAAgDgb,WAAhD,EAA6D,KAA7D;;QACAlb,KAAK,CAACxJ,IAAN,CAAWyJ,UAAX,CAAsBC,gBAAtB,CAAuC,WAAvC,EAAoDib,WAApD,EAAiE,KAAjE;;QACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;MACA;;MACD,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;QACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;QACA,IAAIA,OAAO,IAAI,EAAf,EAAmB;UAClBC,cAAc,CAAC,IAAIvG,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAD,EAAuB,IAAIA,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAvB,CAAd;QACA;MACD;;MACD,SAASkG,WAAT,CAAqBnsB,CAArB,EAAwB;QACvB,IAAMysB,KAAK,GAAG/E,sDAAW,CAAC1nB,CAAD,EAAIiR,KAAK,CAACxJ,IAAV,EAAgBkgB,4DAAA,CAAmB1W,KAAK,CAACxJ,IAAN,CAAW0I,KAA9B,CAAhB,CAAX,CAAiE,CAAjE,CAAd;QACA,IAAIgZ,SAAS,GAAGtB,8DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWhb,KAAK,CAACxJ,IAAjB,EAAuBglB,KAAvB,EAA8B,IAA9B,CAAnC;QACA,IAAIxjB,KAAK,GAAGkgB,SAAS,CAAClgB,KAAtB;;QACA,IAAIwjB,KAAK,IAAI3D,IAAb,EAAmB;UAClB0D,cAAc,CAACC,KAAK,CAACtX,KAAP,EAAclM,KAAK,CAAC4c,MAApB,CAAd;QACA;MACD;;MACD,SAASuG,WAAT,CAAqBpsB,CAArB,EAAwB;QACvB,IAAMysB,KAAK,GAAG/E,sDAAW,CAAC1nB,CAAD,EAAIiR,KAAK,CAACxJ,IAAV,EAAgBkgB,4DAAA,CAAmB1W,KAAK,CAACxJ,IAAN,CAAW0I,KAA9B,CAAhB,CAAX,CAAiE,CAAjE,CAAd;QAEA,IAAIgZ,SAAS,GAAGtB,8DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWhb,KAAK,CAACxJ,IAAjB,EAAuBglB,KAAvB,EAA8B,IAA9B,CAAnC;QACA,IAAIxjB,KAAK,GAAGkgB,SAAS,CAAClgB,KAAtB;;QACA,IAAIwjB,KAAJ,EAAW;UACV,IAAIlE,MAAM,GAAGX,yDAAc,CAAC6E,KAAK,CAACC,MAAP,EAAezjB,KAAf,CAA3B;UACA,IAAI0f,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCL,MAAnC,CAAf;;UACA,IAAI,CAACO,IAAL,EAAW;YACVA,IAAI,GAAG,IAAIzB,uCAAJ,CAASsB,QAAT,EAAmB3S,oEAAnB,CAAP;;YACA/E,KAAK,CAACxJ,IAAN,CAAW0I,KAAX,CAAiBxP,GAAjB,CAAqBmoB,IAArB;UACA,CAHD,MAGO;YACNA,IAAI,CAACH,QAAL,GAAgB,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCL,MAAnC,CAAhB;UACA;QACD,CATD,MASO;UACN,IAAIO,IAAJ,EAAUA,IAAI,CAACjX,gBAAL;UACViX,IAAI,GAAG,IAAP;QACA;MACD;;MACD,SAAS0D,cAAT,CAAwBrX,KAAxB,EAA+B0Q,MAA/B,EAAuC;QACtC,IAAIiD,IAAJ,EAAUA,IAAI,CAACjX,gBAAL;;QACVZ,KAAK,CAACxJ,IAAN,CAAWyJ,UAAX,CAAsByb,mBAAtB,CAA0C,OAA1C,EAAmDR,WAAnD;;QACAlb,KAAK,CAACxJ,IAAN,CAAWyJ,UAAX,CAAsByb,mBAAtB,CAA0C,WAA1C,EAAuDP,WAAvD;;QACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;QACAjb,QAAQ,CAAC+D,KAAD,EAAQ0Q,MAAR,CAAR;MACA;;MACDqG,IAAI;IACJ;EAlNF;IAAA;IAAA,OAmNC,sBAAa1jB,aAAb,EAA4B4I,QAA5B,EAAsC;MAAA;;MACrC,IAAI+D,KAAJ,EAAW0Q,MAAX;;MACA,IAAI+G,QAAQ,CAACpkB,aAAD,CAAR,IAA2B,CAA/B,EAAkC;QACjC2M,KAAK,GAAG,KAAKnM,cAAL,CAAoB4jB,QAAQ,CAACpkB,aAAD,CAA5B,EAA6C2M,KAArD;QACA0Q,MAAM,GAAG,KAAK7c,cAAL,CAAoB4jB,QAAQ,CAACpkB,aAAD,CAA5B,EAA6Cqd,MAAtD;QACA,KAAKqC,MAAL,GAAc/S,KAAd;QACA,IAAI,CAAC,KAAKlM,KAAV,EAAiB,KAAKA,KAAL,GAAa,IAAI+c,wCAAJ,CAAU,IAAIC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAV,EAAgC,CAAhC,CAAb;QACjB,KAAKhd,KAAL,GAAa,KAAKA,KAAL,CAAWkf,6BAAX,CAAyCtC,MAAzC,EAAiD1Q,KAAjD,CAAb;;QACA,IAAI,KAAKiT,SAAT,EAAoB;UACnB,KAAKA,SAAL,CAAele,QAAf,CAAwBkf,IAAxB,CAA6BW,WAA7B;UACA,KAAK3B,SAAL,GAAiB,IAAjB;QACA;;QACD,KAAKA,SAAL,GAAiB,KAAKC,aAAL,EAAjB;QACA,KAAKnb,aAAL,CAAmB,IAAnB;QACAkE,QAAQ;MACR,CAbD,MAaO;QACN,KAAKyb,SAAL,CAAe,UAAC1X,KAAD,EAAQ0Q,MAAR,EAAmB;UACjC,MAAI,CAACqC,MAAL,GAAc/S,KAAd;UACA,IAAI,CAAC,MAAI,CAAClM,KAAV,EAAiB,MAAI,CAACA,KAAL,GAAa,IAAI+c,wCAAJ,CAAU,IAAIC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAV,EAAgC,CAAhC,CAAb;UACjB,MAAI,CAAChd,KAAL,GAAa,MAAI,CAACA,KAAL,CAAWkf,6BAAX,CAAyCtC,MAAzC,EAAiD1Q,KAAjD,CAAb;;UACA,IAAI,MAAI,CAACiT,SAAT,EAAoB;YACnB,MAAI,CAACA,SAAL,CAAele,QAAf,CAAwBkf,IAAxB,CAA6BW,WAA7B;;YACA,MAAI,CAAC3B,SAAL,GAAiB,IAAjB;UACA;;UACD,MAAI,CAACA,SAAL,GAAiB,MAAI,CAACC,aAAL,EAAjB;;UACA,MAAI,CAACnb,aAAL,CAAmB,IAAnB;;UACAkE,QAAQ;QACR,CAXD;MAYA;IACD;EAhPF;IAAA;IAAA,OAiPC,uBAAcY,OAAd,EAAuB;MACtB,KAAKpI,IAAL,GAAYoI,OAAZ;;MACA,IAAI,KAAKpI,IAAT,EAAe;QACd;QACA,KAAKnC,IAAL,CAAU0I,KAAV,CAAgBxP,GAAhB,CAAoB,KAAKynB,SAAzB;MACA,CAHD,MAGO;QACN,KAAKA,SAAL,CAAevW,gBAAf,GADM,CAEN;MACA;;MACD,KAAKuW,SAAL,CAAele,QAAf,CAAwBkf,IAAxB,CAA6BC,UAA7B,CAAwC,KAAKzf,IAA7C;IACA;EA3PF;;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AAWA;AACA;AAcA;AACA;AACA;AAEO,IAAMkkB,aAAb;EACC,uBAAYrE,CAAZ,EAAe;IAAA;;IACd,KAAKA,CAAL,GAASA,CAAT;IACA,KAAKsE,MAAL,GAAcjG,WAAW,CAAC,KAAK2B,CAAN,EAAShC,gDAAT,CAAzB;EACA;;EAJF;IAAA;IAAA,OAKC,oBAAWuG,MAAX,EAAmBhc,OAAnB,EAA4ByX,CAA5B,EAA+B;MAC9B,KAAKsE,MAAL,CAAY7jB,QAAZ,CAAqB+jB,QAArB,CAA8Bjc,OAA9B;;MACA,IAAIA,OAAJ,EAAa;QACZ,KAAK+b,MAAL,CAAY7jB,QAAZ,CAAqB2f,WAArB,CAAiCJ,CAAjC;QACAuE,MAAM,CAACrtB,GAAP,CAAW,KAAKotB,MAAhB;MACA,CAHD,MAGO;QACN,KAAKA,MAAL,CAAYlc,gBAAZ;MACA;IACD;EAbF;;EAAA;AAAA;AAgBO,IAAMqc,YAAb;EACC,sBAAYzmB,IAAZ,EAAkBuG,MAAlB,EAA0B5H,IAA1B,EAAgC+nB,EAAhC,EAAoCC,EAApC,EAAwCvI,MAAxC,EAAgD;IAAA;;IAC/C,KAAKzf,IAAL,GAAYA,IAAZ;IACA,KAAKioB,SAAL,GAAiB,IAAIpI,0CAAJ,CAAYmI,EAAE,CAAClT,CAAH,GAAOiT,EAAE,CAACjT,CAAtB,EAAyBkT,EAAE,CAACjT,CAAH,GAAOgT,EAAE,CAAChT,CAAnC,EAAsCiT,EAAE,CAAChT,CAAH,GAAO+S,EAAE,CAAC/S,CAAhD,EAAmDsP,SAAnD,EAAjB;IACA,KAAKvF,KAAL,GAAa2C,WAAW,CAACqG,EAAD,EAAK1G,+CAAL,CAAxB;IACA,KAAK8G,GAAL,GAAWzG,WAAW,CAAC6F,qDAAc,CAACQ,EAAD,EAAKC,EAAL,CAAf,EAAyB3G,6CAAzB,CAAtB;IACA,KAAKgH,GAAL,GAAW3G,WAAW,CAACsG,EAAD,EAAK3G,+CAAL,CAAtB;IACA,KAAKiH,MAAL,GAAc7I,MAAd;IACA,KAAK8I,MAAL,GAAc,IAAI3B,6CAAJ,CAAemB,EAAf,EAAmBC,EAAnB,CAAd;IACA,KAAKQ,SAAL,GAAiBV,YAAY,CAACW,eAAb,CAChBpnB,IADgB,EAEhBuG,MAFgB,EAGhB,KAAK5H,IAHW,EAIhBunB,qDAAc,CAACQ,EAAD,EAAKC,EAAL,CAJE,EAKhBD,EALgB,EAMhBC,EANgB,EAOhB,KAAKM,MAPW,CAAjB;EASA;;EAlBF;IAAA;IAAA,OAmBC,kBAASP,EAAT,EAAaC,EAAb,EAAiB;MAChB,KAAKjJ,KAAL,CAAWjb,QAAX,CAAoB2f,WAApB,CAAgCsE,EAAhC;MACA,KAAKI,GAAL,CAASrkB,QAAT,CAAkB2f,WAAlB,CAA8B8D,qDAAc,CAACQ,EAAD,EAAKC,EAAL,CAA5C;MACA,KAAKK,GAAL,CAASvkB,QAAT,CAAkB2f,WAAlB,CAA8BuE,EAA9B;MACA,KAAKO,MAAL,GAAc,IAAI3B,6CAAJ,CAAemB,EAAf,EAAmBC,EAAnB,CAAd;MACAF,YAAY,CAACY,cAAb,CAA4BX,EAA5B,EAAgCC,EAAhC,EAAoC,KAAKhoB,IAAzC;MACA,KAAKwoB,SAAL,CAAe1kB,QAAf,CAAwBrI,QAAxB,CAAiCssB,EAAjC,EAAqCC,EAArC,EAAyC,KAAKM,MAA9C;IACA;EA1BF;IAAA;IAAA,OA2BC,gBAAOve,KAAP,EAAc;MACb,KAAKgV,KAAL,CAAWjb,QAAX,CAAoBmf,UAApB,CAA+BlZ,KAA/B,EAAsC,KAAtC;MACA,KAAKse,GAAL,CAASvkB,QAAT,CAAkBmf,UAAlB,CAA6BlZ,KAA7B,EAAoC,KAApC;MACA,KAAKoe,GAAL,CAASrkB,QAAT,CAAkBmf,UAAlB,CAA6BlZ,KAA7B,EAAoC,KAApC;MACA,KAAKye,SAAL,CAAe1kB,QAAf,CAAwBmf,UAAxB,CAAmClZ,KAAnC,EAA0C,KAA1C;IACA;EAhCF;IAAA;IAAA,OAiCC,kBAASA,KAAT,EAAgB6B,OAAhB,EAAyB;MACxB,KAAKmT,KAAL,CAAWjb,QAAX,CAAoBmf,UAApB,CAA+BlZ,KAA/B,EAAsC6B,OAAtC;MACA,KAAKuc,GAAL,CAASrkB,QAAT,CAAkBmf,UAAlB,CAA6BlZ,KAA7B,EAAoC6B,OAApC;MACA,KAAKyc,GAAL,CAASvkB,QAAT,CAAkBmf,UAAlB,CAA6BlZ,KAA7B,EAAoC6B,OAApC;MACA,KAAK5L,IAAL,CAAU9G,QAAV,GAAqB0S,OAAO,GAAG,KAAK5L,IAAL,CAAU8D,QAAV,CAAmB6kB,QAAnB,CAA4BC,MAA/B,GAAwC,KAAK5oB,IAAL,CAAU8D,QAAV,CAAmB6kB,QAAnB,CAA4BL,MAAhG;IACA;EAtCF;IAAA;IAAA,OAuCC,wBAAeO,WAAf,EAA4B;MAC3B,OAAOC,WAAW,CAACD,WAAD,EAAc,KAAK7oB,IAAnB,EAAyB,KAAK+e,KAA9B,CAAlB;IACA;EAzCF;IAAA;IAAA,OA0CC,sBAAa8J,WAAb,EAA0B;MACzB,OAAOC,WAAW,CAACD,WAAD,EAAc,KAAK7oB,IAAnB,EAAyB,KAAKqoB,GAA9B,CAAlB;IACA;EA5CF;IAAA;IAAA,OA6CC,kBAAgBhnB,IAAhB,EAAsBuG,MAAtB,EAA8BmgB,EAA9B,EAAkCC,EAAlC,EAAsCvI,MAAtC,EAA8Czf,IAA9C,EAAoD;MACnDA,IAAI,CAAC8D,QAAL,CAAcyH,IAAd,GAAqB5B,kDAArB;MACA3J,IAAI,CAAC8D,QAAL,CAAc6H,QAAd,GAAyB,IAAImc,YAAJ,CAAiBzmB,IAAjB,EAAuBuG,MAAvB,EAA+B5H,IAA/B,EAAqC+nB,EAArC,EAAyCC,EAAzC,EAA6CvI,MAA7C,CAAzB;IACA;EAhDF;IAAA;IAAA,OAiDC,wBAAsBsI,EAAtB,EAA0BC,EAA1B,EAA8B;MAC7B,IAAIzF,QAAQ,GAAGuF,YAAY,CAACiB,gBAAb,CAA8BhB,EAA9B,EAAkCC,EAAlC,CAAf;MACA,IAAMhoB,IAAI,GAAG,IAAIihB,uCAAJ,CAASsB,QAAT,EAAmBtV,gEAAnB,CAAb;MACAjN,IAAI,CAACuiB,QAAL,CAAcqB,kBAAd;MACA5jB,IAAI,CAACuiB,QAAL,CAAcsB,qBAAd;MACA7jB,IAAI,CAACuiB,QAAL,CAAcuB,oBAAd;MACA9jB,IAAI,CAACuiB,QAAL,CAAcwB,UAAd,GAA2B,IAAI7C,mDAAJ,CAAYlhB,IAAI,CAACuiB,QAAjB,CAA3B;MACAviB,IAAI,CAACgpB,WAAL,GAAmB,CAAnB;MACAhpB,IAAI,CAAC8D,QAAL,CAAc4H,OAAd,GAAwB,IAAxB;MACA1L,IAAI,CAAC8D,QAAL,CAAc6kB,QAAd,GAAyB;QACxBL,MAAM,EAAErb,gEADgB;QAExB2b,MAAM,EAAE3b,gEAFgB;QAGxBgc,KAAK,EAAEhc,+DAAwBG;MAHP,CAAzB;MAMA,OAAOpN,IAAP;IACA;EAjEF;IAAA;IAAA,OAmEC,wBAAsB+nB,EAAtB,EAA0BC,EAA1B,EAA8BhoB,IAA9B,EAAoC;MACnCA,IAAI,CAACuiB,QAAL,GAAgBuF,YAAY,CAACiB,gBAAb,CAA8BhB,EAA9B,EAAkCC,EAAlC,CAAhB;MACAhoB,IAAI,CAACuiB,QAAL,CAAcqB,kBAAd;MACA5jB,IAAI,CAACuiB,QAAL,CAAcsB,qBAAd;MACA7jB,IAAI,CAACuiB,QAAL,CAAcuB,oBAAd;MACA9jB,IAAI,CAACuiB,QAAL,CAAcwB,UAAd,GAA2B,IAAI7C,mDAAJ,CAAYlhB,IAAI,CAACuiB,QAAjB,CAA3B;IACA;EAzEF;IAAA;IAAA,OA2EC,0BAAwBwF,EAAxB,EAA4BC,EAA5B,EAAgC;MAC/B,IAAIkB,KAAK,GAAG,IAAItC,6CAAJ,CAAemB,EAAf,EAAmBC,EAAnB,CAAZ;MACA,IAAIzP,KAAK,GAAG4O,gDAAS,EAArB;MACA,OAAO,IAAIR,kDAAJ,CAAoBpO,KAApB,EAA2B2O,qDAAc,CAACgC,KAAD,CAAzC,CAAP;IACA;EA/EF;IAAA;IAAA,OAgFC,yBAAuB7nB,IAAvB,EAA6BuG,MAA7B,EAAqC5H,IAArC,EAA2CqjB,CAA3C,EAA8C8F,EAA9C,EAAkDC,EAAlD,EAAsD3J,MAAtD,EAA8D;MAC7D,IAAI4J,KAAK,GAAGrW,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ;MACAoW,KAAK,CAAChvB,SAAN,GAAkB,WAAlB;MACAgvB,KAAK,CAACxuB,KAAN,GAAc4T,IAAI,CAAC6a,KAAL,CAAYH,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,IAAoBxhB,MAArB,GAA+B,IAA1C,IAAkD,IAAhE;MACAyhB,KAAK,CAACte,gBAAN,CACC,QADD,EAEC,UAAUnR,CAAV,EAAa;QACZ2vB,iBAAiB,CAAC3vB,CAAD,EAAIgO,MAAJ,CAAjB;MACA,CAJF,EAKC,KALD;MAOA,IAAI6Y,KAAK,GAAG,IAAIgH,mFAAJ,CAAgB4B,KAAhB,CAAZ;MACA5I,KAAK,CAACzB,QAAN,CAAepU,GAAf,CAAmByY,CAAC,CAACvO,CAArB,EAAwBuO,CAAC,CAACtO,CAA1B,EAA6BsO,CAAC,CAACrO,CAA/B;MACA,IAAImN,MAAM,GAAGqH,4BAA4B,CAACL,EAAD,EAAKC,EAAL,EAAS3J,MAAT,CAAzC;MACA,IAAI8C,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCL,MAAnC,CAAf;MACA,IAAMM,KAAK,GAAG,IAAI3B,gDAAJ,CAAkByB,QAAlB,CAAd;MACA,IAAMkH,OAAO,GAAG,IAAIzI,+CAAJ,CAAiByB,KAAjB,EAAwBxV,gEAAxB,CAAhB;;MACAwc,OAAO,CAAC3lB,QAAR,CAAiB+jB,QAAjB,GAA4B,UAACjc,OAAD,EAAa;QACxC,IAAIA,OAAJ,EAAa;UACZ6d,OAAO,CAAClvB,GAAR,CAAYkmB,KAAZ;QACA,CAFD,MAEO;UACNA,KAAK,CAAChV,gBAAN;QACA;MACD,CAND;;MAOAge,OAAO,CAAC3lB,QAAR,CAAiBrI,QAAjB,GAA4B,UAACssB,EAAD,EAAKC,EAAL,EAASvI,MAAT,EAAoB;QAC/C,IAAIiK,EAAE,GAAGnC,qDAAc,CAACQ,EAAD,EAAKC,EAAL,CAAvB;QACAvH,KAAK,CAACzB,QAAN,CAAepU,GAAf,CAAmB8e,EAAE,CAAC5U,CAAtB,EAAyB4U,EAAE,CAAC3U,CAA5B,EAA+B2U,EAAE,CAAC1U,CAAlC;QACA,IAAImN,MAAM,GAAGqH,4BAA4B,CAACzB,EAAD,EAAKC,EAAL,EAASvI,MAAT,CAAzC;QACA,IAAI8C,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCL,MAAnC,CAAf;QACAsH,OAAO,CAAClH,QAAR,GAAmB,IAAIzB,gDAAJ,CAAkByB,QAAlB,CAAnB;MACA,CAND;;MAOAkH,OAAO,CAAC3lB,QAAR,CAAiBmf,UAAjB,GAA8B,UAAClZ,KAAD,EAAQ6B,OAAR,EAAoB;QACjD6d,OAAO,CAAC3lB,QAAR,CAAiB+jB,QAAjB,CAA0Bjc,OAA1B;;QACA,IAAIA,OAAJ,EAAa;UACZ7B,KAAK,CAACxP,GAAN,CAAUkvB,OAAV;QACA,CAFD,MAEO;UACNA,OAAO,CAAChe,gBAAR;QACA;MACD,CAPD;;MAQAge,OAAO,CAAC3lB,QAAR,CAAiBmf,UAAjB,CAA4B5hB,IAAI,CAAC0I,KAAjC,EAAwC1I,IAAI,CAACsoB,aAA7C;;MACAF,OAAO,CAAC3lB,QAAR,CAAiB8lB,aAAjB,GAAiC,UAAChiB,MAAD,EAAY;QAC5CyhB,KAAK,CAACxuB,KAAN,GAAcwuB,KAAK,CAACxuB,KAAN,IAAe+M,MAAM,IAAI,GAAV,GAAgB,KAAhB,GAAwB,IAAvC,CAAd;QACAyhB,KAAK,CAACte,gBAAN,CACC,QADD,EAEC,UAAUnR,CAAV,EAAa;UACZ2vB,iBAAiB,CAAC3vB,CAAD,EAAIgO,MAAJ,CAAjB;QACA,CAJF,EAKC,KALD;MAOA,CATD;;MAWA,SAAS2hB,iBAAT,CAA2B3vB,CAA3B,EAA8BgO,MAA9B,EAAsC;QACrC,IAAIhB,KAAK,CAACC,UAAU,CAACjN,CAAC,CAACE,MAAF,CAASe,KAAT,GAAiB,GAAlB,CAAX,CAAT,EAA6C;QAC7C,IAAIiT,GAAG,GAAGjH,UAAU,CAACjN,CAAC,CAACE,MAAF,CAASe,KAAT,GAAiB,GAAjB,GAAuB+M,MAAxB,CAApB;QACA,IAAImgB,EAAE,GAAG/nB,IAAI,CAAC8D,QAAL,CAAc6H,QAAd,CAAuBoT,KAAvB,CAA6BC,QAAtC;QACA,IAAI3B,GAAG,GAAGrd,IAAI,CAAC8D,QAAL,CAAc6H,QAAd,CAAuBsc,SAAjC;QACA,IAAID,EAAE,GAAGD,EAAE,CAACvI,KAAH,GAAWjlB,GAAX,CAAe8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2B5R,GAA3B,CAAf,CAAT;QACA9N,IAAI,CAAC8D,QAAL,CAAc6H,QAAd,CAAuBlQ,QAAvB,CAAgCssB,EAAhC,EAAoCC,EAApC;MACA;;MACD,OAAOyB,OAAP;IACA;EA5IF;;EAAA;AAAA;AA+IO,IAAMI,WAAb;EACC,qBAAYxoB,IAAZ,EAAkBuG,MAAlB,EAA0B/H,GAA1B,EAA+B4f,MAA/B,EAAuCqK,QAAvC,EAAiDC,EAAjD,EAAqDhC,EAArD,EAAyD;IAAA;;IACxD,KAAKloB,GAAL,GAAWA,GAAX;IACA,KAAKyoB,MAAL,GAAc7I,MAAd;IACA,KAAKuK,QAAL,GAAgBF,QAAhB;IACA,KAAKG,QAAL,GAAgB,KAAKC,YAAL,CAAkBH,EAAlB,EAAsBhC,EAAtB,EAA0BtI,MAA1B,EAAkCqK,QAAlC,CAAhB;IACA,KAAK7B,SAAL,GAAiB,KAAKkC,aAAL,CAAmBJ,EAAnB,EAAuB,KAAKE,QAA5B,CAAjB;IACA,KAAKlL,KAAL,GAAa2C,WAAW,CAACqG,EAAD,EAAK1G,+CAAL,CAAxB;IACA,KAAK+I,MAAL,GAAc1I,WAAW,CAACqI,EAAD,EAAK1I,0CAAL,CAAzB;IACA,KAAKgH,GAAL,GAAW3G,WAAW,CAACmI,WAAW,CAACS,cAAZ,CAA2BP,EAA3B,EAA+BhC,EAA/B,EAAmCtI,MAAnC,EAA2CqK,QAA3C,CAAD,EAAuDzI,+CAAvD,CAAtB;IACA,KAAKkH,MAAL,GAAcsB,WAAW,CAACU,YAAZ,CAAyBR,EAAzB,EAA6BhC,EAA7B,EAAiCtI,MAAjC,EAAyCqK,QAAzC,CAAd;IACA,KAAKtB,SAAL,GAAiBqB,WAAW,CAACpB,eAAZ,CAA4BpnB,IAA5B,EAAkCuG,MAAlC,EAA0C,KAAK/H,GAA/C,EAAoDkqB,EAApD,EAAwD,KAAKE,QAA7D,EAAuExK,MAAvE,CAAjB;IACA,KAAK+K,cAAL,GAAsBX,WAAW,CAACY,oBAAZ,CAAiCppB,IAAjC,EAAuC,KAAKxB,GAA5C,EAAiDkqB,EAAjD,EAAqDhC,EAArD,EAAyDtI,MAAzD,EAAiEqK,QAAjE,CAAtB;EACA;;EAbF;IAAA;IAAA,OAcC,sBAAaC,EAAb,EAAiBhC,EAAjB,EAAqBtI,MAArB,EAA6BqK,QAA7B,EAAuC;MACtC,IAAIzM,GAAG,GAAG,IAAIwC,0CAAJ,CAAYkI,EAAE,CAACjT,CAAH,GAAOiV,EAAE,CAACjV,CAAtB,EAAyBiT,EAAE,CAAChT,CAAH,GAAOgV,EAAE,CAAChV,CAAnC,EAAsCgT,EAAE,CAAC/S,CAAH,GAAO+U,EAAE,CAAC/U,CAAhD,EAAmDsP,SAAnD,EAAV;MACA,IAAIoG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkClL,MAAlC,EAA0CpC,GAA1C,EAA+CiH,SAA/C,EAAV;MACA,OAAOyF,EAAE,CACPvK,KADK,GAELjlB,GAFK,CAED8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2BjR,IAAI,CAACmc,GAAL,CAASd,QAAQ,GAAG,CAApB,IAAyB/B,EAAE,CAACzE,UAAH,CAAcyG,EAAd,CAApD,CAFC,EAGLxvB,GAHK,CAGDmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BjR,IAAI,CAACoc,GAAL,CAASf,QAAQ,GAAG,CAApB,IAAyB/B,EAAE,CAACzE,UAAH,CAAcyG,EAAd,CAApD,CAHC,CAAP;IAIA;EArBF;IAAA;IAAA,OAsBC,uBAAcA,EAAd,EAAkBe,QAAlB,EAA4B;MAC3B,OAAO,IAAIjL,0CAAJ,CAAYiL,QAAQ,CAAChW,CAAT,GAAaiV,EAAE,CAACjV,CAA5B,EAA+BgW,QAAQ,CAAC/V,CAAT,GAAagV,EAAE,CAAChV,CAA/C,EAAkD+V,QAAQ,CAAC9V,CAAT,GAAa+U,EAAE,CAAC/U,CAAlE,EAAqEsP,SAArE,EAAP;IACA;EAxBF;IAAA;IAAA,OAyBC,kBAASwG,QAAT,EAAmB;MAClB,IAAIA,QAAJ,EAAc,KAAKb,QAAL,GAAgBa,QAAhB;MACd,IAAIJ,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkC,KAAKrC,MAAvC,EAA+C,KAAKL,SAApD,EAA+D3D,SAA/D,EAAV;MACA,IAAIyD,EAAE,GAAG,KAAKqC,MAAL,CAAYpL,QAAZ,CACPQ,KADO,GAEPjlB,GAFO,CAGP,KAAK0tB,SAAL,CAAezI,KAAf,GAAuBE,cAAvB,CACCjR,IAAI,CAACmc,GAAL,CAAS,KAAKZ,QAAL,GAAgB,CAAzB,IAA8B,KAAKI,MAAL,CAAYpL,QAAZ,CAAqBsE,UAArB,CAAgC,KAAK2G,QAArC,CAD/B,CAHO,EAOP1vB,GAPO,CAQPmwB,GAAG,CACDlL,KADF,GAEEE,cAFF,CAEiB,CAACjR,IAAI,CAACoc,GAAL,CAAS,KAAKb,QAAL,GAAgB,CAAzB,CAAD,GAA+B,KAAKI,MAAL,CAAYpL,QAAZ,CAAqBsE,UAArB,CAAgC,KAAK2G,QAArC,CAFhD,CARO,CAAT;MAYA,KAAKlL,KAAL,CAAWjb,QAAX,CAAoB2f,WAApB,CAAgCsE,EAAhC;MACA,KAAKM,GAAL,CAASvkB,QAAT,CAAkB2f,WAAlB,CAA8BoG,WAAW,CAACS,cAAZ,CAA2B,KAAKF,MAAL,CAAYpL,QAAvC,EAAiD+I,EAAjD,EAAqD,KAAKO,MAA1D,EAAkE,KAAK0B,QAAvE,CAA9B;MACA,KAAKzB,MAAL,GAAcsB,WAAW,CAACU,YAAZ,CAAyB,KAAKH,MAAL,CAAYpL,QAArC,EAA+C+I,EAA/C,EAAmD,KAAKO,MAAxD,EAAgE,KAAK0B,QAArE,CAAd;MACAH,WAAW,CAACkB,aAAZ,CAA0B,KAAKX,MAAL,CAAYpL,QAAtC,EAAgD+I,EAAhD,EAAoD,KAAKO,MAAzD,EAAiE,KAAKzoB,GAAtE,EAA2E,KAAKmqB,QAAhF;MACA,KAAKxB,SAAL,CAAe1kB,QAAf,CAAwBrI,QAAxB,CAAiC,KAAK2uB,MAAL,CAAYpL,QAA7C,EAAuD,KAAKiL,QAA5D,EAAsE,KAAK3B,MAA3E;MACA,KAAKkC,cAAL,CAAoB1mB,QAApB,CAA6BrI,QAA7B,CAAsC,KAAK2uB,MAAL,CAAYpL,QAAlD,EAA4D+I,EAA5D,EAAgE,KAAKO,MAArE,EAA6E,KAAK0B,QAAlF;IACA;EA9CF;IAAA;IAAA,OA+CC,gBAAOjgB,KAAP,EAAc;MACb,KAAKgV,KAAL,CAAWjb,QAAX,CAAoBmf,UAApB,CAA+BlZ,KAA/B,EAAsC,KAAtC;MACA,KAAKse,GAAL,CAASvkB,QAAT,CAAkBmf,UAAlB,CAA6BlZ,KAA7B,EAAoC,KAApC;MACA,KAAKqgB,MAAL,CAAYtmB,QAAZ,CAAqBmf,UAArB,CAAgClZ,KAAhC,EAAuC,KAAvC;MACA,KAAKye,SAAL,CAAe1kB,QAAf,CAAwBmf,UAAxB,CAAmClZ,KAAnC,EAA0C,KAA1C;MACA,KAAKygB,cAAL,CAAoB1mB,QAApB,CAA6Bmf,UAA7B,CAAwClZ,KAAxC,EAA+C,KAA/C;IACA;EArDF;IAAA;IAAA,OAsDC,kBAASA,KAAT,EAAgB6B,OAAhB,EAAyB;MACxB,KAAKmT,KAAL,CAAWjb,QAAX,CAAoBmf,UAApB,CAA+BlZ,KAA/B,EAAsC6B,OAAtC;MACA,KAAKwe,MAAL,CAAYtmB,QAAZ,CAAqBmf,UAArB,CAAgClZ,KAAhC,EAAuC6B,OAAvC;MACA,KAAKyc,GAAL,CAASvkB,QAAT,CAAkBmf,UAAlB,CAA6BlZ,KAA7B,EAAoC6B,OAApC;MACA,KAAK/L,GAAL,CAAS3G,QAAT,GAAoB0S,OAAO,GAAG,KAAK/L,GAAL,CAASiE,QAAT,CAAkB6kB,QAAlB,CAA2BC,MAA9B,GAAuC,KAAK/oB,GAAL,CAASiE,QAAT,CAAkB6kB,QAAlB,CAA2BL,MAA7F;IACA;EA3DF;IAAA;IAAA,OA4DC,wBAAeO,WAAf,EAA4B;MAC3B,OAAOC,WAAW,CAACD,WAAD,EAAc,KAAKhpB,GAAnB,EAAwB,KAAKkf,KAA7B,CAAlB;IACA;EA9DF;IAAA;IAAA,OA+DC,sBAAa8J,WAAb,EAA0B;MACzB,OAAOC,WAAW,CAACD,WAAD,EAAc,KAAKhpB,GAAnB,EAAwB,KAAKwoB,GAA7B,CAAlB;IACA;EAjEF;IAAA;IAAA,OAkEC,iBAAehnB,IAAf,EAAqBuG,MAArB,EAA6BmiB,EAA7B,EAAiChC,EAAjC,EAAqCtI,MAArC,EAA6C5f,GAA7C,EAAkDiqB,QAAlD,EAA4D;MAC3DjqB,GAAG,CAACiE,QAAJ,CAAayH,IAAb,GAAoB5B,iDAApB;MACA9J,GAAG,CAACiE,QAAJ,CAAa6H,QAAb,GAAwB,IAAIke,WAAJ,CAAgBxoB,IAAhB,EAAsBuG,MAAtB,EAA8B/H,GAA9B,EAAmC4f,MAAnC,EAA2CqK,QAA3C,EAAqDC,EAArD,EAAyDhC,EAAzD,CAAxB;IACA;EArEF;IAAA;IAAA,OAsEC,uBAAqBgC,EAArB,EAAyB1G,CAAzB,EAA4B5D,MAA5B,EAAoCqK,QAApC,EAA8C;MAC7C,IAAIvH,QAAQ,GAAGsH,WAAW,CAACmB,eAAZ,CAA4BjB,EAA5B,EAAgC1G,CAAhC,EAAmC5D,MAAnC,EAA2CqK,QAA3C,CAAf;MACA,IAAMjqB,GAAG,GAAG,IAAIohB,uCAAJ,CAASsB,QAAT,EAAmBtV,gEAAnB,CAAZ;MACApN,GAAG,CAAC0iB,QAAJ,CAAaqB,kBAAb;MACA/jB,GAAG,CAAC0iB,QAAJ,CAAasB,qBAAb;MACAhkB,GAAG,CAAC0iB,QAAJ,CAAauB,oBAAb;MACAjkB,GAAG,CAAC0iB,QAAJ,CAAawB,UAAb,GAA0B,IAAI7C,mDAAJ,CAAYrhB,GAAG,CAAC0iB,QAAhB,CAA1B;MACA1iB,GAAG,CAACmpB,WAAJ,GAAkB,CAAlB;MACAnpB,GAAG,CAACiE,QAAJ,CAAa4H,OAAb,GAAuB,IAAvB;MACA7L,GAAG,CAACiE,QAAJ,CAAa6kB,QAAb,GAAwB;QACvBL,MAAM,EAAErb,gEADe;QAEvB2b,MAAM,EAAE3b,gEAFe;QAGvBgc,KAAK,EAAEhc,+DAAwBG;MAHR,CAAxB;MAKA,OAAOvN,GAAP;IACA;EArFF;IAAA;IAAA,OAsFC,uBAAqBkqB,EAArB,EAAyB1G,CAAzB,EAA4B5D,MAA5B,EAAoC5f,GAApC,EAAyCiqB,QAAzC,EAAmD;MAClDjqB,GAAG,CAAC0iB,QAAJ,GAAesH,WAAW,CAACmB,eAAZ,CAA4BjB,EAA5B,EAAgC1G,CAAhC,EAAmC5D,MAAnC,EAA2CqK,QAA3C,CAAf;MACAjqB,GAAG,CAAC0iB,QAAJ,CAAaqB,kBAAb;MACA/jB,GAAG,CAAC0iB,QAAJ,CAAasB,qBAAb;MACAhkB,GAAG,CAAC0iB,QAAJ,CAAauB,oBAAb;MACAjkB,GAAG,CAAC0iB,QAAJ,CAAawB,UAAb,GAA0B,IAAI7C,mDAAJ,CAAYrhB,GAAG,CAAC0iB,QAAhB,CAA1B;IACA;EA5FF;IAAA;IAAA,OA6FC,yBAAuBwH,EAAvB,EAA2B1G,CAA3B,EAA8B5D,MAA9B,EAAsCqK,QAAtC,EAAgD;MAC/C,IAAIZ,KAAK,GAAGW,WAAW,CAACU,YAAZ,CAAyBR,EAAzB,EAA6B1G,CAA7B,EAAgC5D,MAAhC,EAAwCqK,QAAxC,CAAZ;MACA,IAAIvR,KAAK,GAAG4O,gDAAS,EAArB;MACA,OAAO,IAAIR,kDAAJ,CAAoBpO,KAApB,EAA2B2O,qDAAc,CAACgC,KAAD,CAAzC,CAAP;IACA;EAjGF;IAAA;IAAA,OAkGC,sBAAoBa,EAApB,EAAwB1G,CAAxB,EAA2B5D,MAA3B,EAAmCqK,QAAnC,EAA6C;MAC5C,IAAI1b,CAAC,GAAG2b,EAAE,CAACzG,UAAH,CAAcD,CAAd,CAAR;MACA,IAAIhG,GAAG,GAAG,IAAIwC,0CAAJ,CAAYwD,CAAC,CAACvO,CAAF,GAAMiV,EAAE,CAACjV,CAArB,EAAwBuO,CAAC,CAACtO,CAAF,GAAMgV,EAAE,CAAChV,CAAjC,EAAoCsO,CAAC,CAACrO,CAAF,GAAM+U,EAAE,CAAC/U,CAA7C,EAAgDsP,SAAhD,EAAV;MACA,IAAIoG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkClL,MAAlC,EAA0CpC,GAA1C,EAA+CiH,SAA/C,EAAV;MACA,IAAInC,MAAM,GAAG,EAAb;MACAA,MAAM,CAAC5X,IAAP,CAAY8Y,CAAZ;MACA,IAAI4H,MAAM,GAAGnB,QAAQ,IAAIzC,6CAAU,GAAG,CAAjB,CAArB;;MACA,KAAK,IAAI/U,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+U,6CAAU,GAAG,CAAjC,EAAoC/U,CAAC,EAArC,EAAyC;QACxC,IAAI4Y,KAAK,GAAG,CAAC5Y,CAAC,GAAG,CAAL,IAAU2Y,MAAtB;QACA,IAAIJ,GAAG,GAAGpc,IAAI,CAACoc,GAAL,CAASK,KAAT,CAAV;QACA,IAAIN,GAAG,GAAGnc,IAAI,CAACmc,GAAL,CAASM,KAAT,CAAV;QACA/I,MAAM,CAAC5X,IAAP,CACCwf,EAAE,CACAvK,KADF,GAEEjlB,GAFF,CAEM8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2BkL,GAAG,GAAGxc,CAAjC,CAFN,EAGE7T,GAHF,CAGMmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BmL,GAAG,GAAGzc,CAAjC,CAHN,CADD;MAMA;;MACD,IAAI+c,MAAM,GAAG,IAAIzE,4CAAJ,EAAb;;MACA,KAAK,IAAIpU,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG6P,MAAM,CAAClpB,MAA3B,EAAmCqZ,EAAC,EAApC,EAAwC;QACvC,IAAIA,EAAC,GAAG6P,MAAM,CAAClpB,MAAP,GAAgB,CAAxB,EAA2B;UAC1BkyB,MAAM,CAAC5wB,GAAP,CAAW,IAAIqsB,6CAAJ,CAAezE,MAAM,CAAC7P,EAAD,CAArB,EAA0B6P,MAAM,CAAC7P,EAAC,GAAG,CAAL,CAAhC,CAAX;QACA;MACD;;MACD,OAAO6Y,MAAP;IACA;EA3HF;IAAA;IAAA,OA4HC,wBAAsBpB,EAAtB,EAA0B1G,CAA1B,EAA6B5D,MAA7B,EAAqCqK,QAArC,EAA+C;MAC9C,IAAI1b,CAAC,GAAG2b,EAAE,CAACzG,UAAH,CAAcD,CAAd,CAAR;MACA,IAAIhG,GAAG,GAAG,IAAIwC,0CAAJ,CAAYwD,CAAC,CAACvO,CAAF,GAAMiV,EAAE,CAACjV,CAArB,EAAwBuO,CAAC,CAACtO,CAAF,GAAMgV,EAAE,CAAChV,CAAjC,EAAoCsO,CAAC,CAACrO,CAAF,GAAM+U,EAAE,CAAC/U,CAA7C,EAAgDsP,SAAhD,EAAV;MACA,IAAIoG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkClL,MAAlC,EAA0CpC,GAA1C,EAA+CiH,SAA/C,EAAV;MACA,IAAIuG,GAAG,GAAGpc,IAAI,CAACoc,GAAL,CAASf,QAAT,CAAV;MACA,IAAIc,GAAG,GAAGnc,IAAI,CAACmc,GAAL,CAASd,QAAT,CAAV;MACA,OAAOC,EAAE,CACPvK,KADK,GAELjlB,GAFK,CAED8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2BkL,GAAG,GAAGxc,CAAjC,CAFC,EAGL7T,GAHK,CAGDmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BmL,GAAG,GAAGzc,CAAjC,CAHC,CAAP;IAIA;EAtIF;IAAA;IAAA,OAuIC,yBAAuB/M,IAAvB,EAA6BuG,MAA7B,EAAqC/H,GAArC,EAA0CkqB,EAA1C,EAA8Ce,QAA9C,EAAwDrL,MAAxD,EAAgE;MAC/D,IAAI4J,KAAK,GAAGrW,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ;MACAoW,KAAK,CAAChvB,SAAN,GAAkB,WAAlB;MACAgvB,KAAK,CAACxuB,KAAN,GAAc4T,IAAI,CAAC6a,KAAL,CAAYS,EAAE,CAACzG,UAAH,CAAcwH,QAAd,IAA0BljB,MAA3B,GAAqC,IAAhD,IAAwD,IAAtE;MACAyhB,KAAK,CAACte,gBAAN,CACC,QADD,EAEC,UAAUnR,CAAV,EAAa;QACZ2vB,iBAAiB,CAAC3vB,CAAD,EAAIgO,MAAJ,CAAjB;MACA,CAJF,EAKC,KALD;MAOA,IAAI6Y,KAAK,GAAG,IAAIgH,mFAAJ,CAAgB4B,KAAhB,CAAZ;MACA,IAAIhG,CAAC,GAAGkE,qDAAc,CAACwC,EAAD,EAAKe,QAAL,CAAtB;MACArK,KAAK,CAACzB,QAAN,CAAepU,GAAf,CAAmByY,CAAC,CAACvO,CAArB,EAAwBuO,CAAC,CAACtO,CAA1B,EAA6BsO,CAAC,CAACrO,CAA/B;MACA,IAAImN,MAAM,GAAGiJ,+BAA+B,CAACrB,EAAD,EAAKe,QAAL,EAAerL,MAAf,CAA5C;MACA,IAAI8C,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCL,MAAnC,CAAf;MACA,IAAMM,KAAK,GAAG,IAAI3B,gDAAJ,CAAkByB,QAAlB,CAAd;MACA,IAAMkH,OAAO,GAAG,IAAIzI,+CAAJ,CAAiByB,KAAjB,EAAwBxV,gEAAxB,CAAhB;;MACAwc,OAAO,CAAC3lB,QAAR,CAAiB+jB,QAAjB,GAA4B,UAACjc,OAAD,EAAa;QACxC,IAAIA,OAAJ,EAAa;UACZ6d,OAAO,CAAClvB,GAAR,CAAYkmB,KAAZ;QACA,CAFD,MAEO;UACNA,KAAK,CAAChV,gBAAN;QACA;MACD,CAND;;MAOAge,OAAO,CAAC3lB,QAAR,CAAiBrI,QAAjB,GAA4B,UAACsuB,EAAD,EAAKe,QAAL,EAAerL,MAAf,EAA0B;QACrD,IAAI4D,CAAC,GAAGkE,qDAAc,CAACwC,EAAD,EAAKe,QAAL,CAAtB;QACArK,KAAK,CAACzB,QAAN,CAAepU,GAAf,CAAmByY,CAAC,CAACvO,CAArB,EAAwBuO,CAAC,CAACtO,CAA1B,EAA6BsO,CAAC,CAACrO,CAA/B;QACA,IAAImN,MAAM,GAAGiJ,+BAA+B,CAACrB,EAAD,EAAKe,QAAL,EAAerL,MAAf,CAA5C;QACA,IAAI8C,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCL,MAAnC,CAAf;QACAsH,OAAO,CAAClH,QAAR,GAAmB,IAAIzB,gDAAJ,CAAkByB,QAAlB,CAAnB;MACA,CAND;;MAOAkH,OAAO,CAAC3lB,QAAR,CAAiBmf,UAAjB,GAA8B,UAAClZ,KAAD,EAAQ6B,OAAR,EAAoB;QACjD6d,OAAO,CAAC3lB,QAAR,CAAiB+jB,QAAjB,CAA0Bjc,OAA1B;;QACA,IAAIA,OAAJ,EAAa;UACZ7B,KAAK,CAACxP,GAAN,CAAUkvB,OAAV;QACA,CAFD,MAEO;UACNA,OAAO,CAAChe,gBAAR;QACA;MACD,CAPD;;MAQAge,OAAO,CAAC3lB,QAAR,CAAiBmf,UAAjB,CAA4B5hB,IAAI,CAAC0I,KAAjC,EAAwC1I,IAAI,CAACsoB,aAA7C;;MACAF,OAAO,CAAC3lB,QAAR,CAAiB8lB,aAAjB,GAAiC,UAAChiB,MAAD,EAAY;QAC5CyhB,KAAK,CAACxuB,KAAN,GAAcwuB,KAAK,CAACxuB,KAAN,IAAe+M,MAAM,IAAI,GAAV,GAAgB,KAAhB,GAAwB,IAAvC,CAAd;QACAyhB,KAAK,CAACte,gBAAN,CACC,QADD,EAEC,UAAUnR,CAAV,EAAa;UACZ2vB,iBAAiB,CAAC3vB,CAAD,EAAIgO,MAAJ,CAAjB;QACA,CAJF,EAKC,KALD;MAOA,CATD;;MAWA,SAAS2hB,iBAAT,CAA2B3vB,CAA3B,EAA8BgO,MAA9B,EAAsC;QACrC,IAAIhB,KAAK,CAACC,UAAU,CAACjN,CAAC,CAACE,MAAF,CAASe,KAAT,GAAiB,GAAlB,CAAX,CAAT,EAA6C;QAC7C,IAAIiT,GAAG,GAAGjH,UAAU,CAACjN,CAAC,CAACE,MAAF,CAASe,KAAT,GAAiB,GAAjB,GAAuB+M,MAAxB,CAApB;QACA,IAAImgB,EAAE,GAAGloB,GAAG,CAACiE,QAAJ,CAAa6H,QAAb,CAAsBye,MAAtB,CAA6BpL,QAAtC;QACA,IAAI3B,GAAG,GAAGxd,GAAG,CAACiE,QAAJ,CAAa6H,QAAb,CAAsBsc,SAAhC;QACA,IAAI6C,QAAQ,GAAG/C,EAAE,CAACvI,KAAH,GAAWjlB,GAAX,CAAe8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2B5R,GAA3B,CAAf,CAAf;QACAjO,GAAG,CAACiE,QAAJ,CAAa6H,QAAb,CAAsBlQ,QAAtB,CAA+BqvB,QAA/B;MACA;;MACD,OAAOrB,OAAP;IACA;EApMF;IAAA;IAAA,OAqMC,8BAA4BpoB,IAA5B,EAAkCxB,GAAlC,EAAuCkqB,EAAvC,EAA2CZ,EAA3C,EAA+C1J,MAA/C,EAAuDqK,QAAvD,EAAiE;MAChE,IAAIT,KAAK,GAAGrW,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ;MACAoW,KAAK,CAAChvB,SAAN,GAAkB,OAAlB;MACAgvB,KAAK,CAACxuB,KAAN,GAAc4T,IAAI,CAAC6a,KAAL,CAAaQ,QAAQ,GAAG,GAAZ,GAAmBrb,IAAI,CAACC,EAAzB,GAA+B,IAA1C,IAAkD,IAAhE;MACA2a,KAAK,CAACte,gBAAN,CAAuB,QAAvB,EAAiCsgB,sBAAjC,EAAyD,KAAzD;MACA,IAAI5K,KAAK,GAAG,IAAIgH,mFAAJ,CAAgB4B,KAAhB,CAAZ;MACA5I,KAAK,CAACzB,QAAN,CAAepU,GAAf,CAAmBmf,EAAE,CAACjV,CAAtB,EAAyBiV,EAAE,CAAChV,CAA5B,EAA+BgV,EAAE,CAAC/U,CAAlC;MACA,IAAImN,MAAM,GAAGiJ,+BAA+B,CAACrB,EAAD,EAAKZ,EAAL,EAAS1J,MAAT,CAA5C;MACA,IAAIrR,CAAC,GAAG2b,EAAE,CAACzG,UAAH,CAAc6F,EAAd,CAAR;MACA,IAAI9L,GAAG,GAAG,IAAIwC,0CAAJ,CAAYsJ,EAAE,CAACrU,CAAH,GAAOiV,EAAE,CAACjV,CAAtB,EAAyBqU,EAAE,CAACpU,CAAH,GAAOgV,EAAE,CAAChV,CAAnC,EAAsCoU,EAAE,CAACnU,CAAH,GAAO+U,EAAE,CAAC/U,CAAhD,EAAmDsP,SAAnD,EAAV;MACA,IAAIoG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkClL,MAAlC,EAA0CpC,GAA1C,EAA+CiH,SAA/C,EAAV;MACA,IAAI8E,EAAE,GAAGW,EAAE,CACTvK,KADO,GAEPjlB,GAFO,CAEH8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2BjR,IAAI,CAACmc,GAAL,CAASd,QAAT,IAAqB1b,CAAhD,CAFG,EAGP7T,GAHO,CAGHmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BjR,IAAI,CAACoc,GAAL,CAASf,QAAT,IAAqB1b,CAAhD,CAHG,CAAT;MAIA+T,MAAM,GAAGA,MAAM,CAAC1D,MAAP,CAAc2M,+BAA+B,CAACrB,EAAD,EAAKX,EAAL,EAAS3J,MAAT,CAA7C,CAAT;MACA,IAAI8C,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCL,MAAnC,CAAf;MACA,IAAMM,KAAK,GAAG,IAAI3B,gDAAJ,CAAkByB,QAAlB,CAAd;MACA,IAAMkH,OAAO,GAAG,IAAIzI,+CAAJ,CAAiByB,KAAjB,EAAwBxV,gEAAxB,CAAhB;;MACAwc,OAAO,CAAC3lB,QAAR,CAAiB+jB,QAAjB,GAA4B,UAACjc,OAAD,EAAa;QACxC,IAAIA,OAAJ,EAAa;UACZ6d,OAAO,CAAClvB,GAAR,CAAYkmB,KAAZ;QACA,CAFD,MAEO;UACNA,KAAK,CAAChV,gBAAN;QACA;MACD,CAND;;MAOAge,OAAO,CAAC3lB,QAAR,CAAiBrI,QAAjB,GAA4B,UAACsuB,EAAD,EAAKZ,EAAL,EAAS1J,MAAT,EAAiBqK,QAAjB,EAA8B;QACzD,IAAI3H,MAAM,GAAGiJ,+BAA+B,CAACrB,EAAD,EAAKZ,EAAL,EAAS1J,MAAT,CAA5C;QACA,IAAIrR,CAAC,GAAG2b,EAAE,CAACzG,UAAH,CAAc6F,EAAd,CAAR;QACA,IAAI9L,GAAG,GAAG,IAAIwC,0CAAJ,CAAYsJ,EAAE,CAACrU,CAAH,GAAOiV,EAAE,CAACjV,CAAtB,EAAyBqU,EAAE,CAACpU,CAAH,GAAOgV,EAAE,CAAChV,CAAnC,EAAsCoU,EAAE,CAACnU,CAAH,GAAO+U,EAAE,CAAC/U,CAAhD,EAAmDsP,SAAnD,EAAV;QACA,IAAIoG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkClL,MAAlC,EAA0CpC,GAA1C,EAA+CiH,SAA/C,EAAV;QACA,IAAI8E,EAAE,GAAGW,EAAE,CACTvK,KADO,GAEPjlB,GAFO,CAEH8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2BjR,IAAI,CAACmc,GAAL,CAASd,QAAT,IAAqB1b,CAAhD,CAFG,EAGP7T,GAHO,CAGHmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BjR,IAAI,CAACoc,GAAL,CAASf,QAAT,IAAqB1b,CAAhD,CAHG,CAAT;QAIA+T,MAAM,GAAGA,MAAM,CAAC1D,MAAP,CAAc2M,+BAA+B,CAACrB,EAAD,EAAKX,EAAL,EAAS3J,MAAT,CAA7C,CAAT;QACA,IAAI8C,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCL,MAAnC,CAAf;QACAsH,OAAO,CAAClH,QAAR,GAAmB,IAAIzB,gDAAJ,CAAkByB,QAAlB,CAAnB;MACA,CAZD;;MAaAkH,OAAO,CAAC3lB,QAAR,CAAiBmf,UAAjB,GAA8B,UAAClZ,KAAD,EAAQ6B,OAAR,EAAoB;QACjD6d,OAAO,CAAC3lB,QAAR,CAAiB+jB,QAAjB,CAA0Bjc,OAA1B;;QACA,IAAIA,OAAJ,EAAa;UACZ7B,KAAK,CAACxP,GAAN,CAAUkvB,OAAV;QACA,CAFD,MAEO;UACNA,OAAO,CAAChe,gBAAR;QACA;MACD,CAPD;;MAQAge,OAAO,CAAC3lB,QAAR,CAAiBmf,UAAjB,CAA4B5hB,IAAI,CAAC0I,KAAjC,EAAwC1I,IAAI,CAACsoB,aAA7C;;MACAF,OAAO,CAAC3lB,QAAR,CAAiB8lB,aAAjB,GAAiC,YAAM;QACtCP,KAAK,CAACte,gBAAN,CAAuB,QAAvB,EAAiCsgB,sBAAjC,EAAyD,KAAzD;MACA,CAFD;;MAGA,SAASA,sBAAT,CAAgCzxB,CAAhC,EAAmC;QAClC,IAAIgN,KAAK,CAAC4f,QAAQ,CAAC5sB,CAAC,CAACE,MAAF,CAASe,KAAV,CAAT,CAAT,EAAqC;QACrC,IAAIqwB,KAAK,GAAI1E,QAAQ,CAAC5sB,CAAC,CAACE,MAAF,CAASe,KAAV,CAAR,GAA2B4T,IAAI,CAACC,EAAjC,GAAuC,GAAnD;QACA7O,GAAG,CAACiE,QAAJ,CAAa6H,QAAb,CAAsBqe,QAAtB,GAAiCkB,KAAjC;QACArrB,GAAG,CAACiE,QAAJ,CAAa6H,QAAb,CAAsBlQ,QAAtB;MACA;;MACD,OAAOguB,OAAP;IACA;EA/PF;;EAAA;AAAA;AAkQO,IAAMvL,YAAb;EAAA;IAAA;EAAA;;EAAA;IAAA;IAAA,OACC,wBAAsB3Y,WAAtB,EAAmCyF,QAAnC,EAA6C;MAC5C,IAAIzF,WAAW,CAACtM,MAAZ,IAAsB,CAA1B,EAA6B,OAAO+R,QAAQ,CAAC;QAAEtE,MAAM,EAAE,KAAV;QAAiBoL,QAAQ,EAAE;MAA3B,CAAD,CAAf;MAC7B,IAAIvM,WAAW,CAACtM,MAAZ,IAAsB,CAA1B,EAA6B,OAAO+R,QAAQ,CAAC;QAAEtE,MAAM,EAAE,KAAV;QAAiBoL,QAAQ,EAAEvM,WAAW,CAAC,CAAD;MAAtC,CAAD,CAAf;;MAC7B,KAAK,IAAI+M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/M,WAAW,CAACtM,MAAhC,EAAwCqZ,CAAC,EAAzC,EAA6C;QAC5C,IAAI1Y,CAAC,GAAG2L,WAAW,CAAC+M,CAAD,CAAnB;QACA,IAAI,CAAC1Y,CAAC,CAACkK,QAAF,CAAW6H,QAAX,CAAoB2f,cAApB,CAAmC/lB,WAAnC,CAAD,IAAoD,CAAC3L,CAAC,CAACkK,QAAF,CAAW6H,QAAX,CAAoB4f,YAApB,CAAiChmB,WAAjC,CAAzD,EACC,OAAOyF,QAAQ,CAAC;UAAEtE,MAAM,EAAE,KAAV;UAAiBoL,QAAQ,EAAElY;QAA3B,CAAD,CAAf;MACD;;MACD,OAAOoR,QAAQ,CAAC;QAAEtE,MAAM,EAAE;MAAV,CAAD,CAAf;IACA;EAVF;IAAA;IAAA,OAWC,8BAA4BnB,WAA5B,EAAyC;MACxC,IAAI4lB,MAAM,GAAG,EAAb;;MACA,KAAK,IAAI7Y,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/M,WAAW,CAACtM,MAAhC,EAAwCqZ,CAAC,EAAzC,EAA6C;QAC5C,IAAI/M,WAAW,CAAC+M,CAAD,CAAX,CAAexO,QAAf,CAAwB6H,QAAxB,CAAiC4c,MAArC,EAA6C;UAC5C,IAAIhjB,WAAW,CAAC+M,CAAD,CAAX,CAAexO,QAAf,CAAwByH,IAAxB,IAAgC5B,kDAApC,EAAqD;YACpDwhB,MAAM,CAAC5gB,IAAP,CAAYhF,WAAW,CAAC+M,CAAD,CAAX,CAAexO,QAAf,CAAwB6H,QAAxB,CAAiC4c,MAA7C;UACA;;UACD,IAAIhjB,WAAW,CAAC+M,CAAD,CAAX,CAAexO,QAAf,CAAwByH,IAAxB,IAAgC5B,iDAApC,EAAoD;YACnD,KAAK,IAAIgc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpgB,WAAW,CAAC+M,CAAD,CAAX,CAAexO,QAAf,CAAwB6H,QAAxB,CAAiC4c,MAAjC,CAAwC4C,MAAxC,CAA+ClyB,MAAnE,EAA2E0sB,CAAC,EAA5E,EAAgF;cAC/EwF,MAAM,CAAC5gB,IAAP,CAAYhF,WAAW,CAAC+M,CAAD,CAAX,CAAexO,QAAf,CAAwB6H,QAAxB,CAAiC4c,MAAjC,CAAwC4C,MAAxC,CAA+CxF,CAA/C,CAAZ;YACA;UACD;QACD;MACD;;MACD,OAAOwF,MAAP;IACA;EA1BF;IAAA;IAAA,OA2BC,8BAA4B5lB,WAA5B,EAAyC;MACxC,IAAI4lB,MAAM,GAAGjN,YAAY,CAACsN,oBAAb,CAAkCjmB,WAAlC,CAAb;MACA,IAAI4c,MAAM,GAAG,EAAb;;MACA,KAAK,IAAI7P,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6Y,MAAM,CAAClyB,MAA3B,EAAmCqZ,CAAC,EAApC,EAAwC;QACvC6P,MAAM,CAAC5X,IAAP,CAAY4gB,MAAM,CAAC7Y,CAAD,CAAN,CAAUwS,EAAtB;QACA3C,MAAM,CAAC5X,IAAP,CAAY4gB,MAAM,CAAC7Y,CAAD,CAAN,CAAUyS,EAAtB;MACA;;MACD5C,MAAM,GAAGA,MAAM,CAAClX,MAAP,CAAc,UAACpQ,KAAD,EAAQ4wB,KAAR,EAAeC,IAAf;QAAA,OAAwBA,IAAI,CAACC,SAAL,CAAe,UAACtI,CAAD;UAAA,OAAOA,CAAC,CAACC,UAAF,CAAazoB,KAAb,IAAsBmsB,qCAA7B;QAAA,CAAf,MAAoDyE,KAA5E;MAAA,CAAd,CAAT;MACA,OAAOtJ,MAAP;IACA;EApCF;;EAAA;AAAA;;AAsCA,SAAS2G,WAAT,CAAqBD,WAArB,EAAkCnG,IAAlC,EAAwC3T,KAAxC,EAA+C;EAC9C,IAAI6c,GAAG,sBAAO/C,WAAP,CAAP;;EACA+C,GAAG,CAACpmB,MAAJ,CAAWomB,GAAG,CAACnmB,OAAJ,CAAYid,IAAZ,CAAX,EAA8B,CAA9B;EACA,IAAIkJ,GAAG,CAAC3yB,MAAJ,IAAc4vB,WAAW,CAAC5vB,MAA9B,EAAsC,OAAO,KAAP;EACtC,IAAI4yB,OAAO,GAAG,EAAd;;EACA,KAAK,IAAIlG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiG,GAAG,CAAC3yB,MAAxB,EAAgC0sB,CAAC,EAAjC,EAAqC;IACpC,IAAImG,OAAO,GAAG/c,KAAK,CAACiQ,QAAN,CAAesE,UAAf,CAA0BsI,GAAG,CAACjG,CAAD,CAAH,CAAO7hB,QAAP,CAAgB6H,QAAhB,CAAyBoT,KAAzB,CAA+BC,QAAzD,CAAd;IACA,IAAI+M,OAAO,GAAGhd,KAAK,CAACiQ,QAAN,CAAesE,UAAf,CAA0BsI,GAAG,CAACjG,CAAD,CAAH,CAAO7hB,QAAP,CAAgB6H,QAAhB,CAAyB0c,GAAzB,CAA6BrJ,QAAvD,CAAd;;IACA,IAAIwI,+CAAQ,CAACsE,OAAD,EAAU,GAAV,EAAe,IAAf,CAAR,IAAgCtE,+CAAQ,CAACuE,OAAD,EAAU,GAAV,EAAe,IAAf,CAA5C,EAAkE;MACjEF,OAAO,CAACthB,IAAR,CAAaqhB,GAAG,CAACjG,CAAD,CAAhB;IACA;EACD;;EACD,OAAOkG,OAAO,CAAC5yB,MAAR,IAAkB,CAAzB;AACA;;AACM,SAASyoB,WAAT,CAAqB2B,CAArB,EAAwB2I,GAAxB,EAA6B;EACnC,IAAIC,GAAG,GAAGjZ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV;EACAgZ,GAAG,CAAC5xB,SAAJ,GAAgB2xB,GAAhB;EACA,IAAIvL,KAAK,GAAG,IAAIgH,mFAAJ,CAAgBwE,GAAhB,CAAZ,CAHmC,CAInC;;EACA,IAAM1J,QAAQ,GAAG,IAAIsE,iDAAJ,CAAmBC,uCAAI,GAAG,CAA1B,EAA6B,EAA7B,EAAiC,EAAjC,CAAjB;EACA,IAAI/X,KAAK,GAAG,IAAIkS,uCAAJ,CAASsB,QAAT,EAAmBtV,iEAAnB,CAAZ;EACA8B,KAAK,CAACiQ,QAAN,CAAepU,GAAf,CAAmByY,CAAC,CAACvO,CAArB,EAAwBuO,CAAC,CAACtO,CAA1B,EAA6BsO,CAAC,CAACrO,CAA/B;EACAjG,KAAK,CAACjL,QAAN,CAAeyH,IAAf,GAAsB5B,mDAAtB;;EACAoF,KAAK,CAACjL,QAAN,CAAe+jB,QAAf,GAA0B,UAACjc,OAAD,EAAa;IACtC,IAAIA,OAAJ,EAAa;MACZmD,KAAK,CAACxU,GAAN,CAAUkmB,KAAV;IACA,CAFD,MAEO;MACNA,KAAK,CAAChV,gBAAN;IACA;EACD,CAND;;EAOAsD,KAAK,CAACjL,QAAN,CAAe2f,WAAf,GAA6B,UAACsE,EAAD,EAAQ;IACpChZ,KAAK,CAACiQ,QAAN,CAAepU,GAAf,CAAmBmd,EAAE,CAACjT,CAAtB,EAAyBiT,EAAE,CAAChT,CAA5B,EAA+BgT,EAAE,CAAC/S,CAAlC;EACA,CAFD;;EAGAjG,KAAK,CAACjL,QAAN,CAAemf,UAAf,GAA4B,UAAClZ,KAAD,EAAQ6B,OAAR,EAAoB;IAC/CmD,KAAK,CAACjL,QAAN,CAAe+jB,QAAf,CAAwBjc,OAAxB;;IACA,IAAIA,OAAJ,EAAa;MACZ7B,KAAK,CAACxP,GAAN,CAAUwU,KAAV;IACA,CAFD,MAEO;MACNA,KAAK,CAACtD,gBAAN;IACA;EACD,CAPD;;EASA,OAAOsD,KAAP;AACA;AAEM,SAASya,4BAAT,CAAsCzB,EAAtC,EAA0CC,EAA1C,EAA8CvI,MAA9C,EAAsD;EAC5D,IAAI0C,MAAM,GAAG,EAAb;EACA,IAAI9E,GAAG,GAAG,IAAIwC,0CAAJ,CAAYmI,EAAE,CAAClT,CAAH,GAAOiT,EAAE,CAACjT,CAAtB,EAAyBkT,EAAE,CAACjT,CAAH,GAAOgT,EAAE,CAAChT,CAAnC,EAAsCiT,EAAE,CAAChT,CAAH,GAAO+S,EAAE,CAAC/S,CAAhD,EAAmDsP,SAAnD,EAAV;EACA,IAAI4H,IAAI,GAAG7O,GAAG,CAACmC,KAAJ,GAAYgF,MAAZ,EAAX;EACA,IAAIkG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkClL,MAAlC,EAA0CpC,GAA1C,EAA+CiH,SAA/C,EAAV;EACA,IAAI6H,GAAG,GAAGpE,EAAE,CAACvI,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAA3B,CAAf,CAAV;EACA,IAAI8E,GAAG,GAAGpE,EAAE,CAACxI,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAA3B,CAAf,CAAV;EACA,IAAIxC,EAAE,GAAGiD,EAAE,CACTvI,KADO,GAEPjlB,GAFO,CAEH2xB,IAAI,CAAC1M,KAAL,GAAaE,cAAb,CAA4BqH,4CAAS,GAAG,CAAxC,CAFG,EAGPxsB,GAHO,CAGHmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAAU,GAAG,CAAxC,CAHG,CAAT;EAIA,IAAIvC,EAAE,GAAGgD,EAAE,CACTvI,KADO,GAEPjlB,GAFO,CAEH8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2BqH,4CAAS,GAAG,CAAvC,CAFG,EAGPxsB,GAHO,CAGHmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAAU,GAAG,CAAxC,CAHG,CAAT;EAIA,IAAItC,EAAE,GAAGD,EAAE,CAACvF,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAAU,GAAG,CAAb,GAAiBL,6CAA5C,CAAf,CAAT;EACA,IAAIhC,EAAE,GAAGH,EAAE,CAACtF,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAAU,GAAG,CAAb,GAAiBL,6CAA5C,CAAf,CAAT;EACA9E,MAAM,CAAC5X,IAAP,CAAYua,EAAZ;EACA3C,MAAM,CAAC5X,IAAP,CAAYwa,EAAZ;EACA5C,MAAM,CAAC5X,IAAP,CAAYya,EAAZ;EACA7C,MAAM,CAAC5X,IAAP,CAAYua,EAAZ;EACA3C,MAAM,CAAC5X,IAAP,CAAYya,EAAZ;EACA7C,MAAM,CAAC5X,IAAP,CAAY0a,EAAZ;EACA,IAAIoH,EAAE,GAAGrE,EAAE,CACTxI,KADO,GAEPjlB,GAFO,CAEH2xB,IAAI,CAAC1M,KAAL,GAAaE,cAAb,CAA4BqH,4CAAS,GAAG,CAAxC,CAFG,EAGPxsB,GAHO,CAGHmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAAU,GAAG,CAAxC,CAHG,CAAT;EAIA,IAAIgF,EAAE,GAAGtE,EAAE,CACTxI,KADO,GAEPjlB,GAFO,CAEH8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2BqH,4CAAS,GAAG,CAAvC,CAFG,EAGPxsB,GAHO,CAGHmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAAU,GAAG,CAAxC,CAHG,CAAT;EAIA,IAAIiF,EAAE,GAAGD,EAAE,CAAC9M,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAAU,GAAG,CAAb,GAAiBL,6CAA5C,CAAf,CAAT;EACA,IAAIuF,EAAE,GAAGH,EAAE,CAAC7M,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B4H,6CAAU,GAAG,CAAb,GAAiBL,6CAA5C,CAAf,CAAT;EACA9E,MAAM,CAAC5X,IAAP,CAAY8hB,EAAZ;EACAlK,MAAM,CAAC5X,IAAP,CAAY+hB,EAAZ;EACAnK,MAAM,CAAC5X,IAAP,CAAYgiB,EAAZ;EACApK,MAAM,CAAC5X,IAAP,CAAY8hB,EAAZ;EACAlK,MAAM,CAAC5X,IAAP,CAAYgiB,EAAZ;EACApK,MAAM,CAAC5X,IAAP,CAAYiiB,EAAZ;EACA,IAAIC,EAAE,GAAGN,GAAG,CACV3M,KADO,GAEPjlB,GAFO,CAEHmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BqH,4CAAS,GAAG,CAAvC,CAFG,EAGPxsB,GAHO,CAGH2xB,IAAI,CAAC1M,KAAL,GAAaE,cAAb,CAA4BuH,6CAA5B,CAHG,CAAT;EAIA,IAAIyF,GAAG,GAAGD,EAAE,CAACjN,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B,CAACqH,4CAA5B,CAAf,CAAV;EACA,IAAI4F,GAAG,GAAGP,GAAG,CACX5M,KADQ,GAERjlB,GAFQ,CAEJmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BqH,4CAAS,GAAG,CAAvC,CAFI,EAGRxsB,GAHQ,CAGJ8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2BuH,6CAA3B,CAHI,CAAV;EAIA,IAAI2F,GAAG,GAAGD,GAAG,CAACnN,KAAJ,GAAYjlB,GAAZ,CAAgBmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B,CAACqH,4CAA5B,CAAhB,CAAV;EACA5E,MAAM,CAAC5X,IAAP,CAAYkiB,EAAZ;EACAtK,MAAM,CAAC5X,IAAP,CAAYmiB,GAAZ;EACAvK,MAAM,CAAC5X,IAAP,CAAYqiB,GAAZ;EACAzK,MAAM,CAAC5X,IAAP,CAAYkiB,EAAZ;EACAtK,MAAM,CAAC5X,IAAP,CAAYqiB,GAAZ;EACAzK,MAAM,CAAC5X,IAAP,CAAYoiB,GAAZ;EACA,OAAOxK,MAAP;AACA;AACM,SAASiJ,+BAAT,CAAyCrD,EAAzC,EAA6CC,EAA7C,EAAiDvI,MAAjD,EAAyD;EAC/D,IAAI0C,MAAM,GAAG,EAAb;EACA,IAAI9E,GAAG,GAAG,IAAIwC,0CAAJ,CAAYmI,EAAE,CAAClT,CAAH,GAAOiT,EAAE,CAACjT,CAAtB,EAAyBkT,EAAE,CAACjT,CAAH,GAAOgT,EAAE,CAAChT,CAAnC,EAAsCiT,EAAE,CAAChT,CAAH,GAAO+S,EAAE,CAAC/S,CAAhD,EAAmDsP,SAAnD,EAAV;EACA,IAAIoG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkClL,MAAlC,EAA0CpC,GAA1C,EAA+CiH,SAA/C,EAAV;EACA,IAAIQ,EAAE,GAAGiD,EAAE,CAACvI,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BqH,4CAAS,GAAG,CAAvC,CAAf,CAAT;EACA,IAAIhC,EAAE,GAAGgD,EAAE,CAACvI,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B,CAACqH,4CAAD,GAAa,CAAxC,CAAf,CAAT;EACA,IAAI/B,EAAE,GAAGgD,EAAE,CAACxI,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2B,CAACqH,4CAAD,GAAa,CAAxC,CAAf,CAAT;EACA,IAAI9B,EAAE,GAAG+C,EAAE,CAACxI,KAAH,GAAWjlB,GAAX,CAAemwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BqH,4CAAS,GAAG,CAAvC,CAAf,CAAT;EACA5E,MAAM,CAAC5X,IAAP,CAAYua,EAAZ;EACA3C,MAAM,CAAC5X,IAAP,CAAYwa,EAAZ;EACA5C,MAAM,CAAC5X,IAAP,CAAYya,EAAZ;EACA7C,MAAM,CAAC5X,IAAP,CAAYua,EAAZ;EACA3C,MAAM,CAAC5X,IAAP,CAAYya,EAAZ;EACA7C,MAAM,CAAC5X,IAAP,CAAY0a,EAAZ;EACA,OAAO9C,MAAP;AACA;;;;;;;;;;;;;;;;;;AC1lBD;AAEO,IAAMZ,WAAW,GAAG;EAC1BpkB,KAAK,EAAE,eAAC4M,KAAD,EAAW;IACjB,OAAOA,KAAK,CAAClF,QAAN,CAAeoG,MAAf,CAAsB,UAACrR,CAAD;MAAA,OAAO,CAAC+P,qDAAA,CAAmB/P,CAAnB,KAAyB+P,uDAAA,CAAqB/P,CAArB,CAA1B,KAAsDA,CAAC,CAACgS,OAA/D;IAAA,CAAtB,CAAP;EACA,CAHyB;EAI1B,UAAQ,iBAAC7B,KAAD,EAAW;IAClB,OAAOA,KAAK,CAAClF,QAAN,CAAeoG,MAAf,CAAsB,UAACrR,CAAD;MAAA,OAAO+P,qDAAA,CAAmB/P,CAAnB,KAAyBA,CAAC,CAACgS,OAAlC;IAAA,CAAtB,CAAP;EACA;AANyB,CAApB;AAQA,SAAS0V,WAAT,CAAqB4E,KAArB,EAA4B7kB,IAA5B,EAAkC4J,MAAlC,EAA0C;EAChD,IAAM4hB,MAAM,GAAGxrB,IAAI,CAACyJ,UAAL,CAAgBgiB,qBAAhB,EAAf;EACA,IAAMpI,EAAE,GAAGwB,KAAK,CAAC5a,OAAN,GAAgBuhB,MAAM,CAACvpB,IAAlC;EACA,IAAMypB,EAAE,GAAG7G,KAAK,CAAC7a,OAAN,GAAgBwhB,MAAM,CAACxpB,GAAlC;EACA,IAAMshB,EAAE,GAAGkI,MAAM,CAACG,KAAP,GAAeH,MAAM,CAACvpB,IAAjC;EACA,IAAM2pB,EAAE,GAAGJ,MAAM,CAACK,MAAP,GAAgBL,MAAM,CAACxpB,GAAlC;EACAhC,IAAI,CAACwkB,KAAL,CAAW/Q,CAAX,GAAgB4P,EAAE,GAAGC,EAAN,GAAY,CAAZ,GAAgB,CAA/B;EACAtjB,IAAI,CAACwkB,KAAL,CAAW9Q,CAAX,GAAe,EAAEgY,EAAE,GAAGE,EAAP,IAAa,CAAb,GAAiB,CAAhC;EACA5rB,IAAI,CAAC8rB,SAAL,CAAeC,aAAf,CAA6B/rB,IAAI,CAACwkB,KAAlC,EAAyCxkB,IAAI,CAACgsB,MAA9C;EACA,OAAOhsB,IAAI,CAAC8rB,SAAL,CAAeG,gBAAf,CAAgCriB,MAAhC,CAAP;AACA;AACM,SAASsiB,YAAT,GAAwB;EAC9B,OAAO;IACN,WAAS,kBAACziB,UAAD,EAAgB;MACxBA,UAAU,CAAC6M,KAAX,CAAiB6V,MAAjB,GAA0B,SAA1B;IACA,CAHK;IAINC,OAAO,EAAE,iBAAC3iB,UAAD,EAAgB;MACxBA,UAAU,CAAC6M,KAAX,CAAiB6V,MAAjB,GAA0B,SAA1B;IACA,CANK;IAONE,IAAI,EAAE,cAAC5iB,UAAD,EAAgB;MACrBA,UAAU,CAAC6M,KAAX,CAAiB6V,MAAjB,GAA0B,MAA1B;IACA,CATK;IAUNG,SAAS,EAAE,mBAAC7iB,UAAD,EAAgB;MAC1BA,UAAU,CAAC6M,KAAX,CAAiB6V,MAAjB,GAA0B,WAA1B;IACA,CAZK;IAaNI,KAAK,EAAE,eAAC9iB,UAAD,EAAgB;MACtBA,UAAU,CAAC6M,KAAX,CAAiB6V,MAAjB,GAA0B,OAA1B;IACA,CAfK;IAgBN7vB,OAAO,EAAE,iBAACmN,UAAD,EAAgB;MACxBA,UAAU,CAAC6M,KAAX,CAAiB6V,MAAjB,GAA0B,YAA1B;IACA,CAlBK;IAmBNK,UAAU,EAAE,oBAAC/iB,UAAD,EAAgB;MAC3BA,UAAU,CAAC6M,KAAX,CAAiB6V,MAAjB,GAA0B,aAA1B;IACA;EArBK,CAAP;AAuBA;;;;;;;;;;;;;;;;;;;;;;;+CC5CD;;;;;;AADA;AACA;AACA;CAEA;;AACA;AACA;AACO,SAASO,WAAT,CAAqB1sB,IAArB,EAA2Bkd,GAA3B,EAAgCvT,QAAhC,EAA0C;EAChD,IAAIgjB,KAAK,GAAG,CAAZ;EACA,IAAInI,KAAK,GAAG,IAAIlF,0CAAJ,EAAZ;EACA,IAAIoJ,EAAE,GAAG,IAAIlK,0CAAJ,EAAT;EACA,IAAIwD,CAAC,GAAG,IAAIxD,0CAAJ,EAAR;EACA,IAAIsC,MAAM,GAAG,EAAb;EACA,IAAItf,KAAJ;EACA,IAAI6f,IAAI,GAAGuL,iBAAiB,CAAC9L,MAAD,EAAS9gB,IAAT,CAA5B;;EAEA,SAAS4H,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0Cgb,WAA1C,EAAuD,KAAvD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EAED,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;IACA9kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,OAApC,EAA6CR,WAA7C;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACA1H,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACAX,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;IACA4X,IAAI,CAACjX,gBAAL;IACAiX,IAAI,CAAC5e,QAAL,CAAc0H,OAAd,CAAsBC,gBAAtB;;IACA,IAAI0a,OAAO,IAAI,EAAf,EAAmB;MAClBnb,QAAQ,CAAC,IAAD,CAAR;MACA;IACA;;IACD,IAAImb,OAAO,IAAI,EAAf,EAAmB;MAClB,IAAI6H,KAAK,IAAI,CAAb,EAAgB;QACfhjB,QAAQ,CAAC,IAAD,CAAR;QACA;MACA,CAHD,MAGO;QACNmX,MAAM,CAAC5X,IAAP,CAAYwf,EAAZ;QACA,IAAIoE,OAAO,GAAGF,iBAAiB,CAAC9L,MAAD,EAAS9gB,IAAT,CAA/B;QACA8sB,OAAO,CAAC5L,QAAR,CAAiBqB,kBAAjB;QACAuK,OAAO,CAAC5L,QAAR,CAAiBsB,qBAAjB;QACAsK,OAAO,CAAC5L,QAAR,CAAiBuB,oBAAjB;QACAqK,OAAO,CAAC5L,QAAR,CAAiBwB,UAAjB,GAA8B,IAAI7C,mDAAJ,CAAYiN,OAAO,CAAC5L,QAApB,CAA9B;QACAvX,QAAQ,CAACmjB,OAAD,CAAR;MACA;IACD;EACD;;EA3C+C,SA4CjCpI,WA5CiC;IAAA;EAAA;;EAAA;IAAA,0EA4ChD,iBAA2BnsB,CAA3B;MAAA;MAAA;QAAA;UAAA;YAAA;cACOysB,KADP,GACe/E,kDAAW,CAAC1nB,CAAD,EAAIyH,IAAJ,EAAUkgB,oDAAA,CAAkBlgB,IAAI,CAAC0I,KAAvB,CAAV,CAAX,CAAoD,CAApD,CADf;;cAEC,IAAIikB,KAAK,KAAK,CAAd,EAAiB;gBACZjL,SADY,GACAtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiBglB,KAAjB,EAAwB,IAAxB,CADnB;gBAEhB0D,EAAE,GAAGhH,SAAS,CAAChU,KAAf;gBACAlM,KAAK,GAAGkgB,SAAS,CAAClgB,KAAlB;gBAEAsf,MAAM,CAAC5X,IAAP,CAAYwf,EAAZ;cACA,CAND,MAMO;gBACFhH,SADE,GACUtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAD7B;gBAEFkM,KAFE,GAEMgU,SAAS,CAAChU,KAFhB;gBAGNoT,MAAM,CAAC5X,IAAP,CAAYwE,KAAZ;cACA;;cACDqf,aAAa,CAAC1L,IAAD,EAAOP,MAAP,CAAb;cACA6L,KAAK;;YAdN;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CA5CgD;IAAA;EAAA;;EA6DhD,SAAShI,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB2zB,mDAAY,GAAGI,SAAf,CAAyBtsB,IAAI,CAACyJ,UAA9B;;IACA,IAAIkjB,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAwgB,CAAC,GAAGN,SAAS,CAAChU,KAAd;MAEA,IAAIsf,SAAS,aAAOlM,MAAP,GAAekB,CAAf,EAAkB0G,EAAlB,EAAb;MACAqE,aAAa,CAAC1L,IAAD,EAAO2L,SAAP,CAAb;IACA;EACD;;EACDplB,IAAI;AACJ;;AACD,SAASglB,iBAAT,CAA2B9L,MAA3B,EAAmC9gB,IAAnC,EAAyC;EACxC,IAAIitB,SAAS,GAAG,IAAIC,YAAJ,CAAiBT,6CAAU,GAAG,CAA9B,CAAhB;;EACA,KAAK,IAAIxb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6P,MAAM,CAAClpB,MAAP,GAAgB,CAApC,EAAuCqZ,CAAC,EAAxC,EAA4C;IAC3Cgc,SAAS,CAAChc,CAAC,GAAG,CAAL,CAAT,GAAmB6P,MAAM,CAAC7P,CAAD,CAAN,CAAUwC,CAA7B;IACAwZ,SAAS,CAAChc,CAAC,GAAG,CAAJ,GAAQ,CAAT,CAAT,GAAuB6P,MAAM,CAAC7P,CAAD,CAAN,CAAUyC,CAAjC;IACAuZ,SAAS,CAAChc,CAAC,GAAG,CAAJ,GAAQ,CAAT,CAAT,GAAuB6P,MAAM,CAAC7P,CAAD,CAAN,CAAU0C,CAAjC;EACA;;EACD,IAAIuN,QAAQ,GAAG,IAAI1B,iDAAJ,EAAf;EACA0B,QAAQ,CAACiM,YAAT,CAAsB,UAAtB,EAAkC,IAAI5N,kDAAJ,CAAoB0N,SAApB,EAA+B,CAA/B,CAAlC;EACA/L,QAAQ,CAACkM,YAAT,CAAsB,CAAtB,EAAyB,KAAKtM,MAAM,CAAClpB,MAAP,GAAgB,CAArB,CAAzB;EACA,IAAIoZ,OAAO,GAAG,EAAd;;EACA,KAAK,IAAIC,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG6P,MAAM,CAAClpB,MAAP,GAAgB,CAApC,EAAuCqZ,EAAC,EAAxC,EAA4C;IAC3CD,OAAO,CAAC9H,IAAR,CAAa,CAAb;IACA8H,OAAO,CAAC9H,IAAR,CAAa+H,EAAC,GAAG,CAAjB;IACAD,OAAO,CAAC9H,IAAR,CAAa+H,EAAC,GAAG,CAAjB;EACA;;EACDiQ,QAAQ,CAACmM,QAAT,CAAkBrc,OAAlB;EAEA,IAAIqQ,IAAI,GAAG,IAAIzB,uCAAJ,CAASsB,QAAT,EAAmBtV,iEAAnB,CAAX;EACA,IAAMwV,KAAK,GAAG,IAAI3B,gDAAJ,CAAkByB,QAAlB,CAAd;EACA,IAAMviB,IAAI,GAAG,IAAIghB,+CAAJ,CAAiByB,KAAjB,EAAwBxV,gEAAxB,CAAb;EACA5L,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAeyF,IAAf;EACAqB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAemoB,IAAf;EAEAiM,kBAAkB,CAACjM,IAAD,EAAO1iB,IAAP,CAAlB;EACA,OAAO0iB,IAAP;AACA;;AACD,SAAS0L,aAAT,CAAuB9H,MAAvB,EAA+BsI,UAA/B,EAA2C;EAC1C,IAAIC,aAAa,GAAGvI,MAAM,CAAC/D,QAAP,CAAgBuM,UAAhB,CAA2B9P,QAA3B,CAAoC+P,KAAxD;;EACA,KAAK,IAAIzc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsc,UAAU,CAAC31B,MAA/B,EAAuCqZ,CAAC,EAAxC,EAA4C;IAC3Cuc,aAAa,CAACvc,CAAC,GAAG,CAAL,CAAb,GAAuBsc,UAAU,CAACtc,CAAD,CAAV,CAAcwC,CAArC;IACA+Z,aAAa,CAACvc,CAAC,GAAG,CAAJ,GAAQ,CAAT,CAAb,GAA2Bsc,UAAU,CAACtc,CAAD,CAAV,CAAcyC,CAAzC;IACA8Z,aAAa,CAACvc,CAAC,GAAG,CAAJ,GAAQ,CAAT,CAAb,GAA2Bsc,UAAU,CAACtc,CAAD,CAAV,CAAc0C,CAAzC;EACA;;EACDsR,MAAM,CAAC/D,QAAP,CAAgBuM,UAAhB,CAA2B9P,QAA3B,CAAoCgQ,WAApC,GAAkD,IAAlD;EACA1I,MAAM,CAAC/D,QAAP,CAAgBkM,YAAhB,CAA6B,CAA7B,EAAgC,KAAKG,UAAU,CAAC31B,MAAX,GAAoB,CAAzB,CAAhC;EACA,IAAIoZ,OAAO,GAAG,EAAd;;EACA,KAAK,IAAIC,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGsc,UAAU,CAAC31B,MAAX,GAAoB,CAAxC,EAA2CqZ,GAAC,EAA5C,EAAgD;IAC/CD,OAAO,CAAC9H,IAAR,CAAa,CAAb;IACA8H,OAAO,CAAC9H,IAAR,CAAa+H,GAAC,GAAG,CAAjB;IACAD,OAAO,CAAC9H,IAAR,CAAa+H,GAAC,GAAG,CAAjB;EACA;;EACDgU,MAAM,CAAC/D,QAAP,CAAgBmM,QAAhB,CAAyBrc,OAAzB;EACAiU,MAAM,CAACxiB,QAAP,CAAgB0H,OAAhB,CAAwB+W,QAAxB,GAAmC,IAAIzB,gDAAJ,CAAkBwF,MAAM,CAAC/D,QAAzB,CAAnC;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5HD;AACA;AACA;AACA;AACA;AAEO,SAAS8M,WAAT,CAAqBhuB,IAArB,EAA2Bkd,GAA3B,EAAgCvT,QAAhC,EAA0C;EAChD,IAAI6a,KAAK,GAAG,IAAIlF,0CAAJ,EAAZ;EACA,IAAIhjB,OAAO,GAAG,KAAd;EACA,IAAIkF,KAAK,GAAG,KAAZ;EACA,IAAIknB,EAAJ;EACA,IAAIL,EAAJ;EACA,IAAI4F,WAAW,GAAG,EAAlB;EACA,IAAIC,UAAU,GAAG,EAAjB;EACA,IAAIC,SAAS,GAAG,EAAhB;EACA,IAAIC,QAAQ,GAAG,EAAf;EACA,IAAIC,cAAc,GAAG,EAArB;EACA,IAAIhN,IAAJ;;EACA,SAASzZ,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cgb,WAA9C,EAA2D,KAA3D;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,SAAjC,EAA4C4kB,SAA5C,EAAuD,KAAvD;IACAtuB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EAED,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IACA,IAAIA,OAAO,IAAI,EAAX,IAAiBA,OAAO,IAAI,EAAhC,EAAoC;MACnCC,cAAc;IACd;EACD;;EACD,SAASL,WAAT,CAAqBnsB,CAArB,EAAwB;IACvB,IAAMysB,KAAK,GAAG/E,kDAAW,CAAC1nB,CAAD,EAAIyH,IAAJ,EAAUkgB,oDAAA,CAAkBlgB,IAAI,CAAC0I,KAAvB,CAAV,CAAX,CAAoD,CAApD,CAAd;;IACA,IAAIsc,KAAJ,EAAW;MACV,IAAI,CAACxjB,KAAL,EAAYA,KAAK,GAAG,IAAI+c,wCAAJ,CAAU,IAAIC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAV,EAAgC,CAAhC,CAAR;MACZhd,KAAK,GAAGA,KAAK,CAACkf,6BAAN,CAAoCsE,KAAK,CAACpQ,IAAN,CAAWwJ,MAA/C,EAAuD4G,KAAK,CAACtX,KAA7D,CAAR;MACAgb,EAAE,GAAG1D,KAAK,CAACtX,KAAX;MACA,IAAI6gB,QAAQ,GAAGX,wDAAiB,CAAC5I,KAAK,CAACC,MAAP,EAAezjB,KAAf,CAAhC;MACAysB,WAAW,GAAGM,QAAQ,CAACN,WAAvB;MACAC,UAAU,GAAGK,QAAQ,CAACL,UAAtB;MACAC,SAAS,GAAGI,QAAQ,CAACJ,SAArB;MACAC,QAAQ,GAAGG,QAAQ,CAACH,QAApB;MACAC,cAAc,GAAGE,QAAQ,CAACF,cAA1B;MACAhN,IAAI,GAAG2D,KAAK,CAACC,MAAb;MACA9e,OAAO,CAACC,GAAR,CAAY6nB,WAAZ;IACA,CAZD,MAYO;MACNzsB,KAAK,GAAG,IAAR;MACAysB,WAAW,GAAG,EAAd;MACAC,UAAU,GAAG,EAAb;MACAC,SAAS,GAAG,EAAZ;MACAC,QAAQ,GAAG,EAAX;MACAC,cAAc,GAAG,EAAjB;MACAhN,IAAI,GAAG,IAAP;IACA;;IACD/kB,OAAO,GAAG,IAAV;EACA;;EACD,SAASgyB,SAAT,CAAmB/1B,CAAnB,EAAsB;IACrB+D,OAAO,GAAG,KAAV;IACAkF,KAAK,GAAG,IAAR;IACAknB,EAAE,GAAG,IAAL;IACAuF,WAAW,GAAG,EAAd;IACAC,UAAU,GAAG,EAAb;IACAC,SAAS,GAAG,EAAZ;IACAC,QAAQ,GAAG,EAAX;IACAC,cAAc,GAAG,EAAjB;;IACA,IAAIhN,IAAJ,EAAU;MACTA,IAAI,CAAC5e,QAAL,CAAc+rB,SAAd,GAA0B,IAA1B;IACA;;IACDxuB,IAAI,CAACwd,QAAL,CAAciR,YAAd,CAA2BC,IAA3B,GAAkC,CAAlC;EACA;;EAED,SAAS/J,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB,IAAMysB,KAAK,GAAG/E,kDAAW,CAAC1nB,CAAD,EAAIyH,IAAJ,EAAUkgB,oDAAA,CAAkBlgB,IAAI,CAAC0I,KAAvB,CAAV,CAAX,CAAoD,CAApD,CAAd;;IACA,IAAIsc,KAAJ,EAAW;MACVkH,mDAAY,GAAG5vB,OAAf,CAAuB0D,IAAI,CAACyJ,UAA5B;IACA,CAFD,MAEO;MACNyiB,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;IACA;;IACDzJ,IAAI,CAACwd,QAAL,CAAcmR,OAAd,GAAwBntB,KAAK,IAAI,IAAjC;;IACA,IAAIlF,OAAO,IAAIkF,KAAf,EAAsB;MACrB6mB,EAAE,GAAGwF,gEAAyB,CAACt1B,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiBwB,KAAjB,EAAwBknB,EAAxB,CAA9B;MACA,IAAIkG,GAAG,GAAGptB,KAAK,CAACqtB,eAAN,CAAsBxG,EAAtB,CAAV;MACAyG,aAAa,CAACF,GAAD,CAAb;IACA;EACD;;EACD,SAASE,aAAT,CAAuBF,GAAvB,EAA4B;IAC3B,IAAIX,WAAW,CAACr2B,MAAZ,GAAqB,CAArB,IAA0BypB,IAA9B,EAAoC;MACnC,IAAI,CAACA,IAAI,CAAC5e,QAAL,CAAc+rB,SAAnB,EAA8B;QAC7B,IAAIO,cAAc,GAAGd,WAAW,CAACrkB,MAAZ,CACpB,UAACpQ,KAAD,EAAQ4wB,KAAR,EAAeC,IAAf;UAAA,OAAwBA,IAAI,CAACC,SAAL,CAAe,UAAC1xB,CAAD;YAAA,OAAOA,CAAC,CAACqpB,UAAF,CAAazoB,KAAb,IAAsBmsB,qCAA7B;UAAA,CAAf,MAAoDyE,KAA5E;QAAA,CADoB,CAArB;QAGA,IAAI4C,SAAS,GAAGgC,mBAAmB,CAACD,cAAD,EAAiBH,GAAjB,EAAsBptB,KAAK,CAAC4c,MAA5B,EAAoC,KAApC,CAAnC;QACAiD,IAAI,CAACH,QAAL,GAAgB,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmC6L,SAAnC,CAAhB;MACA,CAND,MAMO;QACN,IAAIA,SAAS,GAAGgC,mBAAmB,CAACf,WAAD,EAAcW,GAAd,EAAmBptB,KAAK,CAAC4c,MAAzB,EAAiC,IAAjC,CAAnC;;QAEA,IAAI+P,SAAS,CAACv2B,MAAV,IAAoBq2B,WAAW,CAACr2B,MAAZ,GAAqB,CAA7C,EAAgD;UAC/C,IAAIq3B,YAAY,GAAGD,mBAAmB,CAACb,SAAD,EAAYS,GAAZ,EAAiBptB,KAAK,CAAC4c,MAAvB,EAA+B,IAA/B,CAAtC;UACA8Q,qBAAqB,CAAC7N,IAAD,EAAO6M,UAAP,EAAmBE,QAAnB,EAA6BpB,SAA7B,EAAwCiC,YAAxC,CAArB;QACA,CAHD,MAGO;UACN9oB,OAAO,CAACC,GAAR,CAAY6nB,WAAW,CAACr2B,MAAxB;UACA,IAAIu3B,YAAY,GAAGC,eAAe,CAACnB,WAAD,EAAcI,cAAd,EAA8BrB,SAA9B,CAAlC;UACA3L,IAAI,CAACH,QAAL,GAAgB,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCgO,YAAnC,CAAhB;QACA;MACD;;MACD9N,IAAI,CAACH,QAAL,CAAcqB,kBAAd;MACAlB,IAAI,CAACH,QAAL,CAAcsB,qBAAd;MACAnB,IAAI,CAACH,QAAL,CAAcuB,oBAAd;MACApB,IAAI,CAACH,QAAL,CAAcwB,UAAd,GAA2B,IAAI7C,mDAAJ,CAAYwB,IAAI,CAACH,QAAjB,CAA3B;MACAG,IAAI,CAAC5e,QAAL,CAAc0H,OAAd,CAAsB+W,QAAtB,GAAiC,IAAIzB,gDAAJ,CAAkB4B,IAAI,CAACH,QAAvB,CAAjC;IACA;EACD;;EACD,SAAS6D,cAAT,GAA0B;IACzBmH,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;IACAzJ,IAAI,CAACwd,QAAL,CAAcmR,OAAd,GAAwB,IAAxB;IACAzR,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDR,WAAjD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,SAApC,EAA+CoJ,SAA/C;IACAtuB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACAjb,QAAQ;EACR;;EACD/B,IAAI;AACJ;;AACD,SAASwnB,eAAT,CAAyBnB,WAAzB,EAAsCI,cAAtC,EAAsDrB,SAAtD,EAAiE;EAChE,IAAItE,EAAE,sBAAOuF,WAAP,CAAN;;EACA,IAAIoB,EAAE,sBAAOrC,SAAP,CAAN;;EACAtE,EAAE,GAAGA,EAAE,CAAC9e,MAAH,CAAU,UAACpQ,KAAD,EAAQ4wB,KAAR,EAAeC,IAAf;IAAA,OAAwBA,IAAI,CAACC,SAAL,CAAe,UAAC1xB,CAAD;MAAA,OAAOA,CAAC,CAACqpB,UAAF,CAAazoB,KAAb,IAAsBmsB,qCAA7B;IAAA,CAAf,MAAoDyE,KAA5E;EAAA,CAAV,CAAL;EACAiF,EAAE,GAAGA,EAAE,CAACzlB,MAAH,CAAU,UAACpQ,KAAD,EAAQ4wB,KAAR,EAAeC,IAAf;IAAA,OAAwBA,IAAI,CAACC,SAAL,CAAe,UAAC1xB,CAAD;MAAA,OAAOA,CAAC,CAACqpB,UAAF,CAAazoB,KAAb,IAAsBmsB,qCAA7B;IAAA,CAAf,MAAoDyE,KAA5E;EAAA,CAAV,CAAL;;EACA,IAAIkF,EAAE,sBAAOjB,cAAP,CAAN;;EACA,KAAK,IAAIpd,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyX,EAAE,CAAC9wB,MAAvB,EAA+BqZ,CAAC,EAAhC,EAAoC;IACnC,IAAIA,CAAC,IAAIyX,EAAE,CAAC9wB,MAAH,GAAY,CAArB,EAAwB;MACvB03B,EAAE,CAACpmB,IAAH,CAAQwf,EAAE,CAACzX,CAAD,CAAV;MACAqe,EAAE,CAACpmB,IAAH,CAAQwf,EAAE,CAAC,CAAD,CAAV;MACA4G,EAAE,CAACpmB,IAAH,CAAQmmB,EAAE,CAAC,CAAD,CAAV;MACAC,EAAE,CAACpmB,IAAH,CAAQwf,EAAE,CAACzX,CAAD,CAAV;MACAqe,EAAE,CAACpmB,IAAH,CAAQmmB,EAAE,CAAC,CAAD,CAAV;MACAC,EAAE,CAACpmB,IAAH,CAAQmmB,EAAE,CAACpe,CAAD,CAAV;IACA,CAPD,MAOO;MACNqe,EAAE,CAACpmB,IAAH,CAAQwf,EAAE,CAACzX,CAAD,CAAV;MACAqe,EAAE,CAACpmB,IAAH,CAAQwf,EAAE,CAACzX,CAAC,GAAG,CAAL,CAAV;MACAqe,EAAE,CAACpmB,IAAH,CAAQmmB,EAAE,CAACpe,CAAC,GAAG,CAAL,CAAV;MACAqe,EAAE,CAACpmB,IAAH,CAAQwf,EAAE,CAACzX,CAAD,CAAV;MACAqe,EAAE,CAACpmB,IAAH,CAAQmmB,EAAE,CAACpe,CAAC,GAAG,CAAL,CAAV;MACAqe,EAAE,CAACpmB,IAAH,CAAQmmB,EAAE,CAACpe,CAAD,CAAV;IACA;EACD;;EACD,OAAOqe,EAAP;AACA;;AACD,SAASN,mBAAT,CAA6BlO,MAA7B,EAAqC8N,GAArC,EAA0CxQ,MAA1C,EAAkDoQ,SAAlD,EAA6D;EAC5D,IAAIc,EAAE,GAAG,EAAT;EACA,IAAIC,KAAK,GAAG,EAAZ;;EACA,KAAK,IAAIte,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6P,MAAM,CAAClpB,MAA3B,EAAmCqZ,CAAC,EAApC,EAAwC;IACvCse,KAAK,CAACrmB,IAAN,CAAW4X,MAAM,CAAC7P,CAAD,CAAN,CAAUkN,KAAV,GAAkBjlB,GAAlB,CAAsBklB,MAAM,CAACD,KAAP,GAAeE,cAAf,CAA8BuQ,GAA9B,CAAtB,CAAX;EACA;;EACD,IAAIJ,SAAJ,EAAe;IACd,OAAOe,KAAP;EACA,CAFD,MAEO;IACN,KAAK,IAAIte,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG6P,MAAM,CAAClpB,MAAP,GAAgB,CAApC,EAAuCqZ,EAAC,EAAxC,EAA4C;MAC3Cqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC,CAAD,CAAd;MACAwO,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,EAAC,GAAG,CAAL,CAAd;MACAqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,EAAC,GAAG,CAAL,CAAd;IACA;;IAED,KAAK,IAAIA,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGse,KAAK,CAAC33B,MAAN,GAAe,CAAnC,EAAsCqZ,GAAC,EAAvC,EAA2C;MAC1Cqe,EAAE,CAACpmB,IAAH,CAAQqmB,KAAK,CAAC,CAAD,CAAb;MACAD,EAAE,CAACpmB,IAAH,CAAQqmB,KAAK,CAACte,GAAC,GAAG,CAAL,CAAb;MACAqe,EAAE,CAACpmB,IAAH,CAAQqmB,KAAK,CAACte,GAAC,GAAG,CAAL,CAAb;IACA;;IACD,KAAK,IAAIA,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG6P,MAAM,CAAClpB,MAA3B,EAAmCqZ,GAAC,EAApC,EAAwC;MACvC,IAAIA,GAAC,IAAI6P,MAAM,CAAClpB,MAAP,GAAgB,CAAzB,EAA4B;QAC3B03B,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAD,CAAd;QACAqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC,CAAD,CAAd;QACAwO,EAAE,CAACpmB,IAAH,CAAQqmB,KAAK,CAAC,CAAD,CAAb;QACAD,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAD,CAAd;QACAqe,EAAE,CAACpmB,IAAH,CAAQqmB,KAAK,CAAC,CAAD,CAAb;QACAD,EAAE,CAACpmB,IAAH,CAAQqmB,KAAK,CAACte,GAAD,CAAb;MACA,CAPD,MAOO;QACNqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAD,CAAd;QACAqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAC,GAAG,CAAL,CAAd;QACAqe,EAAE,CAACpmB,IAAH,CAAQqmB,KAAK,CAACte,GAAC,GAAG,CAAL,CAAb;QACAqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAD,CAAd;QACAqe,EAAE,CAACpmB,IAAH,CAAQqmB,KAAK,CAACte,GAAC,GAAG,CAAL,CAAb;QACAqe,EAAE,CAACpmB,IAAH,CAAQqmB,KAAK,CAACte,GAAD,CAAb;MACA;IACD;EACD;;EAED,OAAOqe,EAAP;AACA;;AACD,SAASJ,qBAAT,CAA+B7N,IAA/B,EAAqC6M,UAArC,EAAiDE,QAAjD,EAA2DpB,SAA3D,EAAsEiC,YAAtE,EAAoF;EACnF,IAAI1R,IAAI,GAAG8D,IAAI,CAACH,QAAL,CAAcuM,UAAd,CAAyB9P,QAApC;;EACA,KAAK,IAAI1M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGid,UAAU,CAACt2B,MAA/B,EAAuCqZ,CAAC,EAAxC,EAA4C;IAC3CsM,IAAI,CAACiS,IAAL,CAAUtB,UAAU,CAACjd,CAAD,CAApB,EAAyB+b,SAAS,CAAC/b,CAAD,CAAT,CAAawC,CAAtC;IACA8J,IAAI,CAACkS,IAAL,CAAUvB,UAAU,CAACjd,CAAD,CAApB,EAAyB+b,SAAS,CAAC/b,CAAD,CAAT,CAAayC,CAAtC;IACA6J,IAAI,CAACmS,IAAL,CAAUxB,UAAU,CAACjd,CAAD,CAApB,EAAyB+b,SAAS,CAAC/b,CAAD,CAAT,CAAa0C,CAAtC;EACA;;EACD,KAAK,IAAI1C,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGmd,QAAQ,CAACx2B,MAA7B,EAAqCqZ,GAAC,EAAtC,EAA0C;IACzCsM,IAAI,CAACiS,IAAL,CAAUpB,QAAQ,CAACnd,GAAD,CAAlB,EAAuBge,YAAY,CAAChe,GAAD,CAAZ,CAAgBwC,CAAvC;IACA8J,IAAI,CAACkS,IAAL,CAAUrB,QAAQ,CAACnd,GAAD,CAAlB,EAAuBge,YAAY,CAAChe,GAAD,CAAZ,CAAgByC,CAAvC;IACA6J,IAAI,CAACmS,IAAL,CAAUtB,QAAQ,CAACnd,GAAD,CAAlB,EAAuBge,YAAY,CAAChe,GAAD,CAAZ,CAAgB0C,CAAvC;EACA;;EACD0N,IAAI,CAACH,QAAL,CAAcuM,UAAd,CAAyB9P,QAAzB,CAAkCgQ,WAAlC,GAAgD,IAAhD;AACA;;;;;;;;;;;;;;;;;;;;AC5MD;AACA;AACA;AACA;AACA;AAUO,SAASpR,OAAT,CAAiBvc,IAAjB,EAAuBhG,IAAvB,EAA6BkjB,GAA7B,EAAkC/e,SAAlC,EAA6CwL,QAA7C,EAAuD;EAC7D,IAAQnI,KAAR,GAAkBrD,SAAlB,CAAQqD,KAAR;EACA,IAAQ+E,MAAR,GAAmBvM,IAAnB,CAAQuM,MAAR;EACA,IAAIomB,KAAK,GAAG,CAAZ;EACA,IAAInI,KAAK,GAAG,IAAIlF,0CAAJ,EAAZ;EACA,IAAIwI,EAAE,GAAG,IAAItJ,0CAAJ,EAAT;EACA,IAAIuJ,EAAE,GAAG,IAAIvJ,0CAAJ,EAAT;EACA,IAAIqR,EAAE,GAAG,IAAIrR,0CAAJ,EAAT;EACA,IAAIhgB,GAAJ,EAAS2jB,IAAT;;EAEA,SAASva,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0Cgb,WAA1C,EAAuD,KAAvD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EACD,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IACA,IAAIA,OAAO,IAAI,EAAf,EAAmB;MAClB6H,KAAK,GAAG,CAAR;;MACA,IAAInuB,GAAJ,EAAS;QACRA,GAAG,CAAC4L,gBAAJ;MACA;;MAED2a,cAAc,CAAC,EAAD,CAAd;IACA;EACD;;EACD,SAASL,WAAT,CAAqBnsB,CAArB,EAAwB;IACvB,IAAIo0B,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAsmB,EAAE,GAAGpG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU2F,EAAE,GAAG3F,IAAL;IACV;;IACD,IAAIwK,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAumB,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;IACV;;IACD,IAAIwK,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAquB,EAAE,GAAGnO,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU0N,EAAE,GAAG1N,IAAL;MACV,IAAI2N,GAAG,GAAGH,gEAAyB,CAAC7H,EAAD,EAAKC,EAAL,EAAS8H,EAAT,CAAnC;MACA,IAAIE,EAAE,GAAGjI,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAT;MACA,IAAIiI,EAAE,GAAGH,EAAE,CAAC5N,UAAH,CAAc6N,GAAd,CAAT;MACA,IAAI9T,GAAG,GAAG,IAAIwC,0CAAJ,CAAYuJ,EAAE,CAACtU,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBsU,EAAE,CAACrU,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCqU,EAAE,CAACpU,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,EAAmDsP,SAAnD,EAAV;MACA,IAAIoG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkC9nB,KAAK,CAAC4c,MAAxC,EAAgDpC,GAAhD,EAAqDiH,SAArD,EAAV;MACA,IAAIgN,EAAE,GAAG,IAAIzR,0CAAJ,CAAYsR,GAAG,CAACrc,CAAJ,GAAQoc,EAAE,CAACpc,CAAvB,EAA0Bqc,GAAG,CAACpc,CAAJ,GAAQmc,EAAE,CAACnc,CAArC,EAAwCoc,GAAG,CAACnc,CAAJ,GAAQkc,EAAE,CAAClc,CAAnD,EAAsDsP,SAAtD,EAAT;MACA,IAAIiN,GAAG,GAAGhK,qDAAc,CAAC4B,EAAD,EAAKC,EAAL,CAAxB;MACA,IAAIoI,EAAE,GAAG/iB,IAAI,CAACgjB,IAAL,CAAUJ,EAAE,GAAGA,EAAL,GAAWD,EAAE,GAAGA,EAAN,GAAY,CAAhC,CAAT;MACA,IAAIM,EAAE,GAAIF,EAAE,GAAGA,EAAN,IAAa,IAAIH,EAAjB,IAAuBA,EAAhC;MACA,IAAItH,EAAJ,EAAQD,QAAR;;MACA,IAAIuH,EAAE,GAAGD,EAAE,GAAG,CAAd,EAAiB;QAChBrH,EAAE,GAAGwH,GAAG,CAACh3B,GAAJ,CAAQ+2B,EAAE,CAAC9R,KAAH,GAAWE,cAAX,CAA0B,CAACjR,IAAI,CAACkjB,GAAL,CAASD,EAAT,CAA3B,CAAR,CAAL;QACA5H,QAAQ,GAAG,IAAIrb,IAAI,CAACC,EAAT,GAAc,IAAID,IAAI,CAACmjB,IAAL,CAAWR,EAAE,GAAG,GAAN,GAAa3iB,IAAI,CAACkjB,GAAL,CAASD,EAAT,CAAvB,CAA7B;MACA,CAHD,MAGO;QACN3H,EAAE,GAAGwH,GAAG,CAACh3B,GAAJ,CAAQ+2B,EAAE,CAAC9R,KAAH,GAAWE,cAAX,CAA0BjR,IAAI,CAACkjB,GAAL,CAASD,EAAT,CAA1B,CAAR,CAAL;QACA5H,QAAQ,GAAG,IAAIrb,IAAI,CAACmjB,IAAL,CAAWR,EAAE,GAAG,GAAN,GAAa3iB,IAAI,CAACkjB,GAAL,CAASD,EAAT,CAAvB,CAAf;MACA;;MACD,IAAI3J,EAAE,GAAGP,+CAAQ,CAAC8J,EAAE,CAACO,OAAH,CAAWnH,GAAX,CAAD,EAAkB,GAAlB,EAAuB,IAAvB,CAAR,GAAuCvB,EAAvC,GAA4CC,EAArD;MACAS,0DAAA,CAAoBxoB,IAApB,EAA0BuG,MAA1B,EAAkCmiB,EAAlC,EAAsChC,EAAtC,EAA0CllB,KAAK,CAAC4c,MAAhD,EAAwD5f,GAAxD,EAA6DiqB,QAA7D;IACA;;IACDkE,KAAK;;IACL,IAAIA,KAAK,IAAI,CAAb,EAAgB;MACf5H,cAAc,CAAC,CAACvmB,GAAD,CAAD,CAAd;IACA;EACD;;EAED,SAASmmB,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB2zB,mDAAY,GAAGI,SAAf,CAAyBtsB,IAAI,CAACyJ,UAA9B;IACA,IAAIiY,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;IACA,IAAIwgB,CAAC,GAAGN,SAAS,CAAChU,KAAlB;IAEAyU,IAAI,GAAGV,gDAAS,CAACtjB,SAAD,EAAY6B,IAAZ,EAAkBgiB,CAAlB,CAAhB;;IACA,IAAI2K,KAAK,IAAI,CAAb,EAAgB;MACf5E,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIkhB,GAAG,GAAG9G,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAV;;MACA,IAAI/nB,IAAI,CAAC0wB,WAAT,EAAsB;QACrB,IAAI1N,KAAK,GAAGjD,2DAAoB,CAACve,KAAK,CAAC4c,MAAP,CAAhC;QACA,IAAIpC,GAAG,GAAG,IAAIwC,0CAAJ,CAAYuJ,EAAE,CAACtU,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBsU,EAAE,CAACrU,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCqU,EAAE,CAACpU,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,CAAV;QACA,IAAIgd,MAAM,GAAG3U,GAAG,CAACwU,OAAJ,CAAYxN,KAAK,CAACrP,CAAlB,CAAb;QACA,IAAIid,MAAM,GAAG5U,GAAG,CAACwU,OAAJ,CAAYxN,KAAK,CAACvP,CAAlB,CAAb;;QACA,IAAIkd,MAAM,GAAGvjB,IAAI,CAACC,EAAL,GAAU,CAAnB,IAAwBsjB,MAAM,GAAIvjB,IAAI,CAACC,EAAL,GAAU,CAAX,GAAgB,CAArD,EAAwD;UACvD0a,EAAE,GAAGD,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAe8pB,KAAK,CAACrP,CAAN,CAAQsP,SAAR,GAAoB5E,cAApB,CAAmCjR,IAAI,CAACmc,GAAL,CAASoH,MAAT,IAAmB/B,GAAtD,CAAf,CAAL;QACA,CAFD,MAEO;UACN7G,EAAE,GAAGD,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAe8pB,KAAK,CAACvP,CAAN,CAAQwP,SAAR,GAAoB5E,cAApB,CAAmCjR,IAAI,CAACmc,GAAL,CAASqH,MAAT,IAAmBhC,GAAtD,CAAf,CAAL;QACA;MACD;;MACD,IAAIzM,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;;MACV,IAAI,CAAC3jB,GAAL,EAAU;QACTA,GAAG,GAAGioB,kEAAA,CAA4BqB,EAA5B,EAAgCC,EAAhC,CAAN;QACA/nB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAesF,GAAf;MACA,CAHD,MAGO;QACNioB,kEAAA,CAA4BqB,EAA5B,EAAgCC,EAAhC,EAAoCvpB,GAApC;MACA;IACD;;IACD,IAAImuB,KAAK,IAAI,CAAb,EAAgB;MACfkD,EAAE,GAAGnO,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU0N,EAAE,GAAG1N,IAAL;MACV,IAAI2N,GAAG,GAAGH,gEAAyB,CAAC7H,EAAD,EAAKC,EAAL,EAAS8H,EAAT,CAAnC;MACA,IAAIE,EAAE,GAAGjI,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAT;MACA,IAAIiI,EAAE,GAAGH,EAAE,CAAC5N,UAAH,CAAc6N,GAAd,CAAT;MACA,IAAI9T,GAAG,GAAG,IAAIwC,0CAAJ,CAAYuJ,EAAE,CAACtU,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBsU,EAAE,CAACrU,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCqU,EAAE,CAACpU,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,EAAmDsP,SAAnD,EAAV;MACA,IAAIoG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkC9nB,KAAK,CAAC4c,MAAxC,EAAgDpC,GAAhD,EAAqDiH,SAArD,EAAV;;MACA,IAAI+M,EAAE,GAAGD,EAAE,GAAG,GAAd,EAAmB;QAClB,IAAIE,EAAE,GAAG,IAAIzR,0CAAJ,CAAYsR,GAAG,CAACrc,CAAJ,GAAQoc,EAAE,CAACpc,CAAvB,EAA0Bqc,GAAG,CAACpc,CAAJ,GAAQmc,EAAE,CAACnc,CAArC,EAAwCoc,GAAG,CAACnc,CAAJ,GAAQkc,EAAE,CAAClc,CAAnD,EAAsDsP,SAAtD,EAAT;QACA,IAAIiN,GAAG,GAAGhK,qDAAc,CAAC4B,EAAD,EAAKC,EAAL,CAAxB;QACA,IAAIoI,EAAE,GAAG/iB,IAAI,CAACgjB,IAAL,CAAUJ,EAAE,GAAGA,EAAL,GAAWD,EAAE,GAAGA,EAAN,GAAY,CAAhC,CAAT;QACA,IAAIM,EAAE,GAAIF,EAAE,GAAGA,EAAN,IAAa,IAAIH,EAAjB,IAAuBA,EAAhC;QACA,IAAItH,EAAJ,EAAQD,QAAR;;QACA,IAAIuH,EAAE,GAAGD,EAAE,GAAG,CAAd,EAAiB;UAChBrH,EAAE,GAAGwH,GAAG,CAACh3B,GAAJ,CAAQ+2B,EAAE,CAAC9R,KAAH,GAAWE,cAAX,CAA0B,CAACjR,IAAI,CAACkjB,GAAL,CAASD,EAAT,CAA3B,CAAR,CAAL;UACA5H,QAAQ,GAAG,IAAIrb,IAAI,CAACC,EAAT,GAAc,IAAID,IAAI,CAACmjB,IAAL,CAAWR,EAAE,GAAG,GAAN,GAAa3iB,IAAI,CAACkjB,GAAL,CAASD,EAAT,CAAvB,CAA7B;QACA,CAHD,MAGO;UACN3H,EAAE,GAAGwH,GAAG,CAACh3B,GAAJ,CAAQ+2B,EAAE,CAAC9R,KAAH,GAAWE,cAAX,CAA0BjR,IAAI,CAACkjB,GAAL,CAASD,EAAT,CAA1B,CAAR,CAAL;UACA5H,QAAQ,GAAG,IAAIrb,IAAI,CAACmjB,IAAL,CAAWR,EAAE,GAAG,GAAN,GAAa3iB,IAAI,CAACkjB,GAAL,CAASD,EAAT,CAAvB,CAAf;QACA;;QAED,IAAI3J,EAAE,GAAGP,+CAAQ,CAAC8J,EAAE,CAACO,OAAH,CAAWnH,GAAX,CAAD,EAAkB,GAAlB,EAAuB,IAAvB,CAAR,GAAuCvB,EAAvC,GAA4CC,EAArD;QACAS,gEAAA,CAA0BE,EAA1B,EAA8BhC,EAA9B,EAAkCllB,KAAK,CAAC4c,MAAxC,EAAgD5f,GAAhD,EAAqDiqB,QAArD;MACA;IACD;;IACD,IAAIkE,KAAK,IAAI,CAAb,EAAgB;MACfT,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;MACAzJ,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA;EACD;;EACD,SAASI,cAAT,CAAwB5H,IAAxB,EAA8B;IAC7B+O,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;IACA0Y,IAAI,GAAGhkB,SAAS,CAACwiB,SAAV,CAAoBle,QAApB,CAA6Bkf,IAA7B,CAAkCU,WAAlC,EAAP;IACAnF,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,OAApC,EAA6CR,WAA7C;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACAjb,QAAQ,CAACwT,IAAD,CAAR;EACA;;EAEDvV,IAAI;AACJ;;;;;;;;;;;;;;;;;;;;ACxJD;AACA;AACA;AACA;AACA;AAEO,SAAS0U,UAAT,CAAoBtc,IAApB,EAA0BhG,IAA1B,EAAgCkjB,GAAhC,EAAqC/e,SAArC,EAAgDwL,QAAhD,EAA0D;EAChE,IAAQnI,KAAR,GAAkBrD,SAAlB,CAAQqD,KAAR;EACA,IAAQ+E,MAAR,GAAmBvM,IAAnB,CAAQuM,MAAR;EACA,IAAIomB,KAAK,GAAG,CAAZ;EACA,IAAInI,KAAK,GAAG,IAAIlF,0CAAJ,EAAZ;EACA,IAAIwI,EAAE,GAAG,IAAItJ,0CAAJ,EAAT;EACA,IAAIuJ,EAAE,GAAG,IAAIvJ,0CAAJ,EAAT;EACA,IAAIqR,EAAE,GAAG,IAAIrR,0CAAJ,EAAT;EACA,IAAIsS,IAAJ,EAAUC,IAAV,EAAgB5O,IAAhB;EACA,IAAIsG,QAAQ,GAAGrb,IAAI,CAACC,EAApB;;EACA,SAASzF,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0Cgb,WAA1C,EAAuD,KAAvD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EACD,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IACA,IAAIA,OAAO,IAAI,EAAf,EAAmB;MAClB6H,KAAK,GAAG,CAAR;;MACA,IAAImE,IAAI,IAAIC,IAAZ,EAAkB;QACjBD,IAAI,CAAC1mB,gBAAL;QACA2mB,IAAI,CAAC3mB,gBAAL;MACA;;MACD2a,cAAc,CAAC,EAAD,CAAd;IACA;EACD;;EACD,SAASL,WAAT,CAAqBnsB,CAArB,EAAwB;IACvB,IAAIo0B,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAsmB,EAAE,GAAGpG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU2F,EAAE,GAAG3F,IAAL;IACV;;IACD,IAAIwK,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAumB,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;MACV,IAAIyM,GAAG,GAAG9G,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAV;MACA,IAAI/L,GAAG,GAAG,IAAIwC,0CAAJ,CAAYuJ,EAAE,CAACtU,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBsU,EAAE,CAACrU,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCqU,EAAE,CAACpU,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,EAAmDsP,SAAnD,EAAV;MACA4M,EAAE,GAAG/H,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAe8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2B,CAACuQ,GAA5B,CAAf,CAAL;IACA;;IACDjC,KAAK;;IACL,IAAIA,KAAK,IAAI,CAAb,EAAgB;MACfnE,0DAAA,CAAoBxoB,IAApB,EAA0BuG,MAA1B,EAAkCuhB,EAAlC,EAAsCC,EAAtC,EAA0CvmB,KAAK,CAAC4c,MAAhD,EAAwD0S,IAAxD,EAA8DrI,QAA9D;MACAD,0DAAA,CAAoBxoB,IAApB,EAA0BuG,MAA1B,EAAkCuhB,EAAlC,EAAsC+H,EAAtC,EAA0CruB,KAAK,CAAC4c,MAAhD,EAAwD2S,IAAxD,EAA8DtI,QAA9D;MACA1D,cAAc,CAAC,CAAC+L,IAAD,EAAOC,IAAP,CAAD,CAAd;IACA;EACD;;EAED,SAASpM,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB2zB,mDAAY,GAAGI,SAAf,CAAyBtsB,IAAI,CAACyJ,UAA9B;IACA,IAAIiY,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;IACA,IAAIwgB,CAAC,GAAGN,SAAS,CAAChU,KAAlB;IAEAyU,IAAI,GAAGV,gDAAS,CAACtjB,SAAD,EAAY6B,IAAZ,EAAkBgiB,CAAlB,CAAhB;;IACA,IAAI2K,KAAK,IAAI,CAAb,EAAgB;MACf5E,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;MAEV,IAAIyM,GAAG,GAAG9G,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAV;MACA,IAAI/L,GAAG,GAAG,IAAIwC,0CAAJ,CAAYuJ,EAAE,CAACtU,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBsU,EAAE,CAACrU,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCqU,EAAE,CAACpU,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,EAAmDsP,SAAnD,EAAV;MACA4M,EAAE,GAAG/H,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAe8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2B,CAACuQ,GAA5B,CAAf,CAAL;;MACA,IAAIA,GAAG,GAAGb,0CAAV,EAAmB;QAClB,IAAI,CAAC+C,IAAD,IAAS,CAACC,IAAd,EAAoB;UACnBD,IAAI,GAAGtI,gEAAA,CAA0BV,EAA1B,EAA8BC,EAA9B,EAAkCvmB,KAAK,CAAC4c,MAAxC,EAAgDqK,QAAhD,CAAP;UACAsI,IAAI,GAAGvI,gEAAA,CAA0BV,EAA1B,EAA8B+H,EAA9B,EAAkCruB,KAAK,CAAC4c,MAAxC,EAAgDqK,QAAhD,CAAP;UACAzoB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAe43B,IAAf;UACA9wB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAe63B,IAAf;QACA,CALD,MAKO;UACNvI,gEAAA,CAA0BV,EAA1B,EAA8BC,EAA9B,EAAkCvmB,KAAK,CAAC4c,MAAxC,EAAgD0S,IAAhD,EAAsDrI,QAAtD;UACAD,gEAAA,CAA0BV,EAA1B,EAA8B+H,EAA9B,EAAkCruB,KAAK,CAAC4c,MAAxC,EAAgD2S,IAAhD,EAAsDtI,QAAtD;QACA;MACD;IACD;;IAED,IAAIkE,KAAK,IAAI,CAAb,EAAgB;MACfT,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;MACAzJ,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA;EACD;;EACD,SAASI,cAAT,CAAwB5H,IAAxB,EAA8B;IAC7B+O,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;IACA0Y,IAAI,GAAGhkB,SAAS,CAACwiB,SAAV,CAAoBle,QAApB,CAA6Bkf,IAA7B,CAAkCU,WAAlC,EAAP;IACAnF,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,OAApC,EAA6CR,WAA7C;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACAjb,QAAQ,CAACwT,IAAD,CAAR;EACA;;EAEDvV,IAAI;AACJ;;;;;;;;;;;;;;;;;;;ACjGD;AACA;AACA;AACA;AAEO,SAAS4U,QAAT,CAAkBxc,IAAlB,EAAwBhG,IAAxB,EAA8BkjB,GAA9B,EAAmC/e,SAAnC,EAA8CwL,QAA9C,EAAwD;EAC9D,IAAQnI,KAAR,GAAkBrD,SAAlB,CAAQqD,KAAR;EACA,IAAQ+E,MAAR,GAAmBvM,IAAnB,CAAQuM,MAAR;EACA,IAAIomB,KAAK,GAAG,CAAZ;EACA,IAAInI,KAAK,GAAG,IAAIlF,0CAAJ,EAAZ;EACA,IAAIwI,EAAE,GAAG,IAAItJ,0CAAJ,EAAT;EACA,IAAIuJ,EAAE,GAAG,IAAIvJ,0CAAJ,EAAT;EACA,IAAI7f,IAAJ,EAAUwjB,IAAV;;EAEA,SAASva,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0Cgb,WAA1C,EAAuD,KAAvD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EACD,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IACA,IAAIA,OAAO,IAAI,EAAf,EAAmB;MAClB6H,KAAK,GAAG,CAAR;;MACA,IAAIhuB,IAAJ,EAAU;QACTA,IAAI,CAACyL,gBAAL;MACA;;MACD2a,cAAc,CAAC,EAAD,CAAd;IACA;EACD;;EACD,SAASL,WAAT,CAAqBnsB,CAArB,EAAwB;IACvB,IAAIo0B,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAsmB,EAAE,GAAGpG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU2F,EAAE,GAAG3F,IAAL;IACV;;IACD,IAAIwK,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAumB,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;IACV;;IACDwK,KAAK;;IACL,IAAIA,KAAK,IAAI,CAAb,EAAgB;MACflG,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCuhB,EAApC,EAAwCC,EAAxC,EAA4CvmB,KAAK,CAAC4c,MAAlD,EAA0Dzf,IAA1D;MACAomB,cAAc,CAAC,CAACpmB,IAAD,CAAD,CAAd;IACA;EACD;;EAED,SAASgmB,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB2zB,mDAAY,GAAGI,SAAf,CAAyBtsB,IAAI,CAACyJ,UAA9B;IACA,IAAIiY,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;IACA,IAAIwgB,CAAC,GAAGN,SAAS,CAAChU,KAAlB;IAEAyU,IAAI,GAAGV,gDAAS,CAACtjB,SAAD,EAAY6B,IAAZ,EAAkBgiB,CAAlB,CAAhB;;IACA,IAAI2K,KAAK,IAAI,CAAb,EAAgB;MACf5E,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIkhB,GAAG,GAAG9G,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAV;;MACA,IAAI/nB,IAAI,CAAC0wB,WAAT,EAAsB;QACrB,IAAI1N,KAAK,GAAGjD,2DAAoB,CAACve,KAAK,CAAC4c,MAAP,CAAhC;QACA,IAAIpC,GAAG,GAAG,IAAIwC,0CAAJ,CAAYuJ,EAAE,CAACtU,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBsU,EAAE,CAACrU,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCqU,EAAE,CAACpU,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,CAAV;QACA,IAAIgd,MAAM,GAAG3U,GAAG,CAACwU,OAAJ,CAAYxN,KAAK,CAACrP,CAAlB,CAAb;QACA,IAAIid,MAAM,GAAG5U,GAAG,CAACwU,OAAJ,CAAYxN,KAAK,CAACvP,CAAlB,CAAb;;QACA,IAAIkd,MAAM,GAAGvjB,IAAI,CAACC,EAAL,GAAU,CAAnB,IAAwBsjB,MAAM,GAAIvjB,IAAI,CAACC,EAAL,GAAU,CAAX,GAAgB,CAArD,EAAwD;UACvD0a,EAAE,GAAGD,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAe8pB,KAAK,CAACrP,CAAN,CAAQsP,SAAR,GAAoB5E,cAApB,CAAmCjR,IAAI,CAACmc,GAAL,CAASoH,MAAT,IAAmB/B,GAAtD,CAAf,CAAL;QACA,CAFD,MAEO;UACN7G,EAAE,GAAGD,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAe8pB,KAAK,CAACvP,CAAN,CAAQwP,SAAR,GAAoB5E,cAApB,CAAmCjR,IAAI,CAACmc,GAAL,CAASqH,MAAT,IAAmBhC,GAAtD,CAAf,CAAL;QACA;MACD;;MACD,IAAIzM,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;;MACV,IAAI,CAACxjB,IAAL,EAAW;QACVA,IAAI,GAAG8nB,kEAAA,CAA4BqB,EAA5B,EAAgCC,EAAhC,CAAP;QACA/nB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAeyF,IAAf;MACA,CAHD,MAGO;QACN8nB,kEAAA,CAA4BqB,EAA5B,EAAgCC,EAAhC,EAAoCppB,IAApC;MACA;IACD;;IAED,IAAIguB,KAAK,IAAI,CAAb,EAAgB;MACfT,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;MACAzJ,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA;EACD;;EACD,SAASI,cAAT,CAAwB5H,IAAxB,EAA8B;IAC7B+O,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;IACA0Y,IAAI,GAAGhkB,SAAS,CAACwiB,SAAV,CAAoBle,QAApB,CAA6Bkf,IAA7B,CAAkCU,WAAlC,EAAP;IACAnF,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,OAApC,EAA6CR,WAA7C;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACAjb,QAAQ,CAACwT,IAAD,CAAR;EACA;;EAEDvV,IAAI;AACJ;;;;;;;;;;;;;;;;;;;AC7FD;AACA;AACA;AACA;AAEO,SAAS6U,aAAT,CAAuBzc,IAAvB,EAA6BhG,IAA7B,EAAmCkjB,GAAnC,EAAwC/e,SAAxC,EAAmDwL,QAAnD,EAA6D;EACnE,IAAQnI,KAAR,GAAkBrD,SAAlB,CAAQqD,KAAR;EACA,IAAQ+E,MAAR,GAAmBvM,IAAnB,CAAQuM,MAAR;EACA,IAAIomB,KAAK,GAAG,CAAZ;EACA,IAAInI,KAAK,GAAG,IAAIlF,0CAAJ,EAAZ;EACA,IAAIwI,EAAE,GAAG,IAAItJ,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAT;EACA,IAAIuJ,EAAE,GAAG,IAAIvJ,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAT;EACA,IAAI7f,IAAJ,EAAUuyB,QAAV,EAAoB/O,IAApB;EACA,IAAIhF,IAAI,GAAG,EAAX;EACA,IAAIgU,QAAQ,GAAG,KAAf;;EACA,SAASvpB,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0Cgb,WAA1C,EAAuD,KAAvD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EACD,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IACA,IAAIA,OAAO,IAAI,EAAX,IAAiBA,OAAO,IAAI,EAAhC,EAAoC;MACnC,IAAIoM,QAAJ,EAAc;QACbA,QAAQ,CAAC9mB,gBAAT;MACA;;MACD2a,cAAc;IACd;EACD;;EACD,SAASL,WAAT,CAAqBnsB,CAArB,EAAwB;IACvB,IAAIo0B,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAsmB,EAAE,GAAGpG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU2F,EAAE,GAAG3F,IAAL;IACV,CAJD,MAIO;MACN,IAAIT,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAumB,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;;MACV,IAAI,CAACxjB,IAAL,EAAW;QACVA,IAAI,GAAG8nB,kEAAA,CAA4BqB,EAA5B,EAAgCC,EAAhC,CAAP;QACA/nB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAeyF,IAAf;MACA;;MACD8nB,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCuhB,EAApC,EAAwCC,EAAxC,EAA4CvmB,KAAK,CAAC4c,MAAlD,EAA0Dzf,IAA1D;MACAwe,IAAI,CAACjU,IAAL,CAAUvK,IAAV;MACAmpB,EAAE,GAAGC,EAAL;MACAppB,IAAI,GAAG,IAAP;IACA;;IACDguB,KAAK;IACLwE,QAAQ,GAAG,IAAX;EACA;;EAED,SAASxM,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB2zB,mDAAY,GAAGI,SAAf,CAAyBtsB,IAAI,CAACyJ,UAA9B;IACA,IAAIiY,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;IACA,IAAIwgB,CAAC,GAAGN,SAAS,CAAChU,KAAlB;IACAyU,IAAI,GAAGV,gDAAS,CAACtjB,SAAD,EAAY6B,IAAZ,EAAkBgiB,CAAlB,CAAhB;IAEA+F,EAAE,GAAGrG,SAAS,CAAChU,KAAf;IACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;;IAEV,IAAIgP,QAAJ,EAAc;MACb,IAAI,CAACD,QAAL,EAAe;QACdA,QAAQ,GAAGzK,kEAAA,CAA4BqB,EAA5B,EAAgCC,EAAhC,CAAX;QACA/nB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAeg4B,QAAf;MACA,CAHD,MAGO;QACNzK,kEAAA,CAA4BqB,EAA5B,EAAgCC,EAAhC,EAAoCmJ,QAApC;MACA;IACD;EACD;;EACD,SAASnM,cAAT,GAA0B;IACzBmH,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;IACA0Y,IAAI,GAAGhkB,SAAS,CAACwiB,SAAV,CAAoBle,QAApB,CAA6Bkf,IAA7B,CAAkCU,WAAlC,EAAP;IACAnF,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,OAApC,EAA6CR,WAA7C;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACAjb,QAAQ,CAACwT,IAAD,CAAR;EACA;;EAEDvV,IAAI;AACJ;;;;;;;;;;;;;;;;;;;;ACjFD;AACA;AACA;AACA;AACA;AAEO,SAAS8U,WAAT,CAAqB1c,IAArB,EAA2BhG,IAA3B,EAAiCkjB,GAAjC,EAAsC/e,SAAtC,EAAiDwL,QAAjD,EAA2D;EACjE,IAAQnI,KAAR,GAAkBrD,SAAlB,CAAQqD,KAAR;EACA,IAAQ4d,KAAR,GAA0BplB,IAA1B,CAAQolB,KAAR;EAAA,IAAe7Y,MAAf,GAA0BvM,IAA1B,CAAeuM,MAAf;EACA,IAAIomB,KAAK,GAAG,CAAZ;EACA,IAAInI,KAAK,GAAG,IAAIlF,0CAAJ,EAAZ;EACA,IAAIwI,EAAE,GAAG,IAAItJ,0CAAJ,EAAT;EACA,IAAIuJ,EAAE,GAAG,IAAIvJ,0CAAJ,EAAT;EACA,IAAI6S,IAAI,GAAG,EAAX;EAAA,IACClP,IADD;EAAA,IAECmP,IAAI,GAAG,CAFR;;EAGA,SAAS1pB,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0Cgb,WAA1C,EAAuD,KAAvD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EACD,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IACA,IAAIA,OAAO,IAAI,EAAf,EAAmB;MAClB6H,KAAK,GAAG,CAAR;MACA0E,IAAI,CAACv4B,OAAL,CAAa,UAACkpB,CAAD;QAAA,OAAOA,CAAC,CAAC5X,gBAAF,EAAP;MAAA,CAAb;MACAinB,IAAI,GAAG,EAAP;MACAtM,cAAc,CAACsM,IAAD,CAAd;IACA;EACD;;EACD,SAAS3M,WAAT,CAAqBnsB,CAArB,EAAwB;IACvB,IAAIo0B,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAsmB,EAAE,GAAGpG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU2F,EAAE,GAAG3F,IAAL;MACVmP,IAAI,GAAG1sB,MAAM,CAAC2sB,MAAP,CAAc,sBAAd,EAAsCD,IAAtC,CAAP;MACA,IAAI/rB,KAAK,CAAC4f,QAAQ,CAACmM,IAAD,CAAT,CAAL,IAAyBnM,QAAQ,CAACmM,IAAD,CAAR,IAAkB,CAA/C,EAAkDA,IAAI,GAAG,CAAP;IAClD;;IACD,IAAI3E,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAumB,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;MACV,IAAIyM,GAAG,GAAG9G,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAV;MACA,IAAIjH,MAAM,GAAG0Q,cAAc,CAAC5C,GAAD,CAA3B;;MACA,KAAK,IAAI3d,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6P,MAAM,CAAClpB,MAA3B,EAAmCqZ,CAAC,EAApC,EAAwC;QACvC,IAAIwS,EAAJ,EAAQC,EAAR;;QACA,IAAIzS,CAAC,IAAI6P,MAAM,CAAClpB,MAAP,GAAgB,CAAzB,EAA4B;UAC3B6rB,EAAE,GAAG3C,MAAM,CAAC7P,CAAD,CAAX;UACAyS,EAAE,GAAG5C,MAAM,CAAC,CAAD,CAAX;QACA,CAHD,MAGO;UACN2C,EAAE,GAAG3C,MAAM,CAAC7P,CAAD,CAAX;UACAyS,EAAE,GAAG5C,MAAM,CAAC7P,CAAC,GAAG,CAAL,CAAX;QACA;;QACDwV,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCkd,EAApC,EAAwCC,EAAxC,EAA4CliB,KAAK,CAAC4c,MAAlD,EAA0DiT,IAAI,CAACpgB,CAAD,CAA9D;MACA;IACD;;IACD0b,KAAK;;IACL,IAAIA,KAAK,IAAI,CAAb,EAAgB;MACf5H,cAAc,CAACsM,IAAD,CAAd;IACA;EACD;;EAED,SAAS1M,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB2zB,mDAAY,GAAGI,SAAf,CAAyBtsB,IAAI,CAACyJ,UAA9B;IACA,IAAIiY,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;IACA,IAAIwgB,CAAC,GAAGN,SAAS,CAAChU,KAAlB;IAEAyU,IAAI,GAAGV,gDAAS,CAACtjB,SAAD,EAAY6B,IAAZ,EAAkBgiB,CAAlB,CAAhB;;IACA,IAAI2K,KAAK,IAAI,CAAb,EAAgB;MACf5E,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;MACV,IAAIyM,GAAG,GAAG9G,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAV;;MACA,IAAI6G,GAAG,GAAGb,0CAAV,EAAmB;QAClB,IAAIjN,MAAM,GAAG0Q,cAAc,CAAC5C,GAAD,CAA3B;;QACA,IAAIyC,IAAI,CAACz5B,MAAL,KAAgB,CAApB,EAAuB;UACtB,KAAK,IAAIqZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6P,MAAM,CAAClpB,MAA3B,EAAmCqZ,CAAC,EAApC,EAAwC;YACvC,IAAIwS,EAAJ,EAAQC,EAAR;;YACA,IAAIzS,CAAC,IAAI6P,MAAM,CAAClpB,MAAP,GAAgB,CAAzB,EAA4B;cAC3B6rB,EAAE,GAAG3C,MAAM,CAAC7P,CAAD,CAAX;cACAyS,EAAE,GAAG5C,MAAM,CAAC,CAAD,CAAX;YACA,CAHD,MAGO;cACN2C,EAAE,GAAG3C,MAAM,CAAC7P,CAAD,CAAX;cACAyS,EAAE,GAAG5C,MAAM,CAAC7P,CAAC,GAAG,CAAL,CAAX;YACA;;YACD,IAAIzO,CAAC,GAAGikB,kEAAA,CAA4BhD,EAA5B,EAAgCC,EAAhC,CAAR;YACA1jB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAesJ,CAAf;YACA6uB,IAAI,CAACnoB,IAAL,CAAU1G,CAAV;UACA;QACD,CAdD,MAcO;UACN,KAAK,IAAIyO,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG6P,MAAM,CAAClpB,MAA3B,EAAmCqZ,EAAC,EAApC,EAAwC;YACvC,IAAIwS,EAAJ,EAAQC,EAAR;;YACA,IAAIzS,EAAC,IAAI6P,MAAM,CAAClpB,MAAP,GAAgB,CAAzB,EAA4B;cAC3B6rB,EAAE,GAAG3C,MAAM,CAAC7P,EAAD,CAAX;cACAyS,EAAE,GAAG5C,MAAM,CAAC,CAAD,CAAX;YACA,CAHD,MAGO;cACN2C,EAAE,GAAG3C,MAAM,CAAC7P,EAAD,CAAX;cACAyS,EAAE,GAAG5C,MAAM,CAAC7P,EAAC,GAAG,CAAL,CAAX;YACA;;YACDwV,kEAAA,CAA4BhD,EAA5B,EAAgCC,EAAhC,EAAoC2N,IAAI,CAACpgB,EAAD,CAAxC;UACA;QACD;MACD;IACD;;IAED,IAAI0b,KAAK,IAAI,CAAb,EAAgB;MACfT,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;MACAzJ,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA;EACD;;EACD,SAASI,cAAT,CAAwB5H,IAAxB,EAA8B;IAC7B+O,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;IACA0Y,IAAI,GAAGhkB,SAAS,CAACwiB,SAAV,CAAoBle,QAApB,CAA6Bkf,IAA7B,CAAkCU,WAAlC,EAAP;IACAnF,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,OAApC,EAA6CR,WAA7C;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACAjb,QAAQ,CAACwT,IAAD,CAAR;EACA;;EACD,SAASqU,cAAT,CAAwB5C,GAAxB,EAA6B;IAC5B,IAAI5S,GAAG,GAAG,IAAIwC,0CAAJ,CAAYuJ,EAAE,CAACtU,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBsU,EAAE,CAACrU,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCqU,EAAE,CAACpU,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,EAAmDsP,SAAnD,EAAV;IACA,IAAIoG,GAAG,GAAG,IAAI7K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkC9nB,KAAK,CAAC4c,MAAxC,EAAgDpC,GAAhD,EAAqDiH,SAArD,EAAV;IACA,IAAInC,MAAM,GAAG,EAAb;;IACA,KAAK,IAAI7P,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqgB,IAApB,EAA0BrgB,CAAC,EAA3B,EAA+B;MAC9B,IAAI4Y,KAAK,GAAI5Y,CAAC,GAAG,CAAJ,GAAQ7D,IAAI,CAACC,EAAd,GAAoBikB,IAAhC;MACA,IAAI9H,GAAG,GAAGpc,IAAI,CAACoc,GAAL,CAASK,KAAT,CAAV;MACA,IAAIN,GAAG,GAAGnc,IAAI,CAACmc,GAAL,CAASM,KAAT,CAAV;MACA/I,MAAM,CAAC5X,IAAP,CACC4e,EAAE,CACA3J,KADF,GAEEjlB,GAFF,CAEM8iB,GAAG,CAACmC,KAAJ,GAAYE,cAAZ,CAA2BkL,GAAG,GAAGqF,GAAjC,CAFN,EAGE11B,GAHF,CAGMmwB,GAAG,CAAClL,KAAJ,GAAYE,cAAZ,CAA2BmL,GAAG,GAAGoF,GAAjC,CAHN,CADD;IAMA;;IACD,OAAO9N,MAAP;EACA;;EAEDlZ,IAAI;AACJ;;;;;;;;;;;;;;;;;;;;AC1ID;AACA;AACA;AACA;AACA;AAEO,SAASyU,QAAT,CAAkBrc,IAAlB,EAAwBhG,IAAxB,EAA8BkjB,GAA9B,EAAmC/e,SAAnC,EAA8CwL,QAA9C,EAAwD;EAC9D,IAAQnI,KAAR,GAAkBrD,SAAlB,CAAQqD,KAAR;EACA,IAAQ4d,KAAR,GAA0BplB,IAA1B,CAAQolB,KAAR;EAAA,IAAe7Y,MAAf,GAA0BvM,IAA1B,CAAeuM,MAAf;EACA,IAAIomB,KAAK,GAAG,CAAZ;EACA,IAAInI,KAAK,GAAG,IAAIlF,0CAAJ,EAAZ;EACA,IAAIwI,EAAE,GAAG,IAAItJ,0CAAJ,EAAT;EACA,IAAIuJ,EAAE,GAAG,IAAIvJ,0CAAJ,EAAT;EACA,IAAIiT,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBzP,IAApB;;EACA,SAASva,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0Cgb,WAA1C,EAAuD,KAAvD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EACD,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IACA,IAAIA,OAAO,IAAI,EAAf,EAAmB;MAClB6H,KAAK,GAAG,CAAR;;MACA,IAAI8E,EAAE,IAAIC,EAAN,IAAYC,EAAZ,IAAkBC,EAAtB,EAA0B;QACzBH,EAAE,CAACrnB,gBAAH;QACAsnB,EAAE,CAACtnB,gBAAH;QACAunB,EAAE,CAACvnB,gBAAH;QACAwnB,EAAE,CAACxnB,gBAAH;MACA;;MACD2a,cAAc,CAAC,EAAD,CAAd;IACA;EACD;;EACD,SAASL,WAAT,CAAqBnsB,CAArB,EAAwB;IACvB,IAAIo0B,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAsmB,EAAE,GAAGpG,SAAS,CAAChU,KAAf;MAEA,IAAIyU,IAAJ,EAAU2F,EAAE,GAAG3F,IAAL;MACV,IAAIvqB,MAAM,GAAGgN,MAAM,CAAC2sB,MAAP,CAAc,cAAd,EAA8BnS,KAA9B,CAAb;;MACA,IAAI,CAAC7Z,KAAK,CAACC,UAAU,CAAC5N,MAAM,GAAG,GAAV,CAAX,CAAN,IAAoCA,MAAxC,EAAgD;QAC/C,IAAIyC,KAAK,GAAGuK,MAAM,CAAC2sB,MAAP,CAAc,aAAd,EAA6BnS,KAA7B,CAAZ;;QACA,IAAI,CAAC7Z,KAAK,CAACC,UAAU,CAACnL,KAAK,GAAG,GAAT,CAAX,CAAV,EAAqC;UACpC,IAAI2oB,KAAK,GAAGjD,2DAAoB,CAACve,KAAK,CAAC4c,MAAP,CAAhC;UACA,IAAIqF,EAAE,GAAGqE,EAAE,CAAC3J,KAAH,EAAT;UACA,IAAIuF,EAAE,GAAGoE,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAe8pB,KAAK,CAACrP,CAAN,CAAQwK,KAAR,GAAgBE,cAAhB,CAA+BhkB,KAAK,GAAGkM,MAAvC,CAAf,CAAT;UACA,IAAIod,EAAE,GAAGD,EAAE,CAACvF,KAAH,GAAWjlB,GAAX,CAAe8pB,KAAK,CAACvP,CAAN,CAAQ0K,KAAR,GAAgBE,cAAhB,CAA+BzmB,MAAM,GAAG2O,MAAxC,CAAf,CAAT;UACA,IAAIqd,EAAE,GAAGkE,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAe8pB,KAAK,CAACvP,CAAN,CAAQ0K,KAAR,GAAgBE,cAAhB,CAA+BzmB,MAAM,GAAG2O,MAAxC,CAAf,CAAT;;UACA,IAAI,CAACkrB,EAAD,IAAO,CAACC,EAAR,IAAc,CAACC,EAAf,IAAqB,CAACC,EAA1B,EAA8B;YAC7BH,EAAE,GAAGhL,kEAAA,CAA4BhD,EAA5B,EAAgCC,EAAhC,CAAL;YACAgO,EAAE,GAAGjL,kEAAA,CAA4B/C,EAA5B,EAAgCC,EAAhC,CAAL;YACAgO,EAAE,GAAGlL,kEAAA,CAA4B9C,EAA5B,EAAgCC,EAAhC,CAAL;YACAgO,EAAE,GAAGnL,kEAAA,CAA4B7C,EAA5B,EAAgCH,EAAhC,CAAL;YACAzjB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAeu4B,EAAf;YACAzxB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAew4B,EAAf;YACA1xB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAey4B,EAAf;YACA3xB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAe04B,EAAf;YACAnL,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCkd,EAApC,EAAwCC,EAAxC,EAA4CliB,KAAK,CAAC4c,MAAlD,EAA0DqT,EAA1D;YACAhL,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCmd,EAApC,EAAwCC,EAAxC,EAA4CniB,KAAK,CAAC4c,MAAlD,EAA0DsT,EAA1D;YACAjL,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCod,EAApC,EAAwCC,EAAxC,EAA4CpiB,KAAK,CAAC4c,MAAlD,EAA0DuT,EAA1D;YACAlL,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCqd,EAApC,EAAwCH,EAAxC,EAA4CjiB,KAAK,CAAC4c,MAAlD,EAA0DwT,EAA1D;UACA;;UACD7M,cAAc,CAAC,CAAC0M,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,CAAD,CAAd;QACA;MACD;IACD;;IACD,IAAIjF,KAAK,IAAI,CAAb,EAAgB;MACf,IAAIjL,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;MACAumB,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;IACV;;IACDwK,KAAK;;IACL,IAAIA,KAAK,IAAI,CAAb,EAAgB;MACf,IAAI3J,KAAK,GAAGjD,2DAAoB,CAACve,KAAK,CAAC4c,MAAP,CAAhC;MACA,IAAIqF,EAAE,GAAGqE,EAAE,CAAC3J,KAAH,EAAT;MACA,IAAIuF,EAAE,GAAG0N,gEAAyB,CAACtJ,EAAD,EAAKC,EAAL,EAAS/E,KAAK,CAACrP,CAAf,CAAlC;MACA,IAAIgQ,EAAE,GAAGoE,EAAE,CAAC5J,KAAH,EAAT;MACA,IAAIyF,EAAE,GAAGwN,gEAAyB,CAACtJ,EAAD,EAAKC,EAAL,EAAS/E,KAAK,CAACvP,CAAf,CAAlC;MACAgT,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCkd,EAApC,EAAwCC,EAAxC,EAA4CliB,KAAK,CAAC4c,MAAlD,EAA0DqT,EAA1D;MACAhL,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCmd,EAApC,EAAwCC,EAAxC,EAA4CniB,KAAK,CAAC4c,MAAlD,EAA0DsT,EAA1D;MACAjL,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCod,EAApC,EAAwCC,EAAxC,EAA4CpiB,KAAK,CAAC4c,MAAlD,EAA0DuT,EAA1D;MACAlL,4DAAA,CAAsBzmB,IAAtB,EAA4BuG,MAA5B,EAAoCqd,EAApC,EAAwCH,EAAxC,EAA4CjiB,KAAK,CAAC4c,MAAlD,EAA0DwT,EAA1D;MACA7M,cAAc,CAAC,CAAC0M,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,CAAD,CAAd;IACA;EACD;;EAED,SAASjN,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB2zB,mDAAY,GAAGI,SAAf,CAAyBtsB,IAAI,CAACyJ,UAA9B;IACA,IAAIiY,SAAS,GAAGtB,0DAAmB,CAAC7nB,CAAD,EAAIisB,KAAJ,EAAWxkB,IAAX,EAAiB,IAAjB,EAAuBwB,KAAvB,CAAnC;IACA,IAAIwgB,CAAC,GAAGN,SAAS,CAAChU,KAAlB;IAEAyU,IAAI,GAAGV,gDAAS,CAACtjB,SAAD,EAAY6B,IAAZ,EAAkBgiB,CAAlB,CAAhB;;IACA,IAAI2K,KAAK,IAAI,CAAb,EAAgB;MACf5E,EAAE,GAAGrG,SAAS,CAAChU,KAAf;MACA,IAAIyU,IAAJ,EAAU4F,EAAE,GAAG5F,IAAL;MACV,IAAIyM,GAAG,GAAG9G,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAV;;MACA,IAAI6G,GAAG,GAAGb,0CAAV,EAAmB;QAClB,IAAI/K,KAAK,GAAGjD,2DAAoB,CAACve,KAAK,CAAC4c,MAAP,CAAhC;QACA,IAAIqF,EAAE,GAAGqE,EAAE,CAAC3J,KAAH,EAAT;QACA,IAAIuF,EAAE,GAAG0N,gEAAyB,CAACtJ,EAAD,EAAKC,EAAL,EAAS/E,KAAK,CAACrP,CAAf,CAAlC;QACA,IAAIgQ,EAAE,GAAGoE,EAAE,CAAC5J,KAAH,EAAT;QACA,IAAIyF,EAAE,GAAGwN,gEAAyB,CAACtJ,EAAD,EAAKC,EAAL,EAAS/E,KAAK,CAACvP,CAAf,CAAlC;;QACA,IAAI,CAACge,EAAD,IAAO,CAACC,EAAR,IAAc,CAACC,EAAf,IAAqB,CAACC,EAA1B,EAA8B;UAC7BH,EAAE,GAAGhL,kEAAA,CAA4BhD,EAA5B,EAAgCC,EAAhC,CAAL;UACAgO,EAAE,GAAGjL,kEAAA,CAA4B/C,EAA5B,EAAgCC,EAAhC,CAAL;UACAgO,EAAE,GAAGlL,kEAAA,CAA4B9C,EAA5B,EAAgCC,EAAhC,CAAL;UACAgO,EAAE,GAAGnL,kEAAA,CAA4B7C,EAA5B,EAAgCH,EAAhC,CAAL;UACAzjB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAeu4B,EAAf;UACAzxB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAew4B,EAAf;UACA1xB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAey4B,EAAf;UACA3xB,IAAI,CAAC0I,KAAL,CAAWxP,GAAX,CAAe04B,EAAf;QACA,CATD,MASO;UACNnL,kEAAA,CAA4BhD,EAA5B,EAAgCC,EAAhC,EAAoC+N,EAApC;UACAhL,kEAAA,CAA4B/C,EAA5B,EAAgCC,EAAhC,EAAoC+N,EAApC;UACAjL,kEAAA,CAA4B9C,EAA5B,EAAgCC,EAAhC,EAAoC+N,EAApC;UACAlL,kEAAA,CAA4B7C,EAA5B,EAAgCH,EAAhC,EAAoCmO,EAApC;QACA;MACD;IACD;;IAED,IAAIjF,KAAK,IAAI,CAAb,EAAgB;MACfT,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;MACAzJ,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA;EACD;;EACD,SAASI,cAAT,CAAwB5H,IAAxB,EAA8B;IAC7B+O,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;IACA0Y,IAAI,GAAGhkB,SAAS,CAACwiB,SAAV,CAAoBle,QAApB,CAA6Bkf,IAA7B,CAAkCU,WAAlC,EAAP;IACAnF,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,OAApC,EAA6CR,WAA7C;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACAjb,QAAQ,CAACwT,IAAD,CAAR;EACA;;EAEDvV,IAAI;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxID;AAEO,IAAM6kB,UAAU,GAAG,KAAnB;AACA,IAAMzG,UAAU,GAAG,EAAnB;AACA,IAAM+H,OAAO,GAAG,GAAhB;AACA,IAAMpI,EAAE,GAAG,MAAX;AACA,IAAMF,IAAI,GAAG,IAAb;AACA,IAAMM,UAAU,GAAG,KAAnB;AACA,IAAML,SAAS,GAAG,KAAlB;AACA,IAAM5F,IAAI,GAAG,GAAb;AACA,IAAMgS,UAAU,GAAG1kB,IAAI,CAACC,EAAL,GAAU,EAA7B;AACA,IAAM4Y,UAAU,GAAG,GAAnB;AACA,IAAML,UAAU,GAAG,IAAnB;AAEA,SAASE,SAAT,GAAqB;EAC3B,OAAO,IAAI+L,wCAAJ,GACLE,MADK,CACE,CADF,EACKhM,UADL,EAELiM,gBAFK,CAEYjM,UAFZ,EAEwBA,UAFxB,EAEoCA,UAFpC,EAEgD,CAFhD,EAGLiM,gBAHK,CAGYjM,UAHZ,EAGwB,CAACA,UAHzB,EAGqC,CAHrC,EAGwC,CAACA,UAHzC,EAILiM,gBAJK,CAIY,CAACjM,UAJb,EAIyB,CAACA,UAJ1B,EAIsC,CAACA,UAJvC,EAImD,CAJnD,EAKLiM,gBALK,CAKY,CAACjM,UALb,EAKyBA,UALzB,EAKqC,CALrC,EAKwCA,UALxC,CAAP;AAMA;AACM,IAAMF,cAAc,GAAG,SAAjBA,cAAiB,CAACgC,KAAD,EAAW;EACxC,OAAO;IACNoK,WAAW,EAAEpK,KADP;IAENqK,KAAK,EAAErK,KAAK,CAACsK,SAAN,GAAkBv6B;EAFnB,CAAP;AAIA,CALM;AAMA,IAAMooB,GAAG,GAAG;EAClB0B,SAAS,EAAE,WADO;EAElBsH,GAAG,EAAE,KAFa;EAGlBjC,MAAM,EAAE,WAHU;EAIlBF,QAAQ,EAAE;AAJQ,CAAZ;AAOA,IAAMuL,QAAQ,GAAG;EACvBC,aAAa,EAAE,CADQ;EAEvBC,IAAI,EAAE,CAFiB;EAGvBC,IAAI,EAAE,CAHiB;EAIvBC,IAAI,EAAE,CAJiB;EAKvBC,MAAM,EAAE;AALe,CAAjB;AAOA,IAAMnqB,UAAU,GAAG;EACzBoF,KAAK,EAAE,CADkB;EAEzB/O,IAAI,EAAE,CAFmB;EAGzBH,GAAG,EAAE,CAHoB;EAIzB1C,KAAK,EAAE,CAJkB;EAKzB8N,MAAM,EAAE,gBAACyX,IAAD,EAAOhlB,IAAP,EAAgB;IACvB,IAAI,CAACglB,IAAD,IAAS,CAACA,IAAI,CAAC5e,QAAL,CAAcyH,IAA5B,EAAkC,OAAO,KAAP;IAClC,OAAOmX,IAAI,CAAC5e,QAAL,CAAcyH,IAAd,IAAsB7N,IAA7B;EACA,CARwB;EASzBq2B,OAAO,EAAE,iBAACrR,IAAD,EAAU;IAClB,OAAO/Y,UAAU,CAACsB,MAAX,CAAkByX,IAAlB,EAAwB/Y,UAAU,CAACoF,KAAnC,CAAP;EACA,CAXwB;EAYzBilB,MAAM,EAAE,gBAACtR,IAAD,EAAU;IACjB,OAAO/Y,UAAU,CAACsB,MAAX,CAAkByX,IAAlB,EAAwB/Y,UAAU,CAAC3J,IAAnC,CAAP;EACA,CAdwB;EAezBi0B,KAAK,EAAE,eAACvR,IAAD,EAAU;IAChB,OAAO/Y,UAAU,CAACsB,MAAX,CAAkByX,IAAlB,EAAwB/Y,UAAU,CAAC9J,GAAnC,CAAP;EACA,CAjBwB;EAkBzBwF,OAAO,EAAE,iBAACqd,IAAD,EAAU;IAClB,OAAO/Y,UAAU,CAACsB,MAAX,CAAkByX,IAAlB,EAAwB/Y,UAAU,CAACxM,KAAnC,CAAP;EACA,CApBwB;EAqBzBgO,SAAS,EAAE,mBAACuX,IAAD,EAAU;IACpB,OAAOA,IAAI,CAAC5e,QAAL,CAAc4H,OAArB;EACA;AAvBwB,CAAnB;AAyBA,IAAMwoB,cAAc,GAAG;EAC7B5tB,OAAO,EAAE,SADoB;EAE7B6tB,KAAK,EAAE,OAFsB;EAG7BC,QAAQ,EAAE,UAHmB;EAI7BrR,SAAS,EAAE;AAJkB,CAAvB;;;;;;;;;;;;;;;;;;;;;ACnEP;AACA;AACA;AACA;AACA;AAEO,SAAS5E,WAAT,CAAqBgE,MAArB,EAA6BpY,KAA7B,EAAoC;EAC1C,IAAIwY,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmC8R,aAAa,CAACnS,MAAD,CAAhD,CAAf;EACA,IAAIO,IAAI,GAAG,IAAIzB,uCAAJ,CAASsB,QAAT,EAAmBtV,iEAAnB,CAAX;EACA,IAAMwV,KAAK,GAAG,IAAI3B,gDAAJ,CAAkByB,QAAlB,CAAd;EACA,IAAMviB,IAAI,GAAG,IAAIghB,+CAAJ,CAAiByB,KAAjB,EAAwBxV,gEAAxB,CAAb;EACAyV,IAAI,CAACH,QAAL,CAAcqB,kBAAd;EACAlB,IAAI,CAACH,QAAL,CAAcsB,qBAAd;EACAnB,IAAI,CAACH,QAAL,CAAcuB,oBAAd;EACApB,IAAI,CAACH,QAAL,CAAcwB,UAAd,GAA2B,IAAI7C,mDAAJ,CAAYwB,IAAI,CAACH,QAAjB,CAA3B;EACAxY,KAAK,CAACxP,GAAN,CAAUyF,IAAV;EACA0iB,IAAI,CAAC5e,QAAL,CAAc0H,OAAd,GAAwBxL,IAAxB;EACA+J,KAAK,CAACxP,GAAN,CAAUmoB,IAAV;EACA,OAAOA,IAAP;AACA;AACM,SAAS1E,cAAT,CAAwBmE,MAAxB,EAAgC5C,QAAhC,EAA0CxhB,OAA1C,EAAmDogB,WAAnD,EAAgEjlB,QAAhE,EAA0Eq7B,YAA1E,EAAwFxqB,KAAxF,EAA+F;EACrG,IAAIwY,QAAQ,GAAG,IAAI1B,iDAAJ,GAAqB2B,aAArB,CAAmCgS,gBAAgB,CAACrS,MAAD,EAAS5C,QAAT,CAAnD,CAAf;EACA,IAAImD,IAAI,GAAG,IAAIzB,uCAAJ,CAASsB,QAAT,EAAmBrpB,QAAQ,CAACA,QAA5B,CAAX;EACA,IAAMupB,KAAK,GAAG,IAAI3B,gDAAJ,CAAkByB,QAAlB,CAAd;EACA,IAAMviB,IAAI,GAAG,IAAIghB,+CAAJ,CAAiByB,KAAjB,EAAwBxV,gEAAxB,CAAb;EACAyV,IAAI,CAACH,QAAL,CAAcqB,kBAAd;EACAlB,IAAI,CAACH,QAAL,CAAcsB,qBAAd;EACAnB,IAAI,CAACH,QAAL,CAAcuB,oBAAd;EACApB,IAAI,CAACH,QAAL,CAAcwB,UAAd,GAA2B,IAAI7C,mDAAJ,CAAYwB,IAAI,CAACH,QAAjB,CAA3B;EACAxY,KAAK,CAACxP,GAAN,CAAUyF,IAAV;EACA+J,KAAK,CAACxP,GAAN,CAAUmoB,IAAV;EACA2R,6DAAe,CAAC3R,IAAD,EAAO1iB,IAAP,EAAajC,OAAb,EAAsBogB,WAAtB,EAAmCjlB,QAAnC,EAA6Cq7B,YAA7C,EAA2Dz4B,+DAA3D,EAA8E,IAA9E,CAAf;EACA,OAAO4mB,IAAP;AACA;;AACD,SAAS4R,aAAT,CAAuBnS,MAAvB,EAA+B;EAC9B,IAAIwO,EAAE,GAAG,EAAT;;EACA,KAAK,IAAIre,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6P,MAAM,CAAClpB,MAAP,GAAgB,CAApC,EAAuCqZ,CAAC,EAAxC,EAA4C;IAC3Cqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC,CAAD,CAAd;IACAwO,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,CAAC,GAAG,CAAL,CAAd;IACAqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,CAAC,GAAG,CAAL,CAAd;EACA;;EAED,OAAOqe,EAAP;AACA;;AACD,SAAS6D,gBAAT,CAA0BrS,MAA1B,EAAkC5C,QAAlC,EAA4C;EAC3C,IAAIoR,EAAE,GAAG,EAAT;;EACA,KAAK,IAAIre,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6P,MAAM,CAAClpB,MAAP,GAAgB,CAApC,EAAuCqZ,CAAC,EAAxC,EAA4C;IAC3Cqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC,CAAD,CAAd;IACAwO,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,CAAC,GAAG,CAAL,CAAd;IACAqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,CAAC,GAAG,CAAL,CAAd;EACA;;EAED,KAAK,IAAIA,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGiN,QAAQ,CAACtmB,MAAT,GAAkB,CAAtC,EAAyCqZ,EAAC,EAA1C,EAA8C;IAC7Cqe,EAAE,CAACpmB,IAAH,CAAQgV,QAAQ,CAAC,CAAD,CAAhB;IACAoR,EAAE,CAACpmB,IAAH,CAAQgV,QAAQ,CAACjN,EAAC,GAAG,CAAL,CAAhB;IACAqe,EAAE,CAACpmB,IAAH,CAAQgV,QAAQ,CAACjN,EAAC,GAAG,CAAL,CAAhB;EACA;;EACD,KAAK,IAAIA,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG6P,MAAM,CAAClpB,MAA3B,EAAmCqZ,GAAC,EAApC,EAAwC;IACvC,IAAIA,GAAC,IAAI6P,MAAM,CAAClpB,MAAP,GAAgB,CAAzB,EAA4B;MAC3B03B,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAD,CAAd;MACAqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC,CAAD,CAAd;MACAwO,EAAE,CAACpmB,IAAH,CAAQgV,QAAQ,CAAC,CAAD,CAAhB;MACAoR,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAD,CAAd;MACAqe,EAAE,CAACpmB,IAAH,CAAQgV,QAAQ,CAAC,CAAD,CAAhB;MACAoR,EAAE,CAACpmB,IAAH,CAAQgV,QAAQ,CAACjN,GAAD,CAAhB;IACA,CAPD,MAOO;MACNqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAD,CAAd;MACAqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAC,GAAG,CAAL,CAAd;MACAqe,EAAE,CAACpmB,IAAH,CAAQgV,QAAQ,CAACjN,GAAC,GAAG,CAAL,CAAhB;MACAqe,EAAE,CAACpmB,IAAH,CAAQ4X,MAAM,CAAC7P,GAAD,CAAd;MACAqe,EAAE,CAACpmB,IAAH,CAAQgV,QAAQ,CAACjN,GAAC,GAAG,CAAL,CAAhB;MACAqe,EAAE,CAACpmB,IAAH,CAAQgV,QAAQ,CAACjN,GAAD,CAAhB;IACA;EACD;;EACD,OAAOqe,EAAP;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3ED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACbA;AACO,SAAS1S,WAAT,CAAqB5c,IAArB,EAA2Bkd,GAA3B,EAAgCvT,QAAhC,EAA0C;EAChD,IAAIihB,GAAJ;EACA,IAAIrS,OAAJ;;EACA,SAAS3Q,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0Cgb,WAA1C,EAAuD,KAAvD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EACD,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IACA,IAAIA,OAAO,IAAI,EAAX,IAAiBA,OAAO,IAAI,EAAhC,EAAoC;MACnCC,cAAc;IACd;EACD;;EACD,SAASL,WAAT,CAAqBnsB,CAArB,EAAwB;IACvB,IAAIysB,KAAK,GAAG/E,kDAAW,CAAC1nB,CAAD,EAAIyH,IAAJ,EAAUkgB,oDAAA,CAAkBlgB,IAAI,CAAC0I,KAAvB,CAAV,CAAX,CAAoD,CAApD,CAAZ;IAEA6P,OAAO,GAAGyM,KAAK,GAAGA,KAAK,CAACC,MAAT,GAAkB,IAAjC;EACA;;EAED,SAASN,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB,IAAI,CAACqyB,GAAL,EAAU;MACTA,GAAG,GAAGjZ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAN;MACAgZ,GAAG,CAAC5xB,SAAJ,GAAgB,kBAAhB;MACA4xB,GAAG,CAACwI,WAAJ,GAAkB,gBAAlB;MACAxI,GAAG,CAACtU,KAAJ,CAAUtU,GAAV,GAAgBzJ,CAAC,CAACyR,OAAF,GAAY,IAA5B;MACA4gB,GAAG,CAACtU,KAAJ,CAAUrU,IAAV,GAAiB1J,CAAC,CAAC0R,OAAF,GAAY,IAA7B;MACA0H,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0B4Y,GAA1B;IACA,CAPD,MAOO;MACNA,GAAG,CAACtU,KAAJ,CAAUtU,GAAV,GAAgBzJ,CAAC,CAACyR,OAAF,GAAY,CAAZ,GAAgB,IAAhC;MACA4gB,GAAG,CAACtU,KAAJ,CAAUrU,IAAV,GAAiB1J,CAAC,CAAC0R,OAAF,GAAY,CAAZ,GAAgB,IAAjC;IACA;;IACD,IAAIsO,OAAJ,EAAa;MACZ2T,mDAAY,GAAGG,IAAf,CAAoBrsB,IAAI,CAACyJ,UAAzB;IACA;EACD;;EACD,SAASsb,cAAT,GAA0B;IACzB,IAAI6F,GAAJ,EAAS;MACRA,GAAG,CAACzxB,MAAJ;IACA;;IACD+jB,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,OAApC,EAA6CR,WAA7C;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACAjb,QAAQ;EACR;;EAED/B,IAAI;AACJ;AACM,SAASyrB,WAAT,CAAqBrzB,IAArB,EAA2Bkd,GAA3B,EAAgCvT,QAAhC,EAA0C;EAChD,IAAIihB,GAAJ;EACA,IAAIrS,OAAJ;;EACA,SAAS3Q,IAAT,GAAgB;IACfsV,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,SAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,OAAjC,EAA0Cgb,WAA1C,EAAuD,KAAvD;IACA1kB,IAAI,CAACyJ,UAAL,CAAgBC,gBAAhB,CAAiC,WAAjC,EAA8Cib,WAA9C,EAA2D,KAA3D;IACA/f,MAAM,CAAC8E,gBAAP,CAAwB,SAAxB,EAAmCkb,SAAnC,EAA8C,KAA9C;EACA;;EACD,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;IACzB,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IACA,IAAIA,OAAO,IAAI,EAAX,IAAiBA,OAAO,IAAI,EAAhC,EAAoC;MACnCC,cAAc;IACd;EACD;;EACD,SAASL,WAAT,CAAqBnsB,CAArB,EAAwB;IACvB,IAAIysB,KAAK,GAAG/E,kDAAW,CAAC1nB,CAAD,EAAIyH,IAAJ,EAAUkgB,oDAAA,CAAkBlgB,IAAI,CAAC0I,KAAvB,CAAV,CAAX,CAAoD,CAApD,CAAZ;IAEA6P,OAAO,GAAGyM,KAAK,GAAGA,KAAK,CAACC,MAAT,GAAkB,IAAjC;EACA;;EAED,SAASN,WAAT,CAAqBpsB,CAArB,EAAwB;IACvB,IAAI,CAACqyB,GAAL,EAAU;MACTA,GAAG,GAAGjZ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAN;MACAgZ,GAAG,CAAC5xB,SAAJ,GAAgB,kBAAhB;MACA4xB,GAAG,CAACwI,WAAJ,GAAkB,gBAAlB;MACAxI,GAAG,CAACtU,KAAJ,CAAUtU,GAAV,GAAgBzJ,CAAC,CAACyR,OAAF,GAAY,IAA5B;MACA4gB,GAAG,CAACtU,KAAJ,CAAUrU,IAAV,GAAiB1J,CAAC,CAAC0R,OAAF,GAAY,IAA7B;MACA0H,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0B4Y,GAA1B;IACA,CAPD,MAOO;MACNA,GAAG,CAACtU,KAAJ,CAAUtU,GAAV,GAAgBzJ,CAAC,CAACyR,OAAF,GAAY,CAAZ,GAAgB,IAAhC;MACA4gB,GAAG,CAACtU,KAAJ,CAAUrU,IAAV,GAAiB1J,CAAC,CAAC0R,OAAF,GAAY,CAAZ,GAAgB,IAAjC;IACA;;IACD,IAAIsO,OAAJ,EAAa;MACZ2T,mDAAY,GAAGG,IAAf,CAAoBrsB,IAAI,CAACyJ,UAAzB;IACA;EACD;;EACD,SAASsb,cAAT,GAA0B;IACzB,IAAI6F,GAAJ,EAAS;MACRA,GAAG,CAACzxB,MAAJ;IACA;;IACD+jB,GAAG,CAAC5G,KAAJ,CAAUuW,UAAV,GAAuB,MAAvB;IACA7sB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,OAApC,EAA6CR,WAA7C;IACA1kB,IAAI,CAACyJ,UAAL,CAAgByb,mBAAhB,CAAoC,WAApC,EAAiDP,WAAjD;IACA/f,MAAM,CAACsgB,mBAAP,CAA2B,SAA3B,EAAsCN,SAAtC;IACAjb,QAAQ;EACR;;EAED/B,IAAI;AACJ;;;;;;;;;;;;;;;;;;;ACpGD;AACA;AACA;AAEO,SAASQ,cAAT,CAAwByc,KAAxB,EAA+B7kB,IAA/B,EAAqC;EAC3CA,IAAI,CAAC0I,KAAL,CAAWlF,QAAX,CAAoB1K,OAApB,CAA4B,UAAC+Q,CAAD,EAAO;IAClC,IAAIA,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,mDAAvB,EAAyC;MACxCuB,CAAC,CAACpH,QAAF,CAAWC,SAAX,CAAqB4wB,OAArB;IACA;EACD,CAJD;EAKA,IAAItO,KAAK,GAAG/E,kDAAW,CAAC4E,KAAD,EAAQ7kB,IAAR,EAAckgB,oDAAA,CAAkBlgB,IAAI,CAAC0I,KAAvB,CAAd,CAAX,CAAwD,CAAxD,CAAZ;;EACA,IAAIsc,KAAJ,EAAW;IACVkH,mDAAY,GAAGE,OAAf,CAAuBpsB,IAAI,CAACyJ,UAA5B;;IACA,IAAIub,KAAK,CAACC,MAAN,CAAaxiB,QAAb,CAAsByH,IAAtB,IAA8B5B,mDAAlC,EAAoD;MACnD,IAAItI,IAAI,CAAC7C,OAAL,IAAgBL,gEAApB,EAAwCkoB,KAAK,CAACC,MAAN,CAAaxiB,QAAb,CAAsBC,SAAtB,CAAgCsM,KAAhC;IACxC;EACD,CALD,MAKO;IACNkd,mDAAY,aAAZ,CAAuBlsB,IAAI,CAACyJ,UAA5B;EACA;AACD;AACM,SAASpB,SAAT,CAAmBwc,KAAnB,EAA0B7kB,IAA1B,EAAgC;EACtC,IAAIglB,KAAK,GAAG/E,kDAAW,CAAC4E,KAAD,EAAQ7kB,IAAR,EAAckgB,oDAAA,CAAkBlgB,IAAI,CAAC0I,KAAvB,CAAd,CAAX,CAAwD,CAAxD,CAAZ;EACA1I,IAAI,CAAC0I,KAAL,CAAWlF,QAAX,CAAoB1K,OAApB,CAA4B,UAAC+Q,CAAD,EAAO;IAClC,IAAI,CAACA,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,kDAAnB,IAAsCuB,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,iDAA1D,KAA6EuB,CAAC,CAACpH,QAAF,CAAW6H,QAA5F,EAAsG;MACrGT,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBipB,QAApB,CAA6BvzB,IAAI,CAAC0I,KAAlC,EAAyC,KAAzC;IACA;;IACD,IAAImB,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,mDAAvB,EAAyC;MACxCuB,CAAC,CAACpH,QAAF,CAAW+wB,UAAX,GAAwB,KAAxB;MACA3pB,CAAC,CAACpH,QAAF,CAAWC,SAAX,CAAqB4wB,OAArB;IACA;EACD,CARD;;EASA,IAAItO,KAAJ,EAAW;IACVhlB,IAAI,CAACsC,WAAL,GAAmB0iB,KAAK,CAACC,MAAzB;;IACA,IACC,CAACD,KAAK,CAACC,MAAN,CAAaxiB,QAAb,CAAsByH,IAAtB,IAA8B5B,kDAA9B,IAAiD0c,KAAK,CAACC,MAAN,CAAaxiB,QAAb,CAAsByH,IAAtB,IAA8B5B,iDAAhF,KACA0c,KAAK,CAACC,MAAN,CAAaxiB,QAAb,CAAsB6H,QAFvB,EAGE;MACD0a,KAAK,CAACC,MAAN,CAAaxiB,QAAb,CAAsB6H,QAAtB,CAA+BipB,QAA/B,CAAwCvzB,IAAI,CAAC0I,KAA7C,EAAoD,IAApD;IACA;;IAED,IAAIsc,KAAK,CAACC,MAAN,CAAaxiB,QAAb,CAAsByH,IAAtB,IAA8B5B,mDAAlC,EAAoD;MACnD,IAAItI,IAAI,CAAC7C,OAAL,IAAgBL,gEAApB,EAAwC;QACvCkoB,KAAK,CAACC,MAAN,CAAaxiB,QAAb,CAAsB+wB,UAAtB,GAAmC,IAAnC;QACAxO,KAAK,CAACC,MAAN,CAAaxiB,QAAb,CAAsBC,SAAtB,CAAgC+wB,QAAhC;MACA;IACD;EACD,CAfD,MAeO;IACNzzB,IAAI,CAACsC,WAAL,GAAmB,IAAnB;IACAtC,IAAI,CAAC0I,KAAL,CAAWlF,QAAX,CAAoB1K,OAApB,CAA4B,UAAC+Q,CAAD,EAAO;MAClC,IAAIA,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,kDAAnB,IAAsCuB,CAAC,CAACpH,QAAF,CAAW6H,QAArD,EAA+D;QAC9DT,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBipB,QAApB,CAA6BvzB,IAAI,CAAC0I,KAAlC,EAAyC,KAAzC;MACA;;MACD,IAAImB,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,mDAAvB,EAAyC;QACxCuB,CAAC,CAACpH,QAAF,CAAW+wB,UAAX,GAAwB,KAAxB;QACA3pB,CAAC,CAACpH,QAAF,CAAWC,SAAX,CAAqB4wB,OAArB;MACA;IACD,CARD;EASA;AACD;;;;;;;;;;;;;;;;;;;AC1DD;AACA;AACA;AACA;;AAEA,SAASI,YAAT,GAAwB;EACvB,IAAIC,SAAS,GAAG/uB,MAAM,CAACgvB,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAhB;;EACA,IAAIF,SAAJ,EAAe;IACdA,SAAS,GAAGviB,IAAI,CAAC0iB,KAAL,CAAWH,SAAX,CAAZ;EACA,CAFD,MAEO;IACNA,SAAS,GAAGvmB,IAAI,CAACoC,KAAL,CAAWpC,IAAI,CAACqC,MAAL,KAAgB,GAAhB,GAAsB,CAAjC,CAAZ;EACA;;EACD,IAAIkkB,SAAS,GAAG,GAAhB,EAAqBA,SAAS,GAAG,CAAZ;EACrBA,SAAS;EACT/uB,MAAM,CAACgvB,YAAP,CAAoBG,OAApB,CAA4B,WAA5B,EAAyC3iB,IAAI,CAACC,SAAL,CAAesiB,SAAf,CAAzC;EACA,OAAOA,SAAP;AACA;;AAEM,SAASX,eAAT,CAAyB3R,IAAzB,EAA+B9U,OAA/B,EAAwC7P,OAAxC,EAAiDogB,WAAjD,EAA8DjlB,QAA9D,EAAwEq7B,YAAxE,EAAsFc,aAAtF,EAAqGC,SAArG,EAAgH;EACtH,IAAIN,SAAS,GAAGD,YAAY,EAA5B;EACArS,IAAI,CAAC5e,QAAL,CAAcyH,IAAd,GAAqB5B,mDAArB;EACA+Y,IAAI,CAAC5e,QAAL,CAAc0H,OAAd,GAAwBoC,OAAxB;EACA8U,IAAI,CAAC5e,QAAL,CAAc+wB,UAAd,GAA2B,KAA3B;EACAnS,IAAI,CAAC5e,QAAL,CAAcC,SAAd,GAA0B;IACzBL,aAAa,EAAExK,QADU;IAEzBq8B,cAAc,EAAEr8B,QAAQ,CAACA,QAFA;IAGzB8K,gBAAgB,EAAE,0BAAC9K,QAAD,EAAc;MAC/BwpB,IAAI,CAAC5e,QAAL,CAAcC,SAAd,CAAwBL,aAAxB,GAAwCxK,QAAxC;MACAwpB,IAAI,CAAC5e,QAAL,CAAcC,SAAd,CAAwBwxB,cAAxB,GAAyCr8B,QAAQ,CAACA,QAAlD;MACAwpB,IAAI,CAACxpB,QAAL,GAAgBwpB,IAAI,CAAC5e,QAAL,CAAcC,SAAd,CAAwBwxB,cAAxC;MACA7S,IAAI,CAAC5e,QAAL,CAAcoO,MAAd,CAAqBJ,QAArB,CAA8B9N,gBAA9B,CAA+C9K,QAA/C;IACA,CARwB;IASzBy7B,OAAO,EAAE,mBAAM;MACdjS,IAAI,CAACxpB,QAAL,GAAgBwpB,IAAI,CAAC5e,QAAL,CAAc+wB,UAAd,GACb5nB,iEADa,GAEbyV,IAAI,CAAC5e,QAAL,CAAcC,SAAd,CAAwBwxB,cAF3B;IAGA,CAbwB;IAczBT,QAAQ,EAAE,oBAAM;MACfpS,IAAI,CAACxpB,QAAL,GAAgB+T,iEAAhB;IACA,CAhBwB;IAiBzBoD,KAAK,EAAE,iBAAM;MACZ,IAAI,CAACqS,IAAI,CAAC5e,QAAL,CAAc+wB,UAAnB,EAA+BnS,IAAI,CAACxpB,QAAL,GAAgB+T,gEAAhB;IAC/B;EAnBwB,CAA1B;EAqBAyV,IAAI,CAAC5e,QAAL,CAAc6H,QAAd,GAAyB;IACxBD,OAAO,EAAE3N,OADe;IAExBy3B,WAAW,EAAErX,WAFW;IAGxBsX,SAAS,EAAEJ,aAHa;IAIxB3O,SAAS,EAAE4O,SAJa;IAKxBI,YAAY,EAAEnB,YALU;IAMxBoB,KAAK,EAAEC,aAAa,CAAClT,IAAD,CANI;IAOxBmT,SAAS,EAAEnU,sDAAW,CAAC,IAAI7B,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAD,EAAuBwB,gDAAvB;EAPE,CAAzB;EASAqB,IAAI,CAAC5e,QAAL,CAAcoO,MAAd,GAAuB;IACtBC,OAAO,EAAE6iB,SADa;IAEtB5iB,WAAW,EAAE0jB,eAAe,CAACpT,IAAD,CAFN;IAGtBrQ,OAAO,EAAE0jB,UAAU,CAACrT,IAAD,CAHG;IAItB5Q,QAAQ,EAAE;MACTK,OAAO,EAAE6iB,SADA;MAETgB,MAAM,EAAE;QACPlhB,CAAC,EAAE,GADI;QAEPC,CAAC,EAAE,GAFI;QAGPC,CAAC,EAAE;MAHI,CAFC;MAOTihB,QAAQ,EAAE;QACTC,EAAE,EAAE,GADK;QAETC,EAAE,EAAE,GAFK;QAGTC,EAAE,EAAE,GAHK;QAITC,EAAE,EAAE;MAJK,CAPD;MAaTC,IAAI,EAAE5T,IAAI,CAAC7oB,IAbF;MAcT6D,IAAI,EAAE,SAdG;MAeTgN,KAAK,EAAE;QACN0D,CAAC,EAAEoY,QAAQ,CAAC9D,IAAI,CAACxpB,QAAL,CAAcwR,KAAd,CAAoB0D,CAApB,GAAwB,GAAzB,CADL;QAENsB,CAAC,EAAE8W,QAAQ,CAAC9D,IAAI,CAACxpB,QAAL,CAAcwR,KAAd,CAAoBgF,CAApB,GAAwB,GAAzB,CAFL;QAGNC,CAAC,EAAE6W,QAAQ,CAAC9D,IAAI,CAACxpB,QAAL,CAAcwR,KAAd,CAAoBiF,CAApB,GAAwB,GAAzB,CAHL;QAINkH,CAAC,EAAE6L,IAAI,CAAC5e,QAAL,CAAcC,SAAd,CAAwBL,aAAxB,CAAsC1I;MAJnC,CAfE;MAqBT+W,IAAI,EAAE;QACL;QACA;QACA9Y,MAAM,EAAEs9B,WAAW,CAAC7T,IAAI,CAACH,QAAN,CAAX,CAA2BtpB,MAA3B,CAAkC8X,QAAlC,EAHH;QAILrV,KAAK,EAAE66B,WAAW,CAAC7T,IAAI,CAACH,QAAN,CAAX,CAA2B7mB,KAA3B,CAAiCqV,QAAjC,EAJF;QAKL9G,MAAM,EAAEssB,WAAW,CAAC7T,IAAI,CAACH,QAAN,CAAX,CAA2BtY,MAA3B,CAAkC8G,QAAlC;MALH,CArBG;MA4BT/M,gBAAgB,EAAE,0BAAC9K,QAAD,EAAc;QAC/BwpB,IAAI,CAAC5e,QAAL,CAAcoO,MAAd,CAAqBJ,QAArB,CAA8BpH,KAA9B,GAAsC;UACrC0D,CAAC,EAAEoY,QAAQ,CAACttB,QAAQ,CAACA,QAAT,CAAkBwR,KAAlB,CAAwB0D,CAAxB,GAA4B,GAA7B,CAD0B;UAErCsB,CAAC,EAAE8W,QAAQ,CAACttB,QAAQ,CAACA,QAAT,CAAkBwR,KAAlB,CAAwBgF,CAAxB,GAA4B,GAA7B,CAF0B;UAGrCC,CAAC,EAAE6W,QAAQ,CAACttB,QAAQ,CAACA,QAAT,CAAkBwR,KAAlB,CAAwBiF,CAAxB,GAA4B,GAA7B,CAH0B;UAIrCkH,CAAC,EAAE3d,QAAQ,CAAC8B;QAJyB,CAAtC;MAMA;IAnCQ;EAJY,CAAvB;AA0CA;;AACD,SAAS+6B,UAAT,CAAoBrT,IAApB,EAA0B;EACzB,IAAI8T,QAAQ,GAAG9T,IAAI,CAACH,QAAL,CAAckJ,KAAd,CAAoBsD,KAAnC;EACA,IAAI1c,OAAO,GAAG,EAAd;;EACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,QAAQ,CAACv9B,MAA7B,EAAqCqZ,CAAC,EAAtC,EAA0C;IACzCD,OAAO,CAAC9H,IAAR,CAAaisB,QAAQ,CAAClkB,CAAD,CAArB;EACA;;EACD,OAAOD,OAAP;AACA;;AACD,SAASyjB,eAAT,CAAyBpT,IAAzB,EAA+B;EAC9B,IAAItD,MAAM,GAAG,EAAb;EACA,IAAIoX,QAAQ,GAAG9T,IAAI,CAACH,QAAL,CAAckJ,KAAd,CAAoBsD,KAAnC;EACA,IAAInQ,IAAI,GAAG8D,IAAI,CAACH,QAAL,CAAcuM,UAAd,CAAyB9P,QAApC;;EACA,KAAK,IAAI1M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,QAAQ,CAACv9B,MAA7B,EAAqCqZ,CAAC,EAAtC,EAA0C;IACzC8M,MAAM,CAAC7U,IAAP,CAAYqU,IAAI,CAAC6X,IAAL,CAAUD,QAAQ,CAAClkB,CAAD,CAAlB,CAAZ;IACA8M,MAAM,CAAC7U,IAAP,CAAYqU,IAAI,CAAC8X,IAAL,CAAUF,QAAQ,CAAClkB,CAAD,CAAlB,CAAZ;IACA8M,MAAM,CAAC7U,IAAP,CAAYqU,IAAI,CAAC+X,IAAL,CAAUH,QAAQ,CAAClkB,CAAD,CAAlB,CAAZ;EACA;;EACD,OAAO8M,MAAP;AACA;;AACD,SAASwW,aAAT,CAAuBlT,IAAvB,EAA6B;EAC5B,IAAItD,MAAM,GAAG,EAAb;EACA,IAAIoX,QAAQ,GAAG9T,IAAI,CAACH,QAAL,CAAckJ,KAAd,CAAoBsD,KAAnC;EACA,IAAInQ,IAAI,GAAG8D,IAAI,CAACH,QAAL,CAAcuM,UAAd,CAAyB9P,QAApC;;EACA,KAAK,IAAI1M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,QAAQ,CAACv9B,MAA7B,EAAqCqZ,CAAC,EAAtC,EAA0C;IACzC8M,MAAM,CAAC7U,IAAP,CAAY,IAAIsV,0CAAJ,CAAYjB,IAAI,CAAC6X,IAAL,CAAUD,QAAQ,CAAClkB,CAAD,CAAlB,CAAZ,EAAoCsM,IAAI,CAAC8X,IAAL,CAAUF,QAAQ,CAAClkB,CAAD,CAAlB,CAApC,EAA4DsM,IAAI,CAAC+X,IAAL,CAAUH,QAAQ,CAAClkB,CAAD,CAAlB,CAA5D,CAAZ;EACA;;EACD8M,MAAM,GAAGA,MAAM,CAACnU,MAAP,CAAc,UAACpQ,KAAD,EAAQ4wB,KAAR,EAAeC,IAAf;IAAA,OAAwBA,IAAI,CAACC,SAAL,CAAe,UAACnI,IAAD;MAAA,OAAUA,IAAI,CAACF,UAAL,CAAgBzoB,KAAhB,IAAyBmsB,qCAAnC;IAAA,CAAf,MAA0DyE,KAAlF;EAAA,CAAd,CAAT;EACA,OAAOrM,MAAP;AACA;;AACD,SAASwX,cAAT,CAAwBlU,IAAxB,EAA8B;EAC7B,IAAItD,MAAM,GAAG,EAAb;EACA,IAAIoX,QAAQ,GAAG9T,IAAI,CAACH,QAAL,CAAckJ,KAAd,CAAoBsD,KAAnC;EACA,IAAInQ,IAAI,GAAG8D,IAAI,CAACH,QAAL,CAAcuM,UAAd,CAAyB9P,QAApC;;EACA,KAAK,IAAI1M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,QAAQ,CAACv9B,MAA7B,EAAqCqZ,CAAC,EAAtC,EAA0C;IACzC8M,MAAM,CAAC7U,IAAP,CAAY,IAAIsV,0CAAJ,CAAYjB,IAAI,CAAC6X,IAAL,CAAUD,QAAQ,CAAClkB,CAAD,CAAlB,CAAZ,EAAoCsM,IAAI,CAAC8X,IAAL,CAAUF,QAAQ,CAAClkB,CAAD,CAAlB,CAApC,EAA4DsM,IAAI,CAAC+X,IAAL,CAAUH,QAAQ,CAAClkB,CAAD,CAAlB,CAA5D,CAAZ;EACA;;EACD,IAAIukB,GAAG,GAAG,CAAV;;EACA,KAAK,IAAIvkB,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG8M,MAAM,CAACnmB,MAAP,GAAgB,CAApC,EAAuCqZ,EAAC,EAAxC,EAA4C;IAC3C,IAAIuE,CAAC,GAAGuI,MAAM,CAAC9M,EAAD,CAAN,CAAUgR,UAAV,CAAqBlE,MAAM,CAAC9M,EAAC,GAAG,CAAL,CAA3B,CAAR;;IACA,IAAI3C,CAAC,GAAGyP,MAAM,CAAC9M,EAAC,GAAG,CAAL,CAAN,CAAcgR,UAAd,CAAyBlE,MAAM,CAAC9M,EAAC,GAAG,CAAL,CAA/B,CAAR;;IACA,IAAIpH,CAAC,GAAGkU,MAAM,CAAC9M,EAAC,GAAG,CAAL,CAAN,CAAcgR,UAAd,CAAyBlE,MAAM,CAAC9M,EAAD,CAA/B,CAAR;;IAEAukB,GAAG,IAAIpoB,IAAI,CAACgjB,IAAL,CAAU,CAAC5a,CAAC,GAAGlH,CAAJ,GAAQzE,CAAT,KAAe2L,CAAC,GAAGlH,CAAJ,GAAQzE,CAAvB,KAA6ByE,CAAC,GAAGzE,CAAJ,GAAQ2L,CAArC,KAA2C3L,CAAC,GAAG2L,CAAJ,GAAQlH,CAAnD,CAAV,IAAmE,CAA1E;EACA;;EACD,OAAOknB,GAAP;AACA;;AACD,SAASC,SAAT,CAAmBvU,QAAnB,EAA6B;EAC5B,IAAIvD,QAAQ,GAAGuD,QAAQ,CAACuM,UAAT,CAAoB9P,QAAnC;EACA,IAAI+X,KAAK,GAAG/X,QAAQ,CAACgP,KAAT,GAAiB,CAA7B;EACA,IAAI6I,GAAG,GAAG,CAAV;EACA,IAAI1N,EAAE,GAAG,IAAItJ,0CAAJ,EAAT;EAAA,IACCuJ,EAAE,GAAG,IAAIvJ,0CAAJ,EADN;EAAA,IAECqR,EAAE,GAAG,IAAIrR,0CAAJ,EAFN;;EAGA,KAAK,IAAIvN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGykB,KAApB,EAA2BzkB,CAAC,EAA5B,EAAgC;IAC/B6W,EAAE,CAAC6N,mBAAH,CAAuBhY,QAAvB,EAAiC1M,CAAC,GAAG,CAAJ,GAAQ,CAAzC;IACA8W,EAAE,CAAC4N,mBAAH,CAAuBhY,QAAvB,EAAiC1M,CAAC,GAAG,CAAJ,GAAQ,CAAzC;IACA4e,EAAE,CAAC8F,mBAAH,CAAuBhY,QAAvB,EAAiC1M,CAAC,GAAG,CAAJ,GAAQ,CAAzC;IACAukB,GAAG,IAAII,sBAAsB,CAAC9N,EAAD,EAAKC,EAAL,EAAS8H,EAAT,CAA7B;EACA;;EACD,OAAO2F,GAAP;;EACA,SAASI,sBAAT,CAAgC9N,EAAhC,EAAoCC,EAApC,EAAwC8H,EAAxC,EAA4C;IAC3C,OAAO/H,EAAE,CAACkB,GAAH,CAAOjB,EAAE,CAAC8N,KAAH,CAAShG,EAAT,CAAP,IAAuB,GAA9B;EACA;AACD;;AACD,SAASqF,WAAT,CAAqBhU,QAArB,EAA+B;EAC9B,IAAI4U,GAAG,GAAG5U,QAAQ,CAAC6U,WAAT,CAAqBD,GAA/B;EACA,IAAIE,GAAG,GAAG9U,QAAQ,CAAC6U,WAAT,CAAqBC,GAA/B;EACA,OAAO;IACNp+B,MAAM,EAAEwV,IAAI,CAACkjB,GAAL,CAASwF,GAAG,CAACriB,CAAJ,GAAQuiB,GAAG,CAACviB,CAArB,CADF;IAENpZ,KAAK,EAAE+S,IAAI,CAACkjB,GAAL,CAASwF,GAAG,CAACniB,CAAJ,GAAQqiB,GAAG,CAACriB,CAArB,CAFD;IAGN/K,MAAM,EAAEwE,IAAI,CAACkjB,GAAL,CAASwF,GAAG,CAACpiB,CAAJ,GAAQsiB,GAAG,CAACtiB,CAArB;EAHF,CAAP;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxKD;AACA;AAEO,SAASwiB,uBAAT,CAAiCrR,KAAjC,EAAwCL,KAAxC,EAA+CxkB,IAA/C,EAAqDm2B,SAArD,EAAgE;EACtE,IAAM3K,MAAM,GAAGxrB,IAAI,CAACo2B,QAAL,CAAc3sB,UAAd,CAAyBgiB,qBAAzB,EAAf;EACA,IAAMpI,EAAE,GAAGwB,KAAK,CAAC5a,OAAN,GAAgBuhB,MAAM,CAACvpB,IAAlC;EACA,IAAMypB,EAAE,GAAG7G,KAAK,CAAC7a,OAAN,GAAgBwhB,MAAM,CAACxpB,GAAlC;EACA,IAAMshB,EAAE,GAAGkI,MAAM,CAACG,KAAP,GAAeH,MAAM,CAACvpB,IAAjC;EACAuiB,KAAK,CAAC/Q,CAAN,GAAW4P,EAAE,GAAGC,EAAN,GAAY,CAAZ,GAAgB,CAA1B;EACA,IAAMsI,EAAE,GAAGJ,MAAM,CAACK,MAAP,GAAgBL,MAAM,CAACxpB,GAAlC;EACAwiB,KAAK,CAAC9Q,CAAN,GAAU,EAAEgY,EAAE,GAAGE,EAAP,IAAa,CAAb,GAAiB,CAA3B;EAEA,IAAMyK,SAAS,GAAG,IAAIJ,4CAAJ,EAAlB;EACA,IAAIz0B,KAAK,GAAG,IAAI+c,wCAAJ,CAAU,IAAIC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAV,EAAgC,CAAhC,CAAZ;EAEA6X,SAAS,CAACtK,aAAV,CAAwBvH,KAAxB,EAA+BxkB,IAAI,CAACgsB,MAApC;EACA,IAAItK,SAAS,GAAG2U,SAAS,CAACC,GAAV,CAAcC,cAAd,CAA6B/0B,KAA7B,EAAoC,IAAIgd,0CAAJ,EAApC,CAAhB;EACA,OAAO,IAAIA,0CAAJ,CAAYkD,SAAS,CAACjO,CAAtB,EAAyB0iB,SAAzB,EAAoCzU,SAAS,CAAC/N,CAA9C,CAAP;AACA;AACM,SAASka,yBAAT,CAAmChJ,KAAnC,EAA0CL,KAA1C,EAAiDxkB,IAAjD,EAAuDwB,KAAvD,EAA8DkM,KAA9D,EAAqE;EAC3E,IAAM8d,MAAM,GAAGxrB,IAAI,CAACo2B,QAAL,CAAc3sB,UAAd,CAAyBgiB,qBAAzB,EAAf;EACA,IAAMpI,EAAE,GAAGwB,KAAK,CAAC5a,OAAN,GAAgBuhB,MAAM,CAACvpB,IAAlC;EACA,IAAMypB,EAAE,GAAG7G,KAAK,CAAC7a,OAAN,GAAgBwhB,MAAM,CAACxpB,GAAlC;EACA,IAAMshB,EAAE,GAAGkI,MAAM,CAACG,KAAP,GAAeH,MAAM,CAACvpB,IAAjC;EACAuiB,KAAK,CAAC/Q,CAAN,GAAW4P,EAAE,GAAGC,EAAN,GAAY,CAAZ,GAAgB,CAA1B;EACA,IAAMsI,EAAE,GAAGJ,MAAM,CAACK,MAAP,GAAgBL,MAAM,CAACxpB,GAAlC;EACAwiB,KAAK,CAAC9Q,CAAN,GAAU,EAAEgY,EAAE,GAAGE,EAAP,IAAa,CAAb,GAAiB,CAA3B;EAEA,IAAMyK,SAAS,GAAG,IAAIJ,4CAAJ,EAAlB;EAEAI,SAAS,CAACtK,aAAV,CAAwBvH,KAAxB,EAA+BxkB,IAAI,CAACgsB,MAApC;EACA,IAAIwK,SAAS,GAAGzW,oBAAoB,CAACve,KAAK,CAAC4c,MAAP,CAApB,CAAmCzK,CAAnD;EACA,IAAI8iB,QAAQ,GAAG,IAAIlY,wCAAJ,CAAU,IAAIC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAV,EAAgC,CAAhC,CAAf;EACAiY,QAAQ,GAAGA,QAAQ,CAAC/V,6BAAT,CAAuC8V,SAAvC,EAAkD9oB,KAAlD,CAAX;EACA,OAAO2oB,SAAS,CAACC,GAAV,CAAcC,cAAd,CAA6BE,QAA7B,EAAuC,IAAIjY,0CAAJ,EAAvC,CAAP;AACA;AACM,SAAS4B,mBAAT,CAA6ByE,KAA7B,EAAoCL,KAApC,EAA2CxkB,IAA3C,EAAiDglB,KAAjD,EAAwDxjB,KAAxD,EAA+D;EACrE,IAAMgqB,MAAM,GAAGxrB,IAAI,CAACo2B,QAAL,CAAc3sB,UAAd,CAAyBgiB,qBAAzB,EAAf;EACA,IAAMpI,EAAE,GAAGwB,KAAK,CAAC5a,OAAN,GAAgBuhB,MAAM,CAACvpB,IAAlC;EACA,IAAMypB,EAAE,GAAG7G,KAAK,CAAC7a,OAAN,GAAgBwhB,MAAM,CAACxpB,GAAlC;EACA,IAAMshB,EAAE,GAAGkI,MAAM,CAACG,KAAP,GAAeH,MAAM,CAACvpB,IAAjC;EACAuiB,KAAK,CAAC/Q,CAAN,GAAW4P,EAAE,GAAGC,EAAN,GAAY,CAAZ,GAAgB,CAA1B;EACA,IAAMsI,EAAE,GAAGJ,MAAM,CAACK,MAAP,GAAgBL,MAAM,CAACxpB,GAAlC;EACAwiB,KAAK,CAAC9Q,CAAN,GAAU,EAAEgY,EAAE,GAAGE,EAAP,IAAa,CAAb,GAAiB,CAA3B;EAEA,IAAMyK,SAAS,GAAG,IAAIJ,4CAAJ,EAAlB;EACA,IAAI,CAACz0B,KAAL,EAAYA,KAAK,GAAG,IAAI+c,wCAAJ,CAAU,IAAIC,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAV,EAAgC,CAAhC,CAAR;;EACZ,IAAIwG,KAAJ,EAAW;IACVxjB,KAAK,GAAGA,KAAK,CAACkf,6BAAN,CAAoCsE,KAAK,CAACpQ,IAAN,CAAWwJ,MAA/C,EAAuD4G,KAAK,CAACtX,KAA7D,CAAR;EACA;;EACD2oB,SAAS,CAACtK,aAAV,CAAwBvH,KAAxB,EAA+BxkB,IAAI,CAACgsB,MAApC;EACA,OAAO;IACNte,KAAK,EAAE2oB,SAAS,CAACC,GAAV,CAAcC,cAAd,CAA6B/0B,KAA7B,EAAoC,IAAIgd,0CAAJ,EAApC,CADD;IAENhd,KAAK,EAAEA;EAFD,CAAP;AAIA;AAEM,SAAS2kB,QAAT,CAAkBuQ,UAAlB,EAA8BC,WAA9B,EAA+D;EAAA,IAApBzpB,SAAoB,uEAAR,MAAQ;EACrE,OAAOypB,WAAW,GAAGzpB,SAAd,GAA0BwpB,UAA1B,IAAwCA,UAAU,GAAGC,WAAW,GAAGzpB,SAA1E;AACA;AACM,SAAS0iB,cAAT,CAAwBnM,EAAxB,EAA4BC,EAA5B,EAAgC;EACtC,OAAOyC,QAAQ,CAAC1C,EAAE,CAAChQ,CAAJ,EAAOiQ,EAAE,CAACjQ,CAAV,EAAa,MAAb,CAAR,IAAgC0S,QAAQ,CAAC1C,EAAE,CAAC/P,CAAJ,EAAOgQ,EAAE,CAAChQ,CAAV,EAAa,MAAb,CAAxC,IAAgEyS,QAAQ,CAAC1C,EAAE,CAAC9P,CAAJ,EAAO+P,EAAE,CAAC/P,CAAV,EAAa,MAAb,CAA/E;AACA;AAEM,SAASoM,oBAAT,CAA8B3B,MAA9B,EAAsC;EAC5C,IAAI+H,QAAQ,CAAC/H,MAAM,CAACoS,OAAP,CAAe,IAAIhS,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAf,CAAD,EAAuC,CAAvC,CAAR,IAAqD2H,QAAQ,CAAC/H,MAAM,CAACoS,OAAP,CAAe,IAAIhS,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAf,CAAD,EAAuCpR,IAAI,CAACC,EAA5C,CAAjE,EAAkH;IACjH,OAAO;MACNoG,CAAC,EAAE,IAAI+K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CADG;MAEN7K,CAAC,EAAE,IAAI6K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB;IAFG,CAAP;EAIA,CALD,MAKO;IACN,IAAI7K,CAAC,GAAG,IAAI6K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkClL,MAAlC,EAA0C,IAAII,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAA1C,CAAR;IACA,IAAI/K,CAAC,GAAG,IAAI+K,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB8K,YAArB,CAAkClL,MAAlC,EAA0CzK,CAA1C,CAAR;IACA,OAAO;MACNF,CAAC,EAAEA,CADG;MAENE,CAAC,EAAEA;IAFG,CAAP;EAIA;AACD;AACM,SAASyd,yBAAT,CAAmCtJ,EAAnC,EAAuCC,EAAvC,EAA2C3V,CAA3C,EAA8C;EACpD,IAAIwc,GAAG,GAAG9G,EAAE,CAAC7F,UAAH,CAAc8F,EAAd,CAAV;EACA,IAAIkI,EAAE,GAAG,IAAIzR,0CAAJ,CAAYuJ,EAAE,CAACtU,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBsU,EAAE,CAACrU,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCqU,EAAE,CAACpU,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,CAAT;EACA,IAAIijB,IAAI,GAAGhI,GAAG,GAAGxhB,IAAI,CAACmc,GAAL,CAAS0G,EAAE,CAACO,OAAH,CAAWpe,CAAX,CAAT,CAAjB;EACA,OAAO0V,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAe,IAAIslB,0CAAJ,CAAYpM,CAAC,CAACqB,CAAF,GAAMmjB,IAAlB,EAAwBxkB,CAAC,CAACsB,CAAF,GAAMkjB,IAA9B,EAAoCxkB,CAAC,CAACuB,CAAF,GAAMijB,IAA1C,CAAf,CAAP;AACA;AACM,SAASjH,yBAAT,CAAmC7H,EAAnC,EAAuCC,EAAvC,EAA2C8H,EAA3C,EAA+C;EACrD,IAAIpM,EAAE,GAAG,IAAIjF,0CAAJ,CAAYuJ,EAAE,CAACtU,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBsU,EAAE,CAACrU,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCqU,EAAE,CAACpU,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,EAAmDsP,SAAnD,EAAT;EACA,IAAIS,EAAE,GAAG,IAAIlF,0CAAJ,CAAYqR,EAAE,CAACpc,CAAH,GAAOqU,EAAE,CAACrU,CAAtB,EAAyBoc,EAAE,CAACnc,CAAH,GAAOoU,EAAE,CAACpU,CAAnC,EAAsCmc,EAAE,CAAClc,CAAH,GAAOmU,EAAE,CAACnU,CAAhD,EAAmDsP,SAAnD,EAAT;EACA,OAAO6E,EAAE,CAAC3J,KAAH,GAAWjlB,GAAX,CAAeuqB,EAAE,CAACtF,KAAH,GAAWE,cAAX,CAA0ByJ,EAAE,CAAC7F,UAAH,CAAc4N,EAAd,IAAoBziB,IAAI,CAACmc,GAAL,CAAS9F,EAAE,CAAC+M,OAAH,CAAW9M,EAAX,CAAT,CAA9C,CAAf,CAAP;AACA;AAEM,SAASwC,cAAT,CAAwB2Q,MAAxB,EAAgCC,MAAhC,EAAwC;EAC9C,IAAInC,MAAM,GAAG,IAAInW,0CAAJ,CAAYsY,MAAM,CAACrjB,CAAP,GAAWojB,MAAM,CAACpjB,CAA9B,EAAiCqjB,MAAM,CAACpjB,CAAP,GAAWmjB,MAAM,CAACnjB,CAAnD,EAAsDojB,MAAM,CAACnjB,CAAP,GAAWkjB,MAAM,CAACljB,CAAxE,CAAb;EACA,IAAI/b,MAAM,GAAG+8B,MAAM,CAAC/8B,MAAP,KAAkB,CAA/B;EACA+8B,MAAM,GAAGA,MAAM,CAAC1R,SAAP,EAAT;EACA,IAAI8T,SAAS,GAAGF,MAAM,CAAC1Y,KAAP,EAAhB;EACA4Y,SAAS,GAAGA,SAAS,CAAC79B,GAAV,CAAc,IAAIslB,0CAAJ,CAAYmW,MAAM,CAAClhB,CAAP,GAAW7b,MAAvB,EAA+B+8B,MAAM,CAACjhB,CAAP,GAAW9b,MAA1C,EAAkD+8B,MAAM,CAAChhB,CAAP,GAAW/b,MAA7D,CAAd,CAAZ;EACA,OAAOm/B,SAAP;AACA;AACM,SAASC,eAAT,CAAyB74B,SAAzB,EAAoC6B,IAApC,EAA0C;EAChD,IAAIihB,KAAK,GAAG,EAAZ;;EACA,IAAI9iB,SAAS,CAACgE,IAAd,EAAoB;IACnB,IAAI80B,cAAc,GAAG94B,SAAS,CAACwiB,SAAV,CAAoBle,QAApB,CAA6Bkf,IAA7B,CAAkCV,KAAvD;;IACA,KAAK,IAAIhQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgmB,cAAc,CAACr/B,MAAnC,EAA2CqZ,CAAC,EAA5C,EAAgD;MAC/CgQ,KAAK,CAAC/X,IAAN,CAAW;QACVyU,QAAQ,EAAEsZ,cAAc,CAAChmB,CAAD,CADd;QAEVvD,KAAK,EAAEvP,SAAS,CAACwiB,SAAV,CAAoBle,QAApB,CAA6Bkf,IAA7B,CAAkCF;MAF/B,CAAX;IAIA;EACD;;EACDzhB,IAAI,CAAC0I,KAAL,CAAWlF,QAAX,CAAoB1K,OAApB,CAA4B,UAAC+Q,CAAD,EAAO;IAClC,IAAIA,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,kDAAvB,EAAwC;MACvC2Y,KAAK,CAAC/X,IAAN,CAAW;QACVyU,QAAQ,EAAE9T,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBoT,KAApB,CAA0BC,QAD1B;QAEVjQ,KAAK,EAAE7D,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBoT;MAFjB,CAAX;MAIAuD,KAAK,CAAC/X,IAAN,CAAW;QACVyU,QAAQ,EAAE9T,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBwc,GAApB,CAAwBnJ,QADxB;QAEVjQ,KAAK,EAAE7D,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBwc;MAFjB,CAAX;MAIA7F,KAAK,CAAC/X,IAAN,CAAW;QACVyU,QAAQ,EAAE9T,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB0c,GAApB,CAAwBrJ,QADxB;QAEVjQ,KAAK,EAAE7D,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB0c;MAFjB,CAAX;IAIA;;IACD,IAAInd,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,iDAAvB,EAAuC;MACtC2Y,KAAK,CAAC/X,IAAN,CAAW;QACVyU,QAAQ,EAAE9T,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBoT,KAApB,CAA0BC,QAD1B;QAEVjQ,KAAK,EAAE7D,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBoT;MAFjB,CAAX;MAIAuD,KAAK,CAAC/X,IAAN,CAAW;QACVyU,QAAQ,EAAE9T,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBye,MAApB,CAA2BpL,QAD3B;QAEVjQ,KAAK,EAAE7D,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBye;MAFjB,CAAX;MAIA9H,KAAK,CAAC/X,IAAN,CAAW;QACVyU,QAAQ,EAAE9T,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB0c,GAApB,CAAwBrJ,QADxB;QAEVjQ,KAAK,EAAE7D,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB0c;MAFjB,CAAX;IAIA;;IACD,IAAInd,CAAC,CAACpH,QAAF,CAAWyH,IAAX,IAAmB5B,mDAAvB,EAAyC;MACxCuB,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBgqB,KAApB,CAA0Bx7B,OAA1B,CAAkC,UAACF,CAAD,EAAO;QACxCqoB,KAAK,CAAC/X,IAAN,CAAW;UACVyU,QAAQ,EAAE/kB,CADA;UAEV8U,KAAK,EAAE7D,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoBkqB;QAFjB,CAAX;MAIA,CALD;IAMA;EACD,CArCD;EAsCAvT,KAAK,GAAGA,KAAK,CAACrX,MAAN,CACP,UAACpQ,KAAD,EAAQ4wB,KAAR,EAAeC,IAAf;IAAA,OAAwBA,IAAI,CAACC,SAAL,CAAe,UAACnI,IAAD;MAAA,OAAUA,IAAI,CAACxE,QAAL,CAAcsE,UAAd,CAAyBzoB,KAAK,CAACmkB,QAA/B,IAA2CgI,qCAArD;IAAA,CAAf,MAA4EyE,KAApG;EAAA,CADO,CAAR;EAGA,OAAOnJ,KAAP;AACA;AAEM,SAASQ,SAAT,CAAmBtjB,SAAnB,EAA8B6B,IAA9B,EAAoCgiB,CAApC,EAAuC;EAC7C,IAAIkV,QAAQ,GAAGF,eAAe,CAAC74B,SAAD,EAAY6B,IAAZ,CAA9B;EACA,IAAIk3B,QAAQ,CAACt/B,MAAT,IAAmB,CAAvB,EAA0B,OAAO,IAAP;EAC1B,IAAIuqB,IAAI,GAAG+U,QAAQ,CAACttB,MAAT,CAAgB,UAAC8M,CAAD;IAAA,OAAOsL,CAAC,CAACC,UAAF,CAAavL,CAAC,CAACiH,QAAf,KAA4BmC,uCAAnC;EAAA,CAAhB,EAAyD,CAAzD,CAAX;;EACA,IAAI,CAACqC,IAAL,EAAW;IACV+U,QAAQ,CAACp+B,OAAT,CAAiB,UAAC4d,CAAD;MAAA,OAAOA,CAAC,CAAChJ,KAAF,CAAQjL,QAAR,CAAiBmf,UAAjB,CAA4B5hB,IAAI,CAAC0I,KAAjC,EAAwC,KAAxC,CAAP;IAAA,CAAjB;IACA,OAAO,IAAP;EACA,CAHD,MAGO;IACNyZ,IAAI,CAACzU,KAAL,CAAWjL,QAAX,CAAoB2f,WAApB,CAAgCD,IAAI,CAACxE,QAArC;IACAwE,IAAI,CAACzU,KAAL,CAAWjL,QAAX,CAAoBmf,UAApB,CAA+B5hB,IAAI,CAAC0I,KAApC,EAA2C,IAA3C;IACA,OAAOyZ,IAAI,CAACxE,QAAZ;EACA;AACD;AAEM,SAASiQ,iBAAT,CAA2B3I,MAA3B,EAAmCzjB,KAAnC,EAA0C;EAChD,IAAIysB,WAAW,GAAG,EAAlB;EACA,IAAIE,SAAS,GAAG,EAAhB;EACA,IAAID,UAAU,GAAG,EAAjB;EACA,IAAIE,QAAQ,GAAG,EAAf;EACA,IAAIC,cAAc,GAAG,EAArB;EACA,IAAI8G,QAAQ,GAAGlQ,MAAM,CAAC/D,QAAP,CAAgBkJ,KAAhB,CAAsBsD,KAArC;EACA,IAAInQ,IAAI,GAAG0H,MAAM,CAAC/D,QAAP,CAAgBuM,UAAhB,CAA2B9P,QAAtC;EACA,IAAIwZ,OAAO,GAAGlS,MAAM,CAAC/D,QAAP,CAAgBuM,UAAhB,CAA2BrP,MAAzC;;EACA,KAAK,IAAInN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,QAAQ,CAACv9B,MAA7B,EAAqCqZ,CAAC,EAAtC,EAA0C;IACzC,IAAImN,MAAM,GAAG,IAAII,0CAAJ,CAAY2Y,OAAO,CAAC/B,IAAR,CAAaD,QAAQ,CAAClkB,CAAD,CAArB,CAAZ,EAAuCkmB,OAAO,CAAC9B,IAAR,CAAaF,QAAQ,CAAClkB,CAAD,CAArB,CAAvC,EAAkEkmB,OAAO,CAAC7B,IAAR,CAAaH,QAAQ,CAAClkB,CAAD,CAArB,CAAlE,CAAb;IACA,IAAIgf,EAAE,GAAG,IAAIzR,0CAAJ,CAAYjB,IAAI,CAAC6X,IAAL,CAAUD,QAAQ,CAAClkB,CAAD,CAAlB,CAAZ,EAAoCsM,IAAI,CAAC8X,IAAL,CAAUF,QAAQ,CAAClkB,CAAD,CAAlB,CAApC,EAA4DsM,IAAI,CAAC+X,IAAL,CAAUH,QAAQ,CAAClkB,CAAD,CAAlB,CAA5D,CAAT;;IACA,IAAI2e,cAAc,CAACxR,MAAD,EAAS5c,KAAK,CAAC4c,MAAf,CAAlB,EAA0C;MACzC6P,WAAW,CAAC/kB,IAAZ,CAAiB+mB,EAAjB;MACA/B,UAAU,CAAChlB,IAAX,CAAgBisB,QAAQ,CAAClkB,CAAD,CAAxB;IACA,CAHD,MAGO;MACNod,cAAc,CAACnlB,IAAf,CAAoBisB,QAAQ,CAAClkB,CAAD,CAA5B;MACA,IAAI2d,GAAG,GAAGptB,KAAK,CAACqtB,eAAN,CAAsBoB,EAAtB,CAAV;;MACA,IAAI9J,QAAQ,CAACyI,GAAD,EAAM,GAAN,EAAW,MAAX,CAAR,IAA8BzI,QAAQ,CAAC/H,MAAM,CAACoS,OAAP,CAAehvB,KAAK,CAAC4c,MAArB,CAAD,EAA+BhR,IAAI,CAACC,EAAL,GAAU,CAAzC,EAA4C,MAA5C,CAA1C,EAA+F;QAC9F+gB,QAAQ,CAACllB,IAAT,CAAcisB,QAAQ,CAAClkB,CAAD,CAAtB;QACAkd,SAAS,CAACjlB,IAAV,CAAe+mB,EAAf;MACA;IACD;EACD;;EAED,OAAO;IACNhC,WAAW,EAAEA,WADP;IAENC,UAAU,EAAEA,UAFN;IAGNC,SAAS,EAAEA,SAHL;IAINC,QAAQ,EAAEA,QAJJ;IAKNC,cAAc,EAAEA;EALV,CAAP;AAOA;AACM,SAASlO,cAAT,CAAwB8E,MAAxB,EAAgCzjB,KAAhC,EAAuC;EAC7C,IAAIysB,WAAW,GAAG,EAAlB;EACA,IAAIkH,QAAQ,GAAGlQ,MAAM,CAAC/D,QAAP,CAAgBkJ,KAAhB,CAAsBsD,KAArC;EACA,IAAInQ,IAAI,GAAG0H,MAAM,CAAC/D,QAAP,CAAgBuM,UAAhB,CAA2B9P,QAAtC;EACA,IAAIwZ,OAAO,GAAGlS,MAAM,CAAC/D,QAAP,CAAgBuM,UAAhB,CAA2BrP,MAAzC;;EACA,KAAK,IAAInN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,QAAQ,CAACv9B,MAA7B,EAAqCqZ,CAAC,EAAtC,EAA0C;IACzC,IAAImN,MAAM,GAAG,IAAII,0CAAJ,CAAY2Y,OAAO,CAAC/B,IAAR,CAAaD,QAAQ,CAAClkB,CAAD,CAArB,CAAZ,EAAuCkmB,OAAO,CAAC9B,IAAR,CAAaF,QAAQ,CAAClkB,CAAD,CAArB,CAAvC,EAAkEkmB,OAAO,CAAC7B,IAAR,CAAaH,QAAQ,CAAClkB,CAAD,CAArB,CAAlE,CAAb;IACA,IAAIgf,EAAE,GAAG,IAAIzR,0CAAJ,CAAYjB,IAAI,CAAC6X,IAAL,CAAUD,QAAQ,CAAClkB,CAAD,CAAlB,CAAZ,EAAoCsM,IAAI,CAAC8X,IAAL,CAAUF,QAAQ,CAAClkB,CAAD,CAAlB,CAApC,EAA4DsM,IAAI,CAAC+X,IAAL,CAAUH,QAAQ,CAAClkB,CAAD,CAAlB,CAA5D,CAAT;IACA,IAAI2d,GAAG,GAAGptB,KAAK,CAACqtB,eAAN,CAAsBoB,EAAtB,CAAV;;IACA,IAAIL,cAAc,CAACxR,MAAD,EAAS5c,KAAK,CAAC4c,MAAf,CAAd,IAAwC+H,QAAQ,CAACyI,GAAD,EAAM,GAAN,EAAW,MAAX,CAApD,EAAwE;MACvEX,WAAW,CAAC/kB,IAAZ,CAAiB+mB,EAAjB;IACA;EACD;;EAED,OAAOhC,WAAP;AACA;AAEM,SAASH,YAAT,CAAsB7I,MAAtB,EAA8B;EACpC,IAAInE,MAAM,GAAG,EAAb;EACA,IAAIqU,QAAQ,GAAGlQ,MAAM,CAAC/D,QAAP,CAAgBkJ,KAAhB,CAAsBsD,KAArC;EACA,IAAInQ,IAAI,GAAG0H,MAAM,CAAC/D,QAAP,CAAgBuM,UAAhB,CAA2B9P,QAAtC;;EACA,KAAK,IAAI1M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,QAAQ,CAACv9B,MAA7B,EAAqCqZ,CAAC,EAAtC,EAA0C;IACzC,IAAIgf,EAAE,GAAG,IAAIzR,0CAAJ,CAAYjB,IAAI,CAAC6X,IAAL,CAAUD,QAAQ,CAAClkB,CAAD,CAAlB,CAAZ,EAAoCsM,IAAI,CAAC8X,IAAL,CAAUF,QAAQ,CAAClkB,CAAD,CAAlB,CAApC,EAA4DsM,IAAI,CAAC+X,IAAL,CAAUH,QAAQ,CAAClkB,CAAD,CAAlB,CAA5D,CAAT;IACA6P,MAAM,CAAC5X,IAAP,CAAY+mB,EAAZ;EACA;;EACD,OAAOnP,MAAP;AACA;AAEM,SAASsW,qBAAT,CAA+B3F,EAA/B,EAAmCC,EAAnC,EAAuC,CAAE;AACzC,SAAS2F,iBAAT,CAA2B5F,EAA3B,EAA+BC,EAA/B,EAAmC,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtO5C;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,IAAM5pB,QAAb;EAIC,kBAAYY,KAAZ,EAAmB4vB,SAAnB,EAA8BC,MAA9B,EAAsCl+B,KAAtC,EAA6CuO,MAA7C,EAAmE;IAAA,IAAdjP,KAAc,uEAAN,IAAM;;IAAA;;IAAA,uCAHnD,KAGmD;;IAAA,qCAFrD,KAEqD;;IAAA,iCADzD,CACyD;;IAClE,KAAK+O,KAAL,GAAaA,KAAb;IACA,KAAK4vB,SAAL,GAAiBA,SAAjB;IACA,KAAKC,MAAL,GAAcA,MAAd;IACA,KAAK5+B,KAAL,GAAaA,KAAb;IACA,KAAKU,KAAL,GAAaA,KAAb;IACA,KAAKuO,MAAL,GAAcA,MAAd;IACA,KAAK4vB,WAAL;IACA,KAAKC,QAAL;IACA,KAAKC,QAAL;IACA,KAAKC,SAAL;IACA,KAAKC,aAAL;IACA,KAAKC,UAAL,CAAgB,KAAhB;IACA,KAAKC,YAAL;IACA,KAAKC,iBAAL;IACA,KAAKC,aAAL;IACA,KAAKC,eAAL;IACA,KAAKC,aAAL,GAjBkE,CAkBlE;EACA;;EAvBF;IAAA;IAAA,OAwBC,yBAAgB;MACf,IAAI1vB,KAAK,GAAG,IAAZ;;MAEA5E,MAAM,CAAC8E,gBAAP,CACC,SADD,EAEC,UAAUnR,CAAV,EAAa;QACZ,IAAIA,CAAC,CAACusB,OAAF,IAAa,EAAjB,EAAqBtb,KAAK,CAACknB,WAAN,GAAoB,CAAClnB,KAAK,CAACknB,WAA3B;MACrB,CAJF,EAKC,KALD;IAOA;EAlCF;IAAA;IAAA,OAmCC,uBAAc;MACblR,6EAAA,GAA6CuY,6DAA7C;MACAvY,6EAAA,GAA6CwY,6DAA7C;MACApY,yDAAA,GAAyBqY,8DAAzB;IACA;EAvCF;IAAA;IAAA,OAwCC,oBAAW;MACV,KAAKxzB,IAAL,GAAY,IAAIgzB,6CAAJ,CAAe,EAAf,EAAmB,EAAnB,CAAZ;MACA,KAAKhzB,IAAL,CAAU8F,OAAV,GAAoB,KAApB;MACA,KAAK7B,KAAL,CAAWxP,GAAX,CAAe,KAAKuL,IAApB;IACA;EA5CF;IAAA;IAAA,OA6CC,oBAAW;MACV,KAAK40B,IAAL,GAAY,IAAI9B,6CAAJ,CAAe,CAAf,CAAZ;MACA,KAAK8B,IAAL,CAAUxhC,QAAV,CAAmBsT,SAAnB,GAA+B,KAA/B;MACA,KAAKkuB,IAAL,CAAU1R,WAAV,GAAwB,CAAxB;MACA,KAAKjf,KAAL,CAAWxP,GAAX,CAAe,KAAKmgC,IAApB;IACA;EAlDF;IAAA;IAAA,OAoDC,yBAAgB;MACf,KAAKvN,SAAL,GAAiB,IAAImK,4CAAJ,EAAjB;MACA,KAAKnK,SAAL,CAAewN,YAAf,GAA8B,IAA9B;MACA,KAAKxN,SAAL,CAAeyN,MAAf,CAAsBC,MAAtB,CAA6BC,SAA7B,GAAyC,EAAzC;MACA,KAAKjV,KAAL,GAAa,IAAIlF,0CAAJ,EAAb;MACA,KAAKoa,MAAL,GAAc,KAAd;MACA,KAAKtxB,cAAL,GAAsB,IAAtB;MACA,KAAK9F,WAAL,GAAmB,IAAnB;IACA;EA5DF;IAAA;IAAA,OA8DC,qBAAY;MACX,KAAKq3B,YAAL,GAAoB,IAAIrC,+CAAJ,CAAiB1sB,uDAAjB,EAAmC,CAAnC,CAApB;MACA,KAAKlC,KAAL,CAAWxP,GAAX,CAAe,KAAKygC,YAApB;MAEA,KAAKC,gBAAL,GAAwB,IAAIpC,mDAAJ,CAAqB5sB,uDAArB,EAAuC,CAAvC,CAAxB;MACA,KAAKgvB,gBAAL,CAAsBjc,QAAtB,CAA+BpU,GAA/B,CAAmC,CAAnC,EAAsC,EAAtC,EAA0C,CAA1C;MACA,KAAKqwB,gBAAL,CAAsBnhC,MAAtB,CAA6BklB,QAA7B,CAAsCpU,GAAtC,CAA0C,CAAC,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD;MACA,KAAKqwB,gBAAL,CAAsBC,UAAtB,GAAmC,IAAnC;MACA,KAAKD,gBAAL,CAAsBE,MAAtB,CAA6BC,IAA7B,GAAoC,CAAC,KAArC;MACA,KAAKH,gBAAL,CAAsBE,MAAtB,CAA6BE,OAA7B,CAAqC3/B,KAArC,GAA6C,IAA7C;MACA,KAAKu/B,gBAAL,CAAsBE,MAAtB,CAA6BE,OAA7B,CAAqCpxB,MAArC,GAA8C,IAA9C;MACA,KAAKgxB,gBAAL,CAAsBE,MAAtB,CAA6B9N,MAA7B,CAAoCiO,IAApC,GAA2C,GAA3C;MACA,KAAKL,gBAAL,CAAsBE,MAAtB,CAA6B9N,MAA7B,CAAoCkO,GAApC,GAA0C,KAA1C;MACA,KAAKN,gBAAL,CAAsBE,MAAtB,CAA6B9N,MAA7B,CAAoCiO,IAApC,GAA2C,GAA3C;MACA,KAAKL,gBAAL,CAAsBE,MAAtB,CAA6B9N,MAA7B,CAAoCkO,GAApC,GAA0C,KAA1C;MACA,KAAKN,gBAAL,CAAsBE,MAAtB,CAA6B9N,MAA7B,CAAoC/pB,IAApC,GAA2C,GAA3C;MACA,KAAK23B,gBAAL,CAAsBE,MAAtB,CAA6B9N,MAA7B,CAAoCL,KAApC,GAA4C,CAAC,GAA7C;MACA,KAAKiO,gBAAL,CAAsBE,MAAtB,CAA6B9N,MAA7B,CAAoChqB,GAApC,GAA0C,GAA1C;MACA,KAAK43B,gBAAL,CAAsBE,MAAtB,CAA6B9N,MAA7B,CAAoCH,MAApC,GAA6C,CAAC,GAA9C;MACA,KAAKnjB,KAAL,CAAWxP,GAAX,CAAe,KAAK0gC,gBAApB;IACA;EAlFF;IAAA;IAAA,OAmFC,iCAAwB;MACvB,IAAI5N,MAAM,GAAG,IAAI2L,oDAAJ,CAAsB,EAAtB,EAA0B,KAAKt9B,KAAL,GAAa,KAAKuO,MAA5C,EAAoD,GAApD,EAAyD,IAAzD,CAAb;MACAojB,MAAM,CAACrO,QAAP,CAAgBhK,CAAhB,GAAoB,EAApB;MACAqY,MAAM,CAACrO,QAAP,CAAgBjK,CAAhB,GAAoB,EAApB;MACAsY,MAAM,CAACrO,QAAP,CAAgBlK,CAAhB,GAAoB,EAApB;MACAuY,MAAM,CAACmO,MAAP,CAAc,KAAKzxB,KAAL,CAAWiV,QAAzB;MACAqO,MAAM,CAACvpB,QAAP,CAAgBsX,GAAhB,GAAsB,EAAtB;MACAiS,MAAM,CAACoO,MAAP,CAAcC,SAAd;MACArO,MAAM,CAACoO,MAAP,CAAcE,MAAd,CAAqB,CAArB;MACA,OAAOtO,MAAP;IACA;EA7FF;IAAA;IAAA,OA8FC,kCAAyB;MACxB,IAAIA,MAAM,GAAG,IAAI0L,qDAAJ,CACZ,KAAKr9B,KAAL,GAAa,CAAC,EADF,EAEZ,KAAKA,KAAL,GAAa,EAFD,EAGZ,KAAKuO,MAAL,GAAc,EAHF,EAIZ,KAAKA,MAAL,GAAc,CAAC,EAJH,EAKZ,GALY,EAMZ,IANY,CAAb;MAQAojB,MAAM,CAACrO,QAAP,CAAgBhK,CAAhB,GAAoB,EAApB;MACAqY,MAAM,CAACrO,QAAP,CAAgBjK,CAAhB,GAAoB,EAApB;MACAsY,MAAM,CAACrO,QAAP,CAAgBlK,CAAhB,GAAoB,EAApB;MACAuY,MAAM,CAACmO,MAAP,CAAc,KAAKzxB,KAAL,CAAWiV,QAAzB;MACAqO,MAAM,CAACvpB,QAAP,CAAgBsX,GAAhB,GAAsB,EAAtB;MACAiS,MAAM,CAACoO,MAAP,CAAcC,SAAd;MACArO,MAAM,CAACoO,MAAP,CAAcE,MAAd,CAAqB,CAArB;MACA,OAAOtO,MAAP;IACA;EA/GF;IAAA;IAAA,OAiHC,oBAAWuO,mBAAX,EAAgC;MAC/B,KAAKA,mBAAL,GAA2BA,mBAA3B;MACA,KAAKC,iBAAL,GAAyB,KAAKC,qBAAL,EAAzB;MACA,KAAKC,kBAAL,GAA0B,KAAKC,sBAAL,EAA1B;MACA,KAAK3O,MAAL,GAAc,KAAKuO,mBAAL,GAA2B,KAAKC,iBAAhC,GAAoD,KAAKE,kBAAvE;IACA;EAtHF;IAAA;IAAA,OAwHC,wBAAe;MACd,KAAKtE,QAAL,GAAgB,IAAIwB,gDAAJ,CAAkB;QAAEW,MAAM,EAAE,KAAKA,MAAf;QAAuB5+B,KAAK,EAAE,KAAKA,KAAnC;QAA0CihC,SAAS,EAAE;MAArD,CAAlB,CAAhB;MACA,KAAKxE,QAAL,CAAcyE,OAAd,CAAsB,KAAKxgC,KAA3B,EAAkC,KAAKuO,MAAvC;MACA,KAAKwtB,QAAL,CAAc0E,aAAd,CAA4B1tB,IAAI,CAAC4oB,GAAL,CAASpxB,MAAM,CAACm2B,gBAAhB,EAAkC,CAAlC,CAA5B;MACA,KAAK3E,QAAL,CAAc3sB,UAAd,CAAyB0jB,YAAzB,CAAsC,UAAtC,EAAkD,CAAlD;MACA,KAAKiJ,QAAL,CAAc4E,oBAAd,GAAqC,IAArC;MACA,KAAK5E,QAAL,CAAc6E,cAAd,GAA+BnD,+CAA/B;MACA,KAAK1B,QAAL,CAAc8E,WAAd,GAA4B,GAA5B;MACA,KAAKC,aAAL,GAAqB,IAAIjD,qFAAJ,EAArB;MACA,KAAKiD,aAAL,CAAmBN,OAAnB,CAA2B,KAAKxgC,KAAhC,EAAuC,KAAKuO,MAA5C;MAEA,KAAKuyB,aAAL,CAAmB1xB,UAAnB,CAA8B6M,KAA9B,CAAoCqH,QAApC,GAA+C,UAA/C;MACA,KAAKwd,aAAL,CAAmB1xB,UAAnB,CAA8B6M,KAA9B,CAAoCtU,GAApC,GAA0C,CAA1C;MACA,KAAKm5B,aAAL,CAAmB1xB,UAAnB,CAA8B0jB,YAA9B,CAA2C,UAA3C,EAAuD,CAAvD;MACA,KAAKmL,SAAL,CAAetmB,WAAf,CAA2B,KAAKmpB,aAAL,CAAmB1xB,UAA9C;IACA;EAvIF;IAAA;IAAA,OAyIC,6BAAoB;MACnB,KAAK+T,QAAL,GAAgB,IAAI4a,oFAAJ,CAAkB,KAAKpM,MAAvB,EAA+B,KAAKmP,aAAL,CAAmB1xB,UAAlD,CAAhB;MACA,KAAK+T,QAAL,CAAc4d,aAAd,GAA8B,IAA9B;MACA,KAAK5d,QAAL,CAAc6d,aAAd,GAA8B,GAA9B;MACA,KAAK7d,QAAL,CAAc/kB,MAAd,CAAqB8Q,GAArB,CAAyB,CAAC,CAA1B,EAA6B,CAA7B,EAAgC,CAAhC;MACA,KAAKiU,QAAL,CAAciR,YAAd,CAA2B6M,MAA3B,GAAoC,CAApC;MACA,KAAK9d,QAAL,CAAciR,YAAd,CAA2B8M,KAA3B,GAAmC,CAAC,CAApC;MACA,KAAK/d,QAAL,CAAcge,iBAAd,CAAgC,KAAKL,aAAL,CAAmB1xB,UAAnD;IACA;EAjJF;IAAA;IAAA,OAmJC,wBAAe8wB,mBAAf,EAAoC;MACnC,IAAIxgB,GAAG,GAAG,KAAKiS,MAAL,CAAYrO,QAAtB;MACA,IAAI8d,IAAI,GAAG,KAAKzP,MAAL,CAAYyP,IAAvB;MACA,KAAKlB,mBAAL,GAA2BA,mBAA3B;MACA,KAAKvO,MAAL,GAAcuO,mBAAmB,GAAG,KAAKC,iBAAR,GAA4B,KAAKE,kBAAlE;MACA,KAAK1O,MAAL,CAAYrO,QAAZ,CAAqBpU,GAArB,CAAyBwQ,GAAG,CAACtG,CAA7B,EAAgCsG,GAAG,CAACrG,CAApC,EAAuCqG,GAAG,CAACpG,CAA3C;MACA,KAAKqY,MAAL,CAAYyP,IAAZ,GAAmBA,IAAnB;MACA,KAAKje,QAAL,CAAcyH,MAAd,GAAuBsV,mBAAmB,GAAG,KAAKC,iBAAR,GAA4B,KAAKE,kBAA3E;MACA,KAAKgB,WAAL,CAAiBC,cAAjB,CAAgCpB,mBAAhC;IACA;EA5JF;IAAA;IAAA,OA8JC,yBAAgB;MACf,KAAK9wB,UAAL,GAAkB,KAAK0xB,aAAL,CAAmB1xB,UAArC;IACA;EAhKF;IAAA;IAAA,OAiKC,oBAAW6uB,SAAX,EAAsBC,MAAtB,EAA8B;MAC7B,IAAI/uB,KAAK,GAAG,IAAZ;;MACA5E,MAAM,CAAC8E,gBAAP,CAAwB,QAAxB,EAAkCkyB,MAAlC,EAA0C,KAA1C;;MACA,SAASA,MAAT,CAAgBrjC,CAAhB,EAAmB;QAClBiR,KAAK,CAAC8uB,SAAN,GAAkBA,SAAlB;QACA9uB,KAAK,CAAC+uB,MAAN,GAAeA,MAAf;QACA/uB,KAAK,CAACnP,KAAN,GAAcmP,KAAK,CAAC8uB,SAAN,CAAgB3vB,WAA9B;QACAa,KAAK,CAACZ,MAAN,GAAeY,KAAK,CAAC8uB,SAAN,CAAgBzvB,YAA/B;QACAW,KAAK,CAACwiB,MAAN,CAAa/pB,IAAb,GAAoBuH,KAAK,CAACnP,KAAN,GAAc,CAAC,EAAnC;QACAmP,KAAK,CAACwiB,MAAN,CAAaL,KAAb,GAAqBniB,KAAK,CAACnP,KAAN,GAAc,EAAnC;;QACAmP,KAAK,CAACwiB,MAAN,CAAa6P,sBAAb;;QACAryB,KAAK,CAAC4sB,QAAN,CAAeyE,OAAf,CAAuBrxB,KAAK,CAACnP,KAA7B,EAAoCmP,KAAK,CAACZ,MAA1C,EAAkD,IAAlD;;QACAY,KAAK,CAAC2xB,aAAN,CAAoBN,OAApB,CAA4BrxB,KAAK,CAACnP,KAAlC,EAAyCmP,KAAK,CAACZ,MAA/C,EAAuD,IAAvD;MACA;;MACDY,KAAK,CAACC,UAAN,CAAiBC,gBAAjB,CAAkC,OAAlC,EAA2CoyB,OAA3C,EAAoD,KAApD;;MACA,SAASA,OAAT,CAAiBvjC,CAAjB,EAAoB,CACnB;QACA;QACA;QACA;QACA;MACA;IACD;EAvLF;IAAA;IAAA,OAyLC,2BAAkB;MACjB,IAAIiR,KAAK,GAAG,IAAZ;;MACAuyB,MAAM,CAACC,cAAP,CAAsBxyB,KAAtB,EAA6B,aAA7B,EAA4C;QAC3CyyB,GAAG,EAAE,eAAM;UACV,OAAOzyB,KAAK,CAAC4sB,QAAN,CAAe8F,aAAf,EAAP;QACA,CAH0C;QAI3C3yB,GAAG,EAAE,aAAC/P,KAAD,EAAW;UACfgQ,KAAK,CAAC4sB,QAAN,CAAe+F,aAAf,CAA6B3iC,KAA7B;QACA;MAN0C,CAA5C;IAQA;EAnMF;IAAA;IAAA,OAqMC,0BAAiB8+B,SAAjB,EAA4BC,MAA5B,EAAoC;MACnC,KAAKmD,WAAL,GAAmB,IAAIrD,sDAAJ,CAAiBC,SAAjB,EAA4BC,MAA5B,EAAoC,KAAKgC,mBAAzC,CAAnB;;MACA,IAAI/wB,KAAK,GAAG,IAAZ;;MACAA,KAAK,CAACkyB,WAAN,CAAkBtF,QAAlB,CAA2B3sB,UAA3B,CAAsC2yB,OAAtC,GAAgD,UAAUvX,KAAV,EAAiB;QAChErb,KAAK,CAACkyB,WAAN,CAAkBW,MAAlB,CAAyB7yB,KAAK,CAACwiB,MAA/B,EAAuCxiB,KAAK,CAACgU,QAA7C;MACA,CAFD;;MAGA,IAAI8e,MAAM,GAAG3qB,QAAQ,CAAC4qB,cAAT,CAAwB,cAAxB,CAAb;MACAD,MAAM,CAAC5yB,gBAAP,CACC,OADD,EAEC,YAAY;QACXF,KAAK,CAACkyB,WAAN,CAAkBc,QAAlB,CAA2BhzB,KAAK,CAACwiB,MAAjC,EAAyCxiB,KAAK,CAACgU,QAA/C;MACA,CAJF,EAKC,KALD;IAOA;EAnNF;IAAA;IAAA,OAoNC,qBAAY;MACX,IAAM0D,QAAQ,GAAG,IAAIsE,iDAAJ,CAAmB,GAAnB,EAAwB,EAAxB,EAA4B,EAA5B,CAAjB;MACA,KAAKiX,KAAL,GAAa,IAAI7c,uCAAJ,CAASsB,QAAT,EAAmBrW,oEAAnB,CAAb;MACA,KAAK4xB,KAAL,CAAWh6B,QAAX,CAAoBoc,WAApB,GAAkC,IAAlC;MACA,KAAK4d,KAAL,CAAWh6B,QAAX,CAAoBmlB,KAApB,GAA4Bhc,gEAA5B;MACA,KAAK6wB,KAAL,CAAWh6B,QAAX,CAAoBwkB,MAApB,GAA6Brb,iEAA7B;MACA,KAAK6wB,KAAL,CAAWh6B,QAAX,CAAoB8kB,MAApB,GAA6B3b,iEAA7B;MACA,KAAKlD,KAAL,CAAWxP,GAAX,CAAe,KAAKujC,KAApB;IACA;EA5NF;IAAA;IAAA,OA6NC,yBAAgBlyB,OAAhB,EAAyB;MACxB,IAAIf,KAAK,GAAG,IAAZ;;MACA,IAAIkzB,KAAK,GAAGlzB,KAAK,CAACd,KAAN,CAAYlF,QAAZ,CAAqBoG,MAArB,CAA4B,UAACC,CAAD;QAAA,OAAOvB,wDAAA,CAAkBuB,CAAlB,KAAwBA,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6c,SAAnD;MAAA,CAA5B,CAAZ;;MACA,IAAIwV,IAAI,GAAGnzB,KAAK,CAACd,KAAN,CAAYlF,QAAZ,CAAqBoG,MAArB,CAA4B,UAACC,CAAD;QAAA,OAAOvB,uDAAA,CAAiBuB,CAAjB,KAAuBA,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6c,SAAlD;MAAA,CAA5B,CAAX;;MACAuV,KAAK,CAAC5jC,OAAN,CAAc,UAAC+Q,CAAD,EAAO;QACpBA,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6c,SAApB,CAA8B1kB,QAA9B,CAAuCmf,UAAvC,CAAkDpY,KAAK,CAACd,KAAxD,EAA+D6B,OAA/D;MACA,CAFD;MAGAoyB,IAAI,CAAC7jC,OAAL,CAAa,UAAC+Q,CAAD,EAAO;QACnBA,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6c,SAApB,CAA8B1kB,QAA9B,CAAuCmf,UAAvC,CAAkDpY,KAAK,CAACd,KAAxD,EAA+D6B,OAA/D;QACAV,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6e,cAApB,CAAmC1mB,QAAnC,CAA4Cmf,UAA5C,CAAuDpY,KAAK,CAACd,KAA7D,EAAoE6B,OAApE;MACA,CAHD;IAIA;EAxOF;IAAA;IAAA,OAyOC,gCAAuBhE,MAAvB,EAA+B;MAC9B,IAAIiD,KAAK,GAAG,IAAZ;;MACA,IAAIkzB,KAAK,GAAGlzB,KAAK,CAACd,KAAN,CAAYlF,QAAZ,CAAqBoG,MAArB,CAA4B,UAACC,CAAD;QAAA,OAAOvB,wDAAA,CAAkBuB,CAAlB,KAAwBA,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6c,SAAnD;MAAA,CAA5B,CAAZ;;MACA,IAAIwV,IAAI,GAAGnzB,KAAK,CAACd,KAAN,CAAYlF,QAAZ,CAAqBoG,MAArB,CAA4B,UAACC,CAAD;QAAA,OAAOvB,uDAAA,CAAiBuB,CAAjB,KAAuBA,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6c,SAAlD;MAAA,CAA5B,CAAX;;MACAuV,KAAK,CAAC5jC,OAAN,CAAc,UAAC+Q,CAAD,EAAO;QACpBA,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6c,SAApB,CAA8B1kB,QAA9B,CAAuC8lB,aAAvC,CAAqDhiB,MAArD;MACA,CAFD;MAGAo2B,IAAI,CAAC7jC,OAAL,CAAa,UAAC+Q,CAAD,EAAO;QACnBA,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6c,SAApB,CAA8B1kB,QAA9B,CAAuC8lB,aAAvC,CAAqDhiB,MAArD;QACAsD,CAAC,CAACpH,QAAF,CAAW6H,QAAX,CAAoB6e,cAApB,CAAmC1mB,QAAnC,CAA4C8lB,aAA5C,CAA0DhiB,MAA1D;MACA,CAHD;IAIA;EApPF;IAAA;IAAA,OAqPC,qBAAY;MACX,IAAIiD,KAAK,GAAG,IAAZ;;MACA,SAASozB,OAAT,GAAmB;QAClBpzB,KAAK,CAACwiB,MAAN,CAAa6P,sBAAb;;QACAryB,KAAK,CAACgU,QAAN,CAAeqf,MAAf;;QACA1E,qDAAA;;QACA3uB,KAAK,CAAC4sB,QAAN,CAAe0G,MAAf,CAAsBtzB,KAAK,CAACd,KAA5B,EAAmCc,KAAK,CAACwiB,MAAzC;;QACAxiB,KAAK,CAAC2xB,aAAN,CAAoB2B,MAApB,CAA2BtzB,KAAK,CAACd,KAAjC,EAAwCc,KAAK,CAACwiB,MAA9C;;QACAxiB,KAAK,CAACkyB,WAAN,CAAkBkB,OAAlB,CAA0BpzB,KAAK,CAACwiB,MAAhC,EAAwCxiB,KAAK,CAACgU,QAA9C;;QACAuf,qBAAqB,CAACH,OAAD,CAArB;MACA;;MACDA,OAAO;IACP;EAjQF;;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AAEA;AACO,IAAMS,OAAb;EACC,iBAAY30B,KAAZ,EAAmB;IAAA;;IAClB,KAAKA,KAAL,GAAaA,KAAb;IACA,KAAKzG,IAAL,GAAY,KAAKq7B,QAAL,CAAc,MAAd,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,EAAxC,CAAZ;IACAC,UAAU,CAAC,KAAK70B,KAAN,EAAa,MAAb,EAAqB,CAAC,EAAtB,EAA0B,CAAC,EAA3B,EAA+B,EAA/B,CAAV;IACA,KAAKijB,KAAL,GAAa,KAAK2R,QAAL,CAAc,OAAd,EAAuB,EAAvB,EAA2B,EAA3B,EAA+B,EAA/B,EAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAC,EAA1C,CAAb;IACAC,UAAU,CAAC,KAAK70B,KAAN,EAAa,OAAb,EAAsB,CAAC,EAAvB,EAA2B,CAAC,EAA5B,EAAgC,EAAhC,CAAV;IAEA,KAAK1G,GAAL,GAAW,KAAKs7B,QAAL,CAAc,KAAd,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,CAAjC,EAAoC,EAApC,EAAwC,CAAxC,CAAX;IACAC,UAAU,CAAC,KAAK70B,KAAN,EAAa,KAAb,EAAoB,CAAC,EAArB,EAAyB,CAAC,EAA1B,EAA8B,EAA9B,CAAV;IAEA,KAAKmjB,MAAL,GAAc,KAAKyR,QAAL,CAAc,QAAd,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,CAApC,EAAuC,CAAC,EAAxC,EAA4C,CAA5C,CAAd;IACAC,UAAU,CAAC,KAAK70B,KAAN,EAAa,QAAb,EAAuB,CAAC,EAAxB,EAA4B,CAAC,EAA7B,EAAiC,EAAjC,CAAV;IAEA,KAAK80B,KAAL,GAAa,KAAKF,QAAL,CAAc,OAAd,EAAuB,EAAvB,EAA2B,EAA3B,EAA+B,EAA/B,EAAmC,EAAnC,EAAuC,CAAvC,EAA0C,CAA1C,CAAb;IACAC,UAAU,CAAC,KAAK70B,KAAN,EAAa,OAAb,EAAsB,CAAC,EAAvB,EAA2B,CAAC,EAA5B,EAAgC,EAAhC,CAAV;IACA,KAAK+0B,IAAL,GAAY,KAAKH,QAAL,CAAc,MAAd,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,CAAC,EAAnC,EAAuC,CAAvC,EAA0C,CAA1C,CAAZ;IACAC,UAAU,CAAC,KAAK70B,KAAN,EAAa,MAAb,EAAqB,CAAC,EAAtB,EAA0B,CAAC,EAA3B,EAA+B,EAA/B,CAAV;IAEAg1B,YAAY,CAAC,KAAKh1B,KAAN,EAAa,GAAb,EAAkB,CAAC,EAAnB,EAAuB,CAAC,EAAxB,EAA4B,EAA5B,CAAZ;IACAg1B,YAAY,CAAC,KAAKh1B,KAAN,EAAa,GAAb,EAAkB,CAAC,EAAnB,EAAuB,CAAC,EAAxB,EAA4B,CAAC,EAA7B,CAAZ;IACAg1B,YAAY,CAAC,KAAKh1B,KAAN,EAAa,GAAb,EAAkB,CAAC,EAAnB,EAAuB,CAAC,EAAxB,EAA4B,EAA5B,CAAZ;IACAg1B,YAAY,CAAC,KAAKh1B,KAAN,EAAa,GAAb,EAAkB,EAAlB,EAAsB,CAAC,EAAvB,EAA2B,EAA3B,CAAZ;IAEA,KAAKi1B,UAAL,GAAkB,KAAKL,QAAL,CAAc,YAAd,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,CAA5C,EAA+C,EAA/C,CAAlB;IACA,KAAKM,SAAL,GAAiB,KAAKN,QAAL,CAAc,WAAd,EAA2B,EAA3B,EAA+B,EAA/B,EAAmC,EAAnC,EAAuC,CAAC,EAAxC,EAA4C,CAA5C,EAA+C,EAA/C,CAAjB;IACA,KAAKO,WAAL,GAAmB,KAAKP,QAAL,CAAc,aAAd,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,CAA7C,EAAgD,CAAC,EAAjD,CAAnB;IACA,KAAKQ,UAAL,GAAkB,KAAKR,QAAL,CAAc,YAAd,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,CAAC,EAAzC,EAA6C,CAA7C,EAAgD,CAAC,EAAjD,CAAlB;IAEA,KAAKS,QAAL,GAAgB,KAAKT,QAAL,CAAc,UAAd,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,EAAlC,EAAsC,CAAtC,EAAyC,EAAzC,EAA6C,EAA7C,CAAhB;IACA,KAAKU,SAAL,GAAiB,KAAKV,QAAL,CAAc,WAAd,EAA2B,EAA3B,EAA+B,EAA/B,EAAmC,EAAnC,EAAuC,CAAvC,EAA0C,EAA1C,EAA8C,CAAC,EAA/C,CAAjB;IACA,KAAKW,SAAL,GAAiB,KAAKX,QAAL,CAAc,WAAd,EAA2B,EAA3B,EAA+B,EAA/B,EAAmC,EAAnC,EAAuC,EAAvC,EAA2C,EAA3C,EAA+C,CAA/C,CAAjB;IACA,KAAKY,QAAL,GAAgB,KAAKZ,QAAL,CAAc,UAAd,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,EAAlC,EAAsC,CAAC,EAAvC,EAA2C,EAA3C,EAA+C,CAA/C,CAAhB;IAEA,KAAKa,WAAL,GAAmB,KAAKb,QAAL,CAAc,aAAd,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,EAAyC,CAAzC,EAA4C,CAAC,EAA7C,EAAiD,EAAjD,CAAnB;IACA,KAAKc,YAAL,GAAoB,KAAKd,QAAL,CAAc,cAAd,EAA8B,EAA9B,EAAkC,EAAlC,EAAsC,EAAtC,EAA0C,CAA1C,EAA6C,CAAC,EAA9C,EAAkD,CAAC,EAAnD,CAApB;IACA,KAAKe,YAAL,GAAoB,KAAKf,QAAL,CAAc,cAAd,EAA8B,EAA9B,EAAkC,EAAlC,EAAsC,EAAtC,EAA0C,EAA1C,EAA8C,CAAC,EAA/C,EAAmD,CAAnD,CAApB;IACA,KAAKgB,WAAL,GAAmB,KAAKhB,QAAL,CAAc,aAAd,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,EAAyC,CAAC,EAA1C,EAA8C,CAAC,EAA/C,EAAmD,CAAnD,CAAnB;IAEA,KAAKiB,cAAL,GAAsB,KAAKjB,QAAL,CAAc,gBAAd,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,EAAoD,EAApD,CAAtB;IACA,KAAKkB,aAAL,GAAqB,KAAKlB,QAAL,CAAc,eAAd,EAA+B,EAA/B,EAAmC,EAAnC,EAAuC,EAAvC,EAA2C,CAAC,EAA5C,EAAgD,EAAhD,EAAoD,EAApD,CAArB;IACA,KAAKmB,eAAL,GAAuB,KAAKnB,QAAL,CAAc,iBAAd,EAAiC,EAAjC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,EAAiD,EAAjD,EAAqD,CAAC,EAAtD,CAAvB;IACA,KAAKoB,cAAL,GAAsB,KAAKpB,QAAL,CAAc,gBAAd,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,CAAC,EAA7C,EAAiD,EAAjD,EAAqD,CAAC,EAAtD,CAAtB;IAEA,KAAKqB,iBAAL,GAAyB,KAAKrB,QAAL,CAAc,mBAAd,EAAmC,EAAnC,EAAuC,EAAvC,EAA2C,EAA3C,EAA+C,EAA/C,EAAmD,CAAC,EAApD,EAAwD,EAAxD,CAAzB;IACA,KAAKsB,gBAAL,GAAwB,KAAKtB,QAAL,CAAc,kBAAd,EAAkC,EAAlC,EAAsC,EAAtC,EAA0C,EAA1C,EAA8C,CAAC,EAA/C,EAAmD,CAAC,EAApD,EAAwD,EAAxD,CAAxB;IACA,KAAKuB,kBAAL,GAA0B,KAAKvB,QAAL,CAAc,oBAAd,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,EAAoD,CAAC,EAArD,EAAyD,CAAC,EAA1D,CAA1B;IACA,KAAKwB,iBAAL,GAAyB,KAAKxB,QAAL,CAAc,mBAAd,EAAmC,EAAnC,EAAuC,EAAvC,EAA2C,EAA3C,EAA+C,CAAC,EAAhD,EAAoD,CAAC,EAArD,EAAyD,CAAC,EAA1D,CAAzB,CA9CkB,CA+ClB;;IACA,KAAKyB,QAAL;EACA;;EAlDF;IAAA;IAAA,OAmDC,kBAASzlC,IAAT,EAAe0lC,EAAf,EAAmBC,EAAnB,EAAuBC,EAAvB,EAA2B7b,EAA3B,EAA+BqI,EAA/B,EAAmCnI,EAAnC,EAAuC;MACtC,IAAIrC,QAAQ,GAAG,IAAI+b,8CAAJ,CAAgB+B,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,CAAf;MACAhe,QAAQ,CAACie,SAAT,CAAmB9b,EAAnB,EAAuBqI,EAAvB,EAA2BnI,EAA3B;MACA,IAAIlC,IAAI,GAAG,IAAIzB,uCAAJ,CAASsB,QAAT,EAAmBrW,yFAAnB,CAAX;MACA,KAAKnC,KAAL,CAAWxP,GAAX,CAAemoB,IAAf;MACAA,IAAI,CAAC/nB,IAAL,GAAYA,IAAZ;MACA,OAAO+nB,IAAP;IACA;EA1DF;IAAA;IAAA,OA4DC,oBAAW;MACV,IAAIH,QAAQ,GAAG,IAAIgc,+CAAJ,CAAiB,EAAjB,EAAqB,GAArB,EAA0B,EAA1B,CAAf;MACAhc,QAAQ,CAACke,OAAT,CAAiB,CAAChyB,IAAI,CAACC,EAAN,GAAW,CAA5B;MACA6T,QAAQ,CAACie,SAAT,CAAmB,CAAnB,EAAsB,CAAC,EAAvB,EAA2B,CAA3B;MACA,IAAI9d,IAAI,GAAG,IAAIzB,uCAAJ,CAASsB,QAAT,EAAmBrW,mFAAnB,CAAX;MACAwW,IAAI,CAAC/nB,IAAL,GAAY,MAAM,UAAlB;MACA+nB,IAAI,CAAC/V,QAAL,GAAgB,GAAhB;MACA,KAAK5C,KAAL,CAAWxP,GAAX,CAAemoB,IAAf;MACA,OAAOA,IAAP;IACA;EArEF;;EAAA;AAAA;;AAwEA,SAASkc,UAAT,CAAoB70B,KAApB,EAA2BpP,IAA3B,EAAiC+pB,EAAjC,EAAqCqI,EAArC,EAAyCnI,EAAzC,EAA6C;EAC5C,IAAM8b,MAAM,GAAG,IAAIlC,gFAAJ,EAAf;EACA,IAAMmC,UAAU,GAAGD,MAAM,CAACE,IAAP,CAAYvC,uEAAZ,EAAsB,UAACwC,IAAD,EAAU;IAClD,IAAMC,UAAU,GAAG;MAClBD,IAAI,EAAEA,IADY;MAElBE,IAAI,EAAE,EAFY;MAGlB92B,MAAM,EAAE;IAHU,CAAnB;;IAKA,IAAItP,IAAI,KAAK,QAAb,EAAuB;MACtB,IAAIgS,QAAQ,GAAG,IAAI8xB,uFAAJ,CAAiB,KAAjB,EAAwBqC,UAAxB,CAAf;IACA,CAFD,MAEO;MACN,IAAIn0B,QAAQ,GAAG,IAAI8xB,uFAAJ,CAAiB9jC,IAAjB,EAAuBmmC,UAAvB,CAAf;IACA;;IACDn0B,QAAQ,CAAC6zB,SAAT,CAAmB9b,EAAnB,EAAuBqI,EAAvB,EAA2BnI,EAA3B;IACAoc,SAAS,CAACrmC,IAAD,EAAOgS,QAAP,CAAT;IACA,IAAIs0B,QAAQ,GAAG,IAAIhgB,uCAAJ,CAAStU,QAAT,EAAmBT,uFAAnB,CAAf;IACA+0B,QAAQ,CAACtmC,IAAT,GAAgBA,IAAI,GAAG,UAAvB;IACAsmC,QAAQ,CAACt0B,QAAT,GAAoBhS,IAApB;IACAoP,KAAK,CAACxP,GAAN,CAAU0mC,QAAV;EACA,CAjBkB,CAAnB;AAkBA;;AACD,SAASlC,YAAT,CAAsBh1B,KAAtB,EAA6BpP,IAA7B,EAAmC+pB,EAAnC,EAAuCqI,EAAvC,EAA2CnI,EAA3C,EAA+C;EAC9C,IAAM8b,MAAM,GAAG,IAAIlC,gFAAJ,EAAf;EACA,IAAMmC,UAAU,GAAGD,MAAM,CAACE,IAAP,CAAYvC,uEAAZ,EAAsB,UAACwC,IAAD,EAAU;IAClD,IAAMC,UAAU,GAAG;MAClBD,IAAI,EAAEA,IADY;MAElBE,IAAI,EAAE,EAFY;MAGlB92B,MAAM,EAAE;IAHU,CAAnB;IAKA,IAAI0C,QAAQ,GAAG,IAAI8xB,uFAAJ,CAAiB9jC,IAAjB,EAAuBmmC,UAAvB,CAAf;IACAI,UAAU,CAACvmC,IAAD,EAAOgS,QAAP,CAAV;IACAA,QAAQ,CAAC6zB,SAAT,CAAmB9b,EAAnB,EAAuBqI,EAAvB,EAA2BnI,EAA3B;IACA,IAAIqc,QAAQ,GAAG,IAAIhgB,uCAAJ,CAAStU,QAAT,EAAmBT,uFAAnB,CAAf;IACA+0B,QAAQ,CAACtmC,IAAT,GAAgBA,IAAI,GAAG,UAAvB;IACAsmC,QAAQ,CAACt0B,QAAT,GAAoBhS,IAApB;IACAoP,KAAK,CAACxP,GAAN,CAAU0mC,QAAV;EACA,CAbkB,CAAnB;AAcA;;AACD,SAASC,UAAT,CAAoBvmC,IAApB,EAA0BgS,QAA1B,EAAoC;EACnC,QAAQhS,IAAR;IACC,KAAK,GAAL;MACCgS,QAAQ,CAAC8zB,OAAT,CAAiBhyB,IAAI,CAACC,EAAL,GAAU,CAA3B;MACA;;IACD,KAAK,GAAL;MACC/B,QAAQ,CAAC8zB,OAAT,CAAiB,CAAChyB,IAAI,CAACC,EAAN,GAAW,CAA5B;MACA;;IACD,KAAK,GAAL;MACC/B,QAAQ,CAACw0B,OAAT,CAAiB1yB,IAAI,CAACC,EAAL,GAAU,CAA3B;MACA/B,QAAQ,CAACy0B,OAAT,CAAiB,CAAC3yB,IAAI,CAACC,EAAN,GAAW,CAA5B;MACA;;IACD,KAAK,GAAL;MACC/B,QAAQ,CAACw0B,OAAT,CAAiB1yB,IAAI,CAACC,EAAL,GAAU,CAA3B;MACA/B,QAAQ,CAACy0B,OAAT,CAAiB3yB,IAAI,CAACC,EAAL,GAAU,CAA3B;MACA;;IACD;MACC;EAhBF;AAkBA;;AACD,SAASsyB,SAAT,CAAmBrmC,IAAnB,EAAyBgS,QAAzB,EAAmC;EAClC,QAAQhS,IAAR;IACC,KAAK,MAAL;MACC;;IACD,KAAK,OAAL;MACCgS,QAAQ,CAACw0B,OAAT,CAAiB1yB,IAAI,CAACC,EAAtB;MACA;;IACD,KAAK,KAAL;MACC/B,QAAQ,CAACw0B,OAAT,CAAiB1yB,IAAI,CAACC,EAAL,GAAU,CAA3B;MACA/B,QAAQ,CAACy0B,OAAT,CAAiB3yB,IAAI,CAACC,EAAL,GAAU,CAA3B;MACA;;IACD,KAAK,QAAL;MACC/B,QAAQ,CAAC8zB,OAAT,CAAiBhyB,IAAI,CAACC,EAAL,GAAU,CAA3B;MACA;;IACD,KAAK,OAAL;MACC/B,QAAQ,CAACw0B,OAAT,CAAiB1yB,IAAI,CAACC,EAAL,GAAU,CAA3B;MACA;;IACD,KAAK,MAAL;MACC/B,QAAQ,CAACw0B,OAAT,CAAiB,CAAC1yB,IAAI,CAACC,EAAN,GAAW,CAA5B;MACA;;IACD;MACC;EApBF;AAsBA;;AACD,IAAM2yB,UAAU,GAAG,GAAnB;AAEO,SAASC,UAAT,CAAoBC,OAApB,EAA6BC,SAA7B,EAAwC7mC,IAAxC,EAA8C;EACpD,IAAIma,CAAC,GAAGysB,OAAO,CAACviB,QAAR,CAAiBlK,CAAzB;EACA,IAAIC,CAAC,GAAGwsB,OAAO,CAACviB,QAAR,CAAiBjK,CAAzB;EACA,IAAIC,CAAC,GAAGusB,OAAO,CAACviB,QAAR,CAAiBhK,CAAzB;EACA,IAAIysB,EAAE,GAAGF,OAAO,CAACtL,QAAR,CAAiBnhB,CAA1B;EACA,IAAI4sB,EAAE,GAAGH,OAAO,CAACtL,QAAR,CAAiBlhB,CAA1B;EACA,IAAI4sB,EAAE,GAAGJ,OAAO,CAACtL,QAAR,CAAiBjhB,CAA1B;EACA,IAAMiK,KAAK,GAAG,IAAI7V,oDAAJ,CAAU;IAAEgS,GAAG,EAAE;MAAEtG,CAAC,EAAEA,CAAL;MAAQC,CAAC,EAAEA,CAAX;MAAcC,CAAC,EAAEA;IAAjB;EAAP,CAAV,CAAd;EACA,IAAMoG,GAAG,GAAGmmB,OAAO,CAACz9B,QAAR,CAAiBsX,GAA7B;;EACA,QAAQzgB,IAAR;IACC,KAAK,MAAL;MACCskB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAAL;UAAQC,CAAC,EAAE,CAAX;UAAcC,CAAC,EAAEoG;QAAjB;MAAP,CAAT,EAA0CimB,UAA1C;MAEA;;IACD,KAAK,OAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAAL;UAAQC,CAAC,EAAE,CAAX;UAAcC,CAAC,EAAE,CAACoG;QAAlB;MAAP,CAAT,EAA2CimB,UAA3C;MACA;;IACD,KAAK,KAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAAL;UAAQC,CAAC,EAAEqG,GAAX;UAAgBpG,CAAC,EAAE;QAAnB;MAAP,CAAT,EAA0CqsB,UAA1C;MAEA;;IACD,KAAK,QAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAAL;UAAQC,CAAC,EAAE,CAACqG,GAAZ;UAAiBpG,CAAC,EAAE;QAApB;MAAP,CAAT,EAA2CqsB,UAA3C;MACA;;IACD,KAAK,OAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAE,CAAb;UAAgBC,CAAC,EAAE;QAAnB;MAAP,CAAT,EAA0CqsB,UAA1C;MACA;;IACD,KAAK,MAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAACsG,GAAN;UAAWrG,CAAC,EAAE,CAAd;UAAiBC,CAAC,EAAE;QAApB;MAAP,CAAT,EAA2CqsB,UAA3C;MACA;;IACD,KAAK,YAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAE,CAAb;UAAgBC,CAAC,EAAEoG;QAAnB;MAAP,CAAT,EAA4CimB,UAA5C;MACA;;IACD,KAAK,WAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAACsG,GAAN;UAAWrG,CAAC,EAAE,CAAd;UAAiBC,CAAC,EAAEoG;QAApB;MAAP,CAAT,EAA6CimB,UAA7C;MACA;;IACD,KAAK,aAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAE,CAAb;UAAgBC,CAAC,EAAE,CAACoG;QAApB;MAAP,CAAT,EAA6CimB,UAA7C;MACA;;IACD,KAAK,YAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAACsG,GAAN;UAAWrG,CAAC,EAAE,CAAd;UAAiBC,CAAC,EAAE,CAACoG;QAArB;MAAP,CAAT,EAA8CimB,UAA9C;MACA;;IACD,KAAK,UAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAAL;UAAQC,CAAC,EAAEqG,GAAX;UAAgBpG,CAAC,EAAEoG;QAAnB;MAAP,CAAT,EAA4CimB,UAA5C;MACA;;IACD,KAAK,WAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAAL;UAAQC,CAAC,EAAEqG,GAAX;UAAgBpG,CAAC,EAAE,CAACoG;QAApB;MAAP,CAAT,EAA6CimB,UAA7C;MACA;;IACD,KAAK,WAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAEqG,GAAb;UAAkBpG,CAAC,EAAE;QAArB;MAAP,CAAT,EAA4CqsB,UAA5C;MACA;;IACD,KAAK,UAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAACsG,GAAN;UAAWrG,CAAC,EAAEqG,GAAd;UAAmBpG,CAAC,EAAE;QAAtB;MAAP,CAAT,EAA6CqsB,UAA7C;MACA;;IACD,KAAK,aAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAAL;UAAQC,CAAC,EAAE,CAACqG,GAAZ;UAAiBpG,CAAC,EAAEoG;QAApB;MAAP,CAAT,EAA6CimB,UAA7C;MACA;;IACD,KAAK,cAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAAL;UAAQC,CAAC,EAAE,CAACqG,GAAZ;UAAiBpG,CAAC,EAAE,CAACoG;QAArB;MAAP,CAAT,EAA8CimB,UAA9C;MACA;;IACD,KAAK,cAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAE,CAACqG,GAAd;UAAmBpG,CAAC,EAAE;QAAtB;MAAP,CAAT,EAA6CqsB,UAA7C;MACA;;IACD,KAAK,aAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAACsG,GAAN;UAAWrG,CAAC,EAAE,CAACqG,GAAf;UAAoBpG,CAAC,EAAE;QAAvB;MAAP,CAAT,EAA8CqsB,UAA9C;MACA;;IACD,KAAK,gBAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAEqG,GAAb;UAAkBpG,CAAC,EAAEoG;QAArB;MAAP,CAAT,EAA8CimB,UAA9C;MACA;;IACD,KAAK,eAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAACsG,GAAN;UAAWrG,CAAC,EAAEqG,GAAd;UAAmBpG,CAAC,EAAEoG;QAAtB;MAAP,CAAT,EAA+CimB,UAA/C;MACA;;IACD,KAAK,iBAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAEqG,GAAb;UAAkBpG,CAAC,EAAE,CAACoG;QAAtB;MAAP,CAAT,EAA+CimB,UAA/C;MACA;;IACD,KAAK,gBAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAACsG,GAAN;UAAWrG,CAAC,EAAEqG,GAAd;UAAmBpG,CAAC,EAAE,CAACoG;QAAvB;MAAP,CAAT,EAAgDimB,UAAhD;MACA;;IACD,KAAK,mBAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAE,CAACqG,GAAd;UAAmBpG,CAAC,EAAEoG;QAAtB;MAAP,CAAT,EAA+CimB,UAA/C;MACA;;IACD,KAAK,kBAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAACsG,GAAN;UAAWrG,CAAC,EAAE,CAACqG,GAAf;UAAoBpG,CAAC,EAAEoG;QAAvB;MAAP,CAAT,EAAgDimB,UAAhD;MACA;;IACD,KAAK,oBAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAE,CAACqG,GAAd;UAAmBpG,CAAC,EAAE,CAACoG;QAAvB;MAAP,CAAT,EAAgDimB,UAAhD;MACA;;IACD,KAAK,mBAAL;MACCpiB,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAE,CAACsG,GAAN;UAAWrG,CAAC,EAAE,CAACqG,GAAf;UAAoBpG,CAAC,EAAE,CAACoG;QAAxB;MAAP,CAAT,EAAiDimB,UAAjD;MACA;;IACD;MACC;EAlFF;;EAoFApiB,KAAK,CAACE,QAAN,CAAe,UAACC,MAAD,EAAY;IAC1BmiB,OAAO,CAACviB,QAAR,CAAiBlK,CAAjB,GAAqBsK,MAAM,CAAChE,GAAP,CAAWtG,CAAhC;IACAysB,OAAO,CAACviB,QAAR,CAAiBjK,CAAjB,GAAqBqK,MAAM,CAAChE,GAAP,CAAWrG,CAAhC;IACAwsB,OAAO,CAACviB,QAAR,CAAiBhK,CAAjB,GAAqBoK,MAAM,CAAChE,GAAP,CAAWpG,CAAhC;EACA,CAJD;EAKAusB,OAAO,CAAC/F,MAAR,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB;EACAgG,SAAS,CAAC1nC,MAAV,GAAmB,IAAI+lB,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAnB;EACAZ,KAAK,CAACI,KAAN;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACxQD;AAWA;AACA;AACA;AACO,IAAMqa,YAAb;EACC,sBAAYC,SAAZ,EAAuBC,MAAvB,EAA+BgC,mBAA/B,EAAoD;IAAA;;IACnD,KAAK7xB,KAAL,GAAa,IAAIb,wCAAJ,EAAb;IACA,KAAKywB,SAAL,GAAiBA,SAAjB;IACA,KAAKC,MAAL,GAAcA,MAAd;IACA,KAAKl+B,KAAL,GAAa,KAAKi+B,SAAL,CAAe3vB,WAA5B;IACA,KAAKC,MAAL,GAAc,KAAK0vB,SAAL,CAAezvB,YAA7B;IAEA,KAAKgwB,UAAL,CAAgB0B,mBAAhB;IACA,KAAK5B,SAAL;IACA,KAAKG,YAAL;IACA,KAAKF,aAAL;IACA,KAAK2H,OAAL,GAAe,IAAIlD,gDAAJ,CAAY,KAAK30B,KAAjB,CAAf;IACA,KAAK83B,OAAL;EACA;;EAdF;IAAA;IAAA,OAeC,iCAAwB;MACvB,IAAIxU,MAAM,GAAG,IAAI2L,oDAAJ,CAAsB,EAAtB,EAA0B,KAAKt9B,KAAL,GAAa,KAAKuO,MAA5C,EAAoD,GAApD,EAAyD,IAAzD,CAAb;MACAojB,MAAM,CAACrO,QAAP,CAAgBhK,CAAhB,GAAoB,GAApB;MACAqY,MAAM,CAACrO,QAAP,CAAgBjK,CAAhB,GAAoB,GAApB;MACAsY,MAAM,CAACrO,QAAP,CAAgBlK,CAAhB,GAAoB,GAApB;MACAuY,MAAM,CAACmO,MAAP,CAAc,KAAKzxB,KAAL,CAAWiV,QAAzB;MACAqO,MAAM,CAACvpB,QAAP,CAAgBsX,GAAhB,GAAsB,GAAtB;MACAiS,MAAM,CAACoO,MAAP,CAAcC,SAAd;MACArO,MAAM,CAACoO,MAAP,CAAcE,MAAd,CAAqB,CAArB;MACA,OAAOtO,MAAP;IACA;EAzBF;IAAA;IAAA,OA0BC,kCAAyB;MACxB,IAAIA,MAAM,GAAG,IAAI0L,qDAAJ,CACZ,KAAKr9B,KAAL,GAAa,CAAC,CADF,EAEZ,KAAKA,KAAL,GAAa,CAFD,EAGZ,KAAKuO,MAAL,GAAc,CAHF,EAIZ,KAAKA,MAAL,GAAc,CAAC,CAJH,EAKZ,CAAC,IALW,EAMZ,IANY,CAAb;MAQAojB,MAAM,CAACrO,QAAP,CAAgBhK,CAAhB,GAAoB,GAApB;MACAqY,MAAM,CAACrO,QAAP,CAAgBjK,CAAhB,GAAoB,GAApB;MACAsY,MAAM,CAACrO,QAAP,CAAgBlK,CAAhB,GAAoB,GAApB;MACAuY,MAAM,CAACmO,MAAP,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;MACAnO,MAAM,CAACvpB,QAAP,CAAgBsX,GAAhB,GAAsB,GAAtB;MACAiS,MAAM,CAACoO,MAAP,CAAcC,SAAd;MACArO,MAAM,CAACoO,MAAP,CAAcE,MAAd,CAAqB,CAArB;MACA,OAAOtO,MAAP;IACA;EA3CF;IAAA;IAAA,OA4CC,oBAAWuO,mBAAX,EAAgC;MAC/B,KAAKC,iBAAL,GAAyB,KAAKC,qBAAL,EAAzB;MACA,KAAKC,kBAAL,GAA0B,KAAKC,sBAAL,EAA1B;MACA,KAAK3O,MAAL,GAAcuO,mBAAmB,GAAG,KAAKC,iBAAR,GAA4B,KAAKE,kBAAlE;IACA;EAhDF;IAAA;IAAA,OAiDC,qBAAY;MACX,KAAKf,YAAL,GAAoB,IAAIrC,+CAAJ,CAAiB1sB,uDAAjB,EAAmC,CAAnC,CAApB;MACA,KAAKlC,KAAL,CAAWxP,GAAX,CAAe,KAAKygC,YAApB;MACA,KAAKC,gBAAL,GAAwB,IAAIpC,mDAAJ,CAAqB5sB,uDAArB,EAAuC,CAAvC,CAAxB;MACA,KAAKgvB,gBAAL,CAAsBjc,QAAtB,CAA+BpU,GAA/B,CAAmC,CAAnC,EAAsC,EAAtC,EAA0C,CAA1C;MACA,KAAKqwB,gBAAL,CAAsBnhC,MAAtB,CAA6BklB,QAA7B,CAAsCpU,GAAtC,CAA0C,CAAC,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD;MACA,KAAKb,KAAL,CAAWxP,GAAX,CAAe,KAAK0gC,gBAApB;MACA,KAAKlxB,KAAL,CAAWxP,GAAX,CAAe,KAAK0gC,gBAAL,CAAsBnhC,MAArC;IACA;EAzDF;IAAA;IAAA,OA0DC,wBAAe;MACd,KAAK29B,QAAL,GAAgB,IAAIwB,gDAAJ,CAAkB;QAAEW,MAAM,EAAE,KAAKA,MAAf;QAAuB5+B,KAAK,EAAE,IAA9B;QAAoCihC,SAAS,EAAE;MAA/C,CAAlB,CAAhB;MACA,KAAKxE,QAAL,CAAcyE,OAAd,CAAsB,KAAKxgC,KAA3B,EAAkC,KAAKuO,MAAvC;MACA,KAAKwtB,QAAL,CAAc0E,aAAd,CAA4B1tB,IAAI,CAAC4oB,GAAL,CAASpxB,MAAM,CAACm2B,gBAAhB,EAAkC,CAAlC,CAA5B;MACA,KAAK3E,QAAL,CAAc4E,oBAAd,GAAqC,IAArC;MACA,KAAK5E,QAAL,CAAc3sB,UAAd,CAAyB0jB,YAAzB,CAAsC,UAAtC,EAAkD,CAAlD;IACA;EAhEF;IAAA;IAAA,OAiEC,yBAAgB;MACf,KAAKrB,SAAL,GAAiB,IAAImK,4CAAJ,EAAjB;MACA,KAAKnK,SAAL,CAAewN,YAAf,GAA8B,IAA9B;MACA,KAAK9U,KAAL,GAAa,IAAIlF,0CAAJ,EAAb;IACA;EArEF;IAAA;IAAA,OAsEC,cAAKuF,KAAL,EAAY;MACX,IAAM2G,MAAM,GAAG,KAAK4K,QAAL,CAAc3sB,UAAd,CAAyBgiB,qBAAzB,EAAf;MACA,IAAMpI,EAAE,GAAGwB,KAAK,CAAC5a,OAAN,GAAgBuhB,MAAM,CAACvpB,IAAlC;MACA,IAAMypB,EAAE,GAAG7G,KAAK,CAAC7a,OAAN,GAAgBwhB,MAAM,CAACxpB,GAAlC;MACA,IAAMshB,EAAE,GAAGkI,MAAM,CAACG,KAAP,GAAeH,MAAM,CAACvpB,IAAjC;MACA,KAAKuiB,KAAL,CAAW/Q,CAAX,GAAgB4P,EAAE,GAAGC,EAAN,GAAY,CAAZ,GAAgB,CAA/B;MACA,IAAMsI,EAAE,GAAGJ,MAAM,CAACK,MAAP,GAAgBL,MAAM,CAACxpB,GAAlC;MACA,KAAKwiB,KAAL,CAAW9Q,CAAX,GAAe,EAAEgY,EAAE,GAAGE,EAAP,IAAa,CAAb,GAAiB,CAAhC;IACA;EA9EF;IAAA;IAAA,OA+EC,mBAAU;MACT,KAAK6U,OAAL,GAAe,KAAf;;MACA,IAAIj3B,KAAK,GAAG,IAAZ;;MACAA,KAAK,CAAC4sB,QAAN,CAAe3sB,UAAf,CAA0BC,gBAA1B,CAA2C,WAA3C,EAAwD,UAAUmb,KAAV,EAAiB;QACxErb,KAAK,CAACk3B,IAAN,CAAW7b,KAAX;;QACArb,KAAK,CAACi3B,OAAN,GAAgB,IAAhB;MACA,CAHD;;MAIAj3B,KAAK,CAAC4sB,QAAN,CAAe3sB,UAAf,CAA0BC,gBAA1B,CAA2C,UAA3C,EAAuD,UAAUmb,KAAV,EAAiB;QACvErb,KAAK,CAACi3B,OAAN,GAAgB,KAAhB;MACA,CAFD;IAGA;EAzFF;IAAA;IAAA,OA0FC,iBAAQ;MACP,IAAIj3B,KAAK,GAAG,IAAZ;;MACA,IAAIA,KAAK,CAACi3B,OAAV,EAAmB;QAClBj3B,KAAK,CAACsiB,SAAN,CAAgBC,aAAhB,CAA8BviB,KAAK,CAACgb,KAApC,EAA2Chb,KAAK,CAACwiB,MAAjD;;QACA,IAAM2U,UAAU,GAAGn3B,KAAK,CAACsiB,SAAN,CAAgBG,gBAAhB,CAAiCziB,KAAK,CAACd,KAAN,CAAYlF,QAA7C,CAAnB;;QACA,IAAMwhB,KAAK,GAAG2b,UAAU,CAAC,CAAD,CAAxB;;QACA,IAAI3b,KAAJ,EAAW;UACV,IAAI,CAACA,KAAK,CAACC,MAAN,CAAa3Z,QAAlB,EAA4B;YAC3B9B,KAAK,CAAC4sB,QAAN,CAAe3sB,UAAf,CAA0B6M,KAA1B,CAAgC6V,MAAhC,GAAyC,SAAzC;YACAnH,KAAK,CAACC,MAAN,CAAaptB,QAAb,GAAwBgT,oEAAxB;UACA;QACD,CALD,MAKO;UACNrB,KAAK,CAAC4sB,QAAN,CAAe3sB,UAAf,CAA0B6M,KAA1B,CAAgC6V,MAAhC,GAAyC,SAAzC;QACA;MACD;IACD;EAzGF;IAAA;IAAA,OA0GC,gBAAOH,MAAP,EAAexO,QAAf,EAAyB;MACxB,IAAI,KAAKgH,KAAL,CAAW/Q,CAAX,KAAiB,CAAjB,IAAsB,KAAK+Q,KAAL,CAAW9Q,CAAX,KAAiB,CAA3C,EAA8C;QAC7C,KAAKoY,SAAL,CAAeC,aAAf,CAA6B,KAAKvH,KAAlC,EAAyC,KAAKwH,MAA9C;QACA,IAAM2U,UAAU,GAAG,KAAK7U,SAAL,CAAeG,gBAAf,CAAgC,KAAKvjB,KAAL,CAAWlF,QAA3C,CAAnB;QACA,IAAMwhB,KAAK,GAAG2b,UAAU,CAAC,CAAD,CAAxB;;QACA,IAAI3b,KAAJ,EAAW;UACVib,uDAAU,CAACjU,MAAD,EAASxO,QAAT,EAAmBwH,KAAK,CAACC,MAAN,CAAa3rB,IAAb,CAAkBgH,IAAlB,EAAnB,CAAV;QACA;MACD;IACD;EAnHF;IAAA;IAAA,OAoHC,kBAAS4/B,OAAT,EAAkBC,SAAlB,EAA6B;MAC5B,IAAI1sB,CAAC,GAAGysB,OAAO,CAACviB,QAAR,CAAiBlK,CAAzB;MACA,IAAIC,CAAC,GAAGwsB,OAAO,CAACviB,QAAR,CAAiBjK,CAAzB;MACA,IAAIC,CAAC,GAAGusB,OAAO,CAACviB,QAAR,CAAiBhK,CAAzB;MACA,IAAIoG,GAAG,GAAGmmB,OAAO,CAACz9B,QAAR,CAAiBsX,GAA3B;MACA,IAAM6D,KAAK,GAAG,IAAI7V,oDAAJ,CAAU;QAAEgS,GAAG,EAAE;UAAEtG,CAAC,EAAEA,CAAL;UAAQC,CAAC,EAAEA,CAAX;UAAcC,CAAC,EAAEA;QAAjB;MAAP,CAAV,CAAd;MACAiK,KAAK,CAACC,EAAN,CAAS;QAAE9D,GAAG,EAAE;UAAEtG,CAAC,EAAEsG,GAAL;UAAUrG,CAAC,EAAEqG,GAAb;UAAkBpG,CAAC,EAAEoG;QAArB;MAAP,CAAT,EAA8C,GAA9C;MACA6D,KAAK,CAACE,QAAN,CAAe,UAACC,MAAD,EAAY;QAC1BmiB,OAAO,CAACviB,QAAR,CAAiBlK,CAAjB,GAAqBsK,MAAM,CAAChE,GAAP,CAAWtG,CAAhC;QACAysB,OAAO,CAACviB,QAAR,CAAiBjK,CAAjB,GAAqBqK,MAAM,CAAChE,GAAP,CAAWrG,CAAhC;QACAwsB,OAAO,CAACviB,QAAR,CAAiBhK,CAAjB,GAAqBoK,MAAM,CAAChE,GAAP,CAAWpG,CAAhC;MACA,CAJD;MAKAusB,OAAO,CAAC/F,MAAR,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB;MACA+F,OAAO,CAACzE,IAAR,GAAe,CAAf;MACA0E,SAAS,CAAC1nC,MAAV,GAAmB,IAAI+lB,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAnB;MACAZ,KAAK,CAACI,KAAN;IACA;EApIF;IAAA;IAAA,OAqIC,wBAAeuc,mBAAf,EAAoC;MACnC,KAAKvO,MAAL,GAAcuO,mBAAmB,GAAG,KAAKC,iBAAR,GAA4B,KAAKE,kBAAlE;IACA;EAvIF;IAAA;IAAA,OAwIC,sBAAanwB,OAAb,EAAsB;MACrB,KAAK+tB,SAAL,CAAehiB,KAAf,CAAqB7Z,OAArB,GAA+B8N,OAAO,GAAG,OAAH,GAAa,MAAnD;IACA;EA1IF;IAAA;IAAA,OA2IC,yBAAgB;MACf,KAAK,IAAI0G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKvI,KAAL,CAAWlF,QAAX,CAAoB5L,MAAxC,EAAgDqZ,CAAC,EAAjD,EAAqD;QACpD,IAAI,KAAKvI,KAAL,CAAWlF,QAAX,CAAoByN,CAApB,EAAuBpZ,QAA3B,EAAqC;UACpC,IAAI,CAAC,KAAK6Q,KAAL,CAAWlF,QAAX,CAAoByN,CAApB,EAAuB3F,QAA5B,EAAsC;YACrC,KAAK5C,KAAL,CAAWlF,QAAX,CAAoByN,CAApB,EAAuBpZ,QAAvB,GAAkCgT,qEAAlC;UACA;QACD;MACD;IACD;EAnJF;IAAA;IAAA,OAoJC,iBAAQmhB,MAAR,EAAgBxO,QAAhB,EAA0B;MACzB;MACA,IAAImX,MAAM,GAAG,IAAInW,0CAAJ,CACZwN,MAAM,CAACrO,QAAP,CAAgBlK,CAAhB,GAAoB+J,QAAQ,CAAC/kB,MAAT,CAAgBgb,CADxB,EAEZuY,MAAM,CAACrO,QAAP,CAAgBjK,CAAhB,GAAoB8J,QAAQ,CAAC/kB,MAAT,CAAgBib,CAFxB,EAGZsY,MAAM,CAACrO,QAAP,CAAgBhK,CAAhB,GAAoB6J,QAAQ,CAAC/kB,MAAT,CAAgBkb,CAHxB,CAAb;MAKA,IAAIoG,GAAG,GAAG,KAAKiS,MAAL,CAAYvpB,QAAZ,CAAqBsX,GAA/B;MACA4a,MAAM,GAAGA,MAAM,CAAC1R,SAAP,EAAT;MACA,IAAI3D,OAAO,GAAG,IAAId,0CAAJ,CAAYmW,MAAM,CAAClhB,CAAP,GAAWsG,GAAvB,EAA4B4a,MAAM,CAACjhB,CAAP,GAAWqG,GAAvC,EAA4C4a,MAAM,CAAChhB,CAAP,GAAWoG,GAAvD,CAAd;MACA,IAAI6mB,IAAI,GAAG,IAAIpiB,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqBtlB,GAArB,CAAyBomB,OAAzB,CAAX;MAEA,KAAK0M,MAAL,CAAYrO,QAAZ,CAAqBlK,CAArB,GAAyBmtB,IAAI,CAACntB,CAA9B;MACA,KAAKuY,MAAL,CAAYrO,QAAZ,CAAqBjK,CAArB,GAAyBktB,IAAI,CAACltB,CAA9B;MACA,KAAKsY,MAAL,CAAYrO,QAAZ,CAAqBhK,CAArB,GAAyBitB,IAAI,CAACjtB,CAA9B;MAEA,KAAKqY,MAAL,CAAY4I,QAAZ,CAAqBnhB,CAArB,GAAyBuY,MAAM,CAAC4I,QAAP,CAAgBnhB,CAAzC;MACA,KAAKuY,MAAL,CAAY4I,QAAZ,CAAqBlhB,CAArB,GAAyBsY,MAAM,CAAC4I,QAAP,CAAgBlhB,CAAzC;MACA,KAAKsY,MAAL,CAAY4I,QAAZ,CAAqBjhB,CAArB,GAAyBqY,MAAM,CAAC4I,QAAP,CAAgBjhB,CAAzC;MAEA,KAAKktB,aAAL;MACA,KAAK7xB,KAAL;MAEA,KAAKonB,QAAL,CAAc0G,MAAd,CAAqB,KAAKp0B,KAA1B,EAAiC,KAAKsjB,MAAtC;IACA;EA5KF;;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACdA;;;;;;;;;;;;;;;;;;;;;ACAO,SAAS8U,gBAAT,CAA0BlW,GAA1B,EAA+B;EACrCA,GAAG,CAACtU,KAAJ,CAAUjc,KAAV,GAAkB,MAAlB;EACAuwB,GAAG,CAACtU,KAAJ,CAAU1N,MAAV,GAAmB,MAAnB;EACAgiB,GAAG,CAACtU,KAAJ,CAAUqH,QAAV,GAAqB,UAArB;EACAiN,GAAG,CAACtU,KAAJ,CAAUrU,IAAV,GAAiB,CAAjB;EACA2oB,GAAG,CAACtU,KAAJ,CAAUtU,GAAV,GAAgB,CAAhB;EACA4oB,GAAG,CAACtU,KAAJ,CAAUyqB,OAAV,GAAoB,MAApB;AACA;AAEM,SAASC,gBAAT,CAA0BpW,GAA1B,EAA+BqW,MAA/B,EAAuC;EAC7CrW,GAAG,CAACtU,KAAJ,CAAUqH,QAAV,GAAqB,UAArB;EACAiN,GAAG,CAACtU,KAAJ,CAAUtU,GAAV,GAAgB,CAAhB;EACA4oB,GAAG,CAACtU,KAAJ,CAAUqV,KAAV,GAAkB,CAAlB;EACAf,GAAG,CAACtU,KAAJ,CAAU4qB,MAAV,GAAmB,GAAnB;;EACA,IAAI,CAACD,MAAL,EAAa;IACZrW,GAAG,CAACtU,KAAJ,CAAUjc,KAAV,GAAkB,OAAlB;IACAuwB,GAAG,CAACtU,KAAJ,CAAU1N,MAAV,GAAmB,OAAnB;EACA,CAHD,MAGO;IACNgiB,GAAG,CAACtU,KAAJ,CAAUjc,KAAV,GAAkB4mC,MAAM,CAAC5mC,KAAP,GAAe4mC,MAAM,CAAC5mC,KAAP,GAAe,IAA9B,GAAqC,OAAvD;IACAuwB,GAAG,CAACtU,KAAJ,CAAU1N,MAAV,GAAmBq4B,MAAM,CAACr4B,MAAP,GAAgBq4B,MAAM,CAACr4B,MAAP,GAAgB,IAAhC,GAAuC,OAA1D;EACA;AACD;AACM,SAASu4B,kBAAT,CAA4B5I,MAA5B,EAAoC;EAC1CA,MAAM,CAACjiB,KAAP,CAAajc,KAAb,GAAqB,MAArB;EACAk+B,MAAM,CAACjiB,KAAP,CAAa1N,MAAb,GAAsB,MAAtB;AACA;AACM,SAASw4B,eAAT,CAAyBC,GAAzB,EAA8B;EACpCA,GAAG,CAAC/qB,KAAJ,CAAUjc,KAAV,GAAkB,OAAlB;EACAgnC,GAAG,CAAC/qB,KAAJ,CAAU1N,MAAV,GAAmB,OAAnB;AACA;AACM,SAAS04B,sBAAT,CAAgCC,eAAhC,EAAiD;EACvD,IAAI/4B,aAAa,GAAGmJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;EACA,IAAI/K,UAAU,GAAG8K,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAjB;EACA,IAAInJ,aAAa,GAAGkJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;EACA,IAAI7K,UAAU,GAAG4K,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAjB;;EACA,IAAI2vB,eAAJ,EAAqB;IACpBA,eAAe,CAACvvB,WAAhB,CAA4BxJ,aAA5B;IACA+4B,eAAe,CAACvvB,WAAhB,CAA4BvJ,aAA5B;EACA,CAHD,MAGO;IACNkJ,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BxJ,aAA1B;IACAmJ,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BvJ,aAA1B;EACA;;EACDD,aAAa,CAACwJ,WAAd,CAA0BnL,UAA1B;EACA4B,aAAa,CAACuJ,WAAd,CAA0BjL,UAA1B;EACA+5B,gBAAgB,CAACt4B,aAAD,CAAhB;EACA24B,kBAAkB,CAACt6B,UAAD,CAAlB;EACAm6B,gBAAgB,CAACv4B,aAAD,CAAhB;EACA04B,kBAAkB,CAACp6B,UAAD,CAAlB;EACA,OAAO;IACNyB,aAAa,EAAEA,aADT;IAEN3B,UAAU,EAAEA,UAFN;IAGN4B,aAAa,EAAEA,aAHT;IAIN1B,UAAU,EAAEA;EAJN,CAAP;AAMA;AACM,SAASy6B,WAAT,CAAqB5W,GAArB,EAA0B;EAChCA,GAAG,CAACtU,KAAJ,CAAUqH,QAAV,GAAqB,OAArB;EACAiN,GAAG,CAACtU,KAAJ,CAAUtU,GAAV,GAAgB,OAAhB;EACA4oB,GAAG,CAACtU,KAAJ,CAAUqV,KAAV,GAAkB,CAAlB;EACAf,GAAG,CAACtU,KAAJ,CAAU1N,MAAV,GAAmB,qBAAnB;EACAgiB,GAAG,CAACtU,KAAJ,CAAUmrB,SAAV,GAAsB,QAAtB;EACA7W,GAAG,CAACtU,KAAJ,CAAUorB,SAAV,GAAsB,MAAtB;EACA9W,GAAG,CAACtU,KAAJ,CAAU7Z,OAAV,GAAoB,MAApB;AACA;;;;;;;;;;;;;;;;;;;;;AC/DD;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA,IAAMolC,IAAI,GAAGF,wDAAA,CAAoBhwB,QAAQ,CAAC4qB,cAAT,CAAwB,MAAxB,CAApB,CAAb;AACAsF,IAAI,CAAC/E,MAAL,eAAY,2DAAC,4CAAD,OAAZ;AACA8E,4DAAe;;;;;;;;;;;;;;;;;ACXf;AACA,IAAMI,UAAU,GAAGD,6DAAW,CAAC;EAC9BzoC,IAAI,EAAE,OADwB;EAE9B2oC,YAAY,EAAE;IACb9kC,OAAO,EAAE,CADI;IAEbvB,UAAU,EAAE;EAFC,CAFgB;EAM9BsmC,QAAQ,EAAE;IACT39B,YAAY,EAAE,sBAAC1I,KAAD,EAAQsmC,MAAR,EAAmB;MAChC,sBAAgCA,MAAM,CAACC,OAAvC;MAAA,IAAQjlC,OAAR,mBAAQA,OAAR;MAAA,IAAiBvB,UAAjB,mBAAiBA,UAAjB;MACAC,KAAK,CAACsB,OAAN,GAAgBA,OAAhB;MACAtB,KAAK,CAACD,UAAN,GAAmBA,UAAnB;IACA;EALQ;AANoB,CAAD,CAA9B;AAcO,IAAQ2I,YAAR,GAAyBy9B,UAAU,CAACK,OAApC,CAAQ99B,YAAR;;AACP,iEAAey9B,UAAU,CAACM,OAA1B;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA,IAAMA,OAAO,GAAG;EACfxmC,KAAK,EAAEonC,mDAAYA;AADJ,CAAhB;AAGA,IAAMC,UAAU,GAAGZ,iEAAe,CAACD,OAAD,CAAlC;AACA,IAAMc,aAAa,GAAG;EACrBC,GAAG,EAAE,MADgB;EAErBC,OAAO,EAAE,CAFY;EAGrBL,OAAO,EAAPA,iEAHqB;EAIrB;EACA;EACAM,SAAS,EAAE;AANU,CAAtB;;AAQA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC3nC,KAAD,EAAQsmC,MAAR,EAAmB;EACtC,OAAOgB,UAAU,CAACtnC,KAAD,EAAQsmC,MAAR,CAAjB;AACA,CAFD;;AAGA,IAAMsB,gBAAgB,GAAGf,6DAAc,CAACU,aAAD,EAAgBI,WAAhB,CAAvC;AAEO,IAAMptC,KAAK,GAAGosC,gEAAc,CAAC;EACnCF,OAAO,EAAEmB,gBAD0B;EAEnCC,UAAU,EAAE,oBAACC,oBAAD;IAAA,OACXA,oBAAoB,CAAC;MACpBC,iBAAiB,EAAE;QAClBC,cAAc,EAAE,CAAClB,gDAAD,EAAQC,oDAAR,EAAmBC,gDAAnB,EAA0BC,kDAA1B,EAAmCC,gDAAnC,EAA0CC,mDAA1C;MADE;IADC,CAAD,CADT;EAAA;AAFuB,CAAD,CAA5B;AASA,IAAM3sC,SAAS,GAAGosC,2DAAY,CAACrsC,KAAD,CAA9B;;;;;;;;;;;;;;;AC9BP,IAAMwrC,eAAe,GAAG,SAAlBA,eAAkB,CAAAkC,WAAW,EAAI;EACrC,IAAIA,WAAW,IAAIA,WAAW,YAAYC,QAA1C,EAAoD;IAClD,0MAAqBC,IAArB,CAA0B,gBAAiD;MAAA,IAA9CC,MAA8C,QAA9CA,MAA8C;MAAA,IAAtCC,MAAsC,QAAtCA,MAAsC;MAAA,IAA9BC,MAA8B,QAA9BA,MAA8B;MAAA,IAAtBC,MAAsB,QAAtBA,MAAsB;MAAA,IAAdC,OAAc,QAAdA,OAAc;MACzEJ,MAAM,CAACH,WAAD,CAAN;MACAI,MAAM,CAACJ,WAAD,CAAN;MACAK,MAAM,CAACL,WAAD,CAAN;MACAM,MAAM,CAACN,WAAD,CAAN;MACAO,OAAO,CAACP,WAAD,CAAP;IACD,CAND;EAOD;AACF,CAVD;;AAYA,iEAAelC,eAAf;;;;;;;;;;;;;;;;;;;;;ACZA;AACgH;AACjB;AACO;AACtG,4CAA4C,qHAAoC;AAChF,4CAA4C,2HAAuC;AACnF,8BAA8B,mFAA2B,CAAC,4FAAqC;AAC/F,yCAAyC,sFAA+B;AACxE,yCAAyC,sFAA+B;AACxE;AACA,iDAAiD,oCAAoC,0BAA0B,qBAAqB,KAAK,WAAW,kBAAkB,mBAAmB,wBAAwB,0BAA0B,KAAK,uBAAuB,yBAAyB,oBAAoB,qBAAqB,KAAK,6BAA6B,4BAA4B,6BAA6B,KAAK,0BAA0B,4BAA4B,qCAAqC,KAAK,2EAA2E,gCAAgC,mCAAmC,oBAAoB,uBAAuB,iCAAiC,KAAK,kBAAkB,gCAAgC,8BAA8B,KAAK,wCAAwC,wBAAwB,eAAe,iBAAiB,qBAAqB,4BAA4B,KAAK,uBAAuB,oBAAoB,qBAAqB,gCAAgC,sBAAsB,KAAK,gCAAgC,uCAAuC,KAAK,2BAA2B,0BAA0B,sBAAsB,yBAAyB,KAAK,wCAAwC,qFAAqF,KAAK,oBAAoB,qBAAqB,sBAAsB,6BAA6B,4BAA4B,KAAK,oBAAoB,qBAAqB,KAAK,2EAA2E,wBAAwB,qBAAqB,0BAA0B,uBAAuB,KAAK,8BAA8B,oBAAoB,0BAA0B,qCAAqC,KAAK,yCAAyC,oBAAoB,iDAAiD,2BAA2B,gBAAgB,8BAA8B,sBAAsB,KAAK,mBAAmB,2BAA2B,qBAAqB,sBAAsB,eAAe,iBAAiB,qBAAqB,KAAK,uBAAuB,2BAA2B,oBAAoB,eAAe,oBAAoB,KAAK,0BAA0B,2BAA2B,oBAAoB,kBAAkB,oBAAoB,KAAK,2BAA2B,2BAA2B,oBAAoB,kBAAkB,oBAAoB,KAAK,+CAA+C,oBAAoB,qBAAqB,KAAK,uBAAuB,mCAAmC,+BAA+B,KAAK,0BAA0B,+BAA+B,gCAAgC,2BAA2B,yBAAyB,4BAA4B,oCAAoC,gCAAgC,wBAAwB,uDAAuD,yCAAyC,qCAAqC,KAAK,0BAA0B,sDAAsD,4CAA4C,yBAAyB,KAAK,sBAAsB,+BAA+B,4BAA4B,KAAK,wBAAwB,qBAAqB,4BAA4B,KAAK,4CAA4C,+BAA+B,8BAA8B,oBAAoB,yBAAyB,oDAAoD,0CAA0C,0BAA0B,oBAAoB,yBAAyB,8CAA8C,qBAAqB,sBAAsB,KAAK,8BAA8B,oBAAoB,qBAAqB,KAAK,sBAAsB,qCAAqC,kDAAkD,2BAA2B,+BAA+B,KAAK,qBAAqB,2BAA2B,oCAAoC,KAAK,4BAA4B,oCAAoC,2BAA2B,0BAA0B,yBAAyB,2BAA2B,KAAK,kBAAkB,2BAA2B,sBAAsB,iBAAiB,kBAAkB,qBAAqB,KAAK,gCAAgC,qBAAqB,KAAK,yBAAyB,iCAAiC,KAAK,sBAAsB,+BAA+B,KAAK,kEAAkE,kCAAkC,yBAAyB,yBAAyB,KAAK,sDAAsD,oBAAoB,qBAAqB,sBAAsB,yBAAyB,KAAK,kEAAkE,uCAAuC,+BAA+B,KAAK,4BAA4B,mBAAmB,mBAAmB,wCAAwC,mBAAmB,wBAAwB,sBAAsB,KAAK,6CAA6C,oBAAoB,yBAAyB,qCAAqC,6BAA6B,6BAA6B,KAAK,kCAAkC,oBAAoB,oBAAoB,kCAAkC,0BAA0B,2BAA2B,yBAAyB,KAAK,mDAAmD,uCAAuC,qBAAqB,2BAA2B,KAAK,+BAA+B,oBAAoB,qBAAqB,4BAA4B,6BAA6B,KAAK,qEAAqE,4BAA4B,6BAA6B,KAAK,iDAAiD,+BAA+B,kCAAkC,oCAAoC,KAAK,mBAAmB,4BAA4B,6BAA6B,0BAA0B,gCAAgC,yBAAyB,4BAA4B,oCAAoC,gCAAgC,yBAAyB,oBAAoB,wBAAwB,KAAK,qFAAqF,4BAA4B,+BAA+B,kCAAkC,oCAAoC,wBAAwB,OAAO,0BAA0B,2BAA2B,yBAAyB,oBAAoB,yBAAyB,0BAA0B,qBAAqB,KAAK,+BAA+B,gCAAgC,iCAAiC,iCAAiC,KAAK,kBAAkB,wBAAwB,0BAA0B,0BAA0B,KAAK,mDAAmD,wBAAwB,iCAAiC,oBAAoB,gCAAgC,KAAK,2CAA2C,2BAA2B,mBAAmB,qBAAqB,KAAK,qBAAqB,2BAA2B,qBAAqB,KAAK,4CAA4C,+BAA+B,oCAAoC,yBAAyB,4BAA4B,KAAK,kGAAkG,qBAAqB,KAAK,oCAAoC,oBAAoB,KAAK,yBAAyB,yBAAyB,4BAA4B,oCAAoC,gCAAgC,wBAAwB,sBAAsB,KAAK,qBAAqB,mBAAmB,oCAAoC,gCAAgC,KAAK,uBAAuB,+BAA+B,sBAAsB,+BAA+B,KAAK,8BAA8B,iCAAiC,kCAAkC,mCAAmC,sCAAsC,KAAK,uDAAuD,qBAAqB,4BAA4B,uCAAuC,2BAA2B,oBAAoB,2BAA2B,yBAAyB,sBAAsB,0BAA0B,0BAA0B,KAAK,0BAA0B,2BAA2B,oBAAoB,oBAAoB,kCAAkC,wBAAwB,KAAK,wBAAwB,wBAAwB,KAAK,qFAAqF,uCAAuC,+BAA+B,KAAK,yCAAyC,wBAAwB,mBAAmB,iBAAiB,kFAAkF,yBAAyB,KAAK,oEAAoE,oCAAoC,KAAK,4BAA4B,0BAA0B,yBAAyB,4BAA4B,oCAAoC,gCAAgC,yBAAyB,KAAK,yBAAyB,+BAA+B,gCAAgC,2CAA2C,wBAAwB,0BAA0B,yBAAyB,oBAAoB,KAAK,oBAAoB,2BAA2B,gBAAgB,mBAAmB,+BAA+B,wBAAwB,oBAAoB,wBAAwB,qBAAqB,2BAA2B,qBAAqB,0BAA0B,2BAA2B,yBAAyB,gCAAgC,KAAK,gBAAgB,2BAA2B,gBAAgB,kBAAkB,+BAA+B,wBAAwB,oBAAoB,wBAAwB,qBAAqB,2BAA2B,qBAAqB,0BAA0B,2BAA2B,yBAAyB,gCAAgC,KAAK,gDAAgD,qFAAqF,KAAK,mBAAmB,qFAAqF,KAAK,qCAAqC,4BAA4B,2BAA2B,2BAA2B,8BAA8B,kCAAkC,KAAK,mBAAmB,2BAA2B,4BAA4B,gCAAgC,KAAK,iBAAiB,gCAAgC,mBAAmB,oBAAoB,mDAAmD,oDAAoD,+CAA+C,kDAAkD,2BAA2B,4BAA4B,KAAK,oBAAoB,2BAA2B,4BAA4B,6DAA6D,oEAAoE,+BAA+B,gCAAgC,KAAK,kDAAkD,2BAA2B,oBAAoB,oBAAoB,oBAAoB,6DAA6D,KAAK,4BAA4B,iCAAiC,KAAK,2BAA2B,kCAAkC,KAAK,uCAAuC,kCAAkC,KAAK,OAAO,4FAA4F,YAAY,aAAa,WAAW,OAAO,KAAK,UAAU,UAAU,UAAU,YAAY,OAAO,MAAM,YAAY,WAAW,UAAU,OAAO,MAAM,YAAY,aAAa,OAAO,MAAM,YAAY,aAAa,OAAO,QAAQ,YAAY,MAAM,MAAM,KAAK,UAAU,YAAY,OAAO,KAAK,YAAY,aAAa,QAAQ,WAAW,KAAK,UAAU,UAAU,UAAU,UAAU,YAAY,OAAO,KAAK,UAAU,UAAU,YAAY,WAAW,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,WAAW,YAAY,QAAQ,WAAW,KAAK,YAAY,OAAO,KAAK,UAAU,UAAU,YAAY,aAAa,OAAO,KAAK,UAAU,OAAO,MAAM,UAAU,UAAU,YAAY,WAAW,OAAO,KAAK,UAAU,YAAY,aAAa,QAAQ,WAAW,KAAK,UAAU,YAAY,aAAa,WAAW,YAAY,WAAW,OAAO,KAAK,YAAY,WAAW,UAAU,UAAU,UAAU,UAAU,OAAO,KAAK,YAAY,WAAW,UAAU,UAAU,MAAM,KAAK,YAAY,WAAW,UAAU,UAAU,MAAM,KAAK,YAAY,WAAW,UAAU,UAAU,MAAM,MAAM,UAAU,UAAU,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,WAAW,YAAY,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,UAAU,YAAY,QAAQ,WAAW,KAAK,YAAY,aAAa,WAAW,KAAK,MAAM,MAAM,KAAK,MAAM,KAAK,UAAU,KAAK,OAAO,WAAW,KAAK,UAAU,UAAU,OAAO,KAAK,UAAU,UAAU,OAAO,KAAK,KAAK,OAAO,WAAW,KAAK,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,WAAW,UAAU,UAAU,UAAU,OAAO,KAAK,UAAU,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,MAAM,YAAY,aAAa,aAAa,OAAO,MAAM,UAAU,UAAU,UAAU,YAAY,OAAO,MAAM,YAAY,aAAa,OAAO,KAAK,UAAU,KAAK,OAAO,WAAW,KAAK,UAAU,UAAU,UAAU,QAAQ,WAAW,KAAK,UAAU,YAAY,aAAa,aAAa,aAAa,OAAO,KAAK,UAAU,UAAU,YAAY,aAAa,aAAa,aAAa,OAAO,MAAM,YAAY,WAAW,YAAY,OAAO,KAAK,UAAU,UAAU,YAAY,aAAa,OAAO,MAAM,YAAY,aAAa,OAAO,MAAM,YAAY,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,WAAW,UAAU,OAAO,OAAO,YAAY,aAAa,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,WAAW,YAAY,aAAa,WAAW,OAAO,KAAK,YAAY,aAAa,aAAa,OAAO,KAAK,UAAU,YAAY,aAAa,QAAQ,aAAa,MAAM,UAAU,YAAY,WAAW,YAAY,QAAQ,WAAW,KAAK,YAAY,WAAW,UAAU,OAAO,KAAK,YAAY,WAAW,QAAQ,WAAW,KAAK,YAAY,aAAa,aAAa,aAAa,OAAO,OAAO,UAAU,OAAO,KAAK,UAAU,MAAM,KAAK,YAAY,aAAa,aAAa,aAAa,WAAW,UAAU,OAAO,KAAK,UAAU,YAAY,aAAa,OAAO,KAAK,YAAY,WAAW,YAAY,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,QAAQ,SAAS,MAAM,KAAK,UAAU,YAAY,aAAa,WAAW,YAAY,aAAa,OAAO,KAAK,YAAY,WAAW,UAAU,YAAY,WAAW,OAAO,KAAK,UAAU,OAAO,OAAO,YAAY,aAAa,QAAQ,WAAW,KAAK,UAAU,UAAU,UAAU,YAAY,aAAa,OAAO,QAAQ,YAAY,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,WAAW,YAAY,aAAa,WAAW,MAAM,KAAK,YAAY,WAAW,UAAU,YAAY,WAAW,UAAU,UAAU,UAAU,YAAY,WAAW,YAAY,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,WAAW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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCRA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;;;;;WCAA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;;;;WCAA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;WCrFA;;;;;UEAA;UACA;UACA;UACA;UACA","sources":["webpack://openBIM-React/./src/App.js","webpack://openBIM-React/./src/components/ExportModel/ExportModelMenu.js","webpack://openBIM-React/./src/components/ExportModel/ListMaterial.js","webpack://openBIM-React/./src/components/LinkTab.js","webpack://openBIM-React/./src/components/ModelDetail/ModelDetailMenu.js","webpack://openBIM-React/./src/components/ModelInPlace/ModelInPlaceMenu.js","webpack://openBIM-React/./src/components/Modeling/ModelingMenu.js","webpack://openBIM-React/./src/components/Modify/Modify.js","webpack://openBIM-React/./src/components/Modify/ModifyMenu.js","webpack://openBIM-React/./src/components/Modify/WorkPlaneMenu.js","webpack://openBIM-React/./src/components/MouseRight/MouseRight.js","webpack://openBIM-React/./src/components/Property/MaterialModel.js","webpack://openBIM-React/./src/components/Property/PropertyModel.js","webpack://openBIM-React/./src/components/SettingPanel.js","webpack://openBIM-React/./src/components/ToolContext.js","webpack://openBIM-React/./src/components/ToolTab.js","webpack://openBIM-React/./src/components/Viewer.js","webpack://openBIM-React/./src/components/general/CancelModel.js","webpack://openBIM-React/./src/components/general/FinishModel.js","webpack://openBIM-React/./src/components/general/ImageTool.js","webpack://openBIM-React/./src/components/general/ToolButton.js","webpack://openBIM-React/./src/components/general/setModeling.js","webpack://openBIM-React/./src/doc/DocumentModel.js","webpack://openBIM-React/./src/doc/material/CubeControlMaterial.js","webpack://openBIM-React/./src/doc/material/CustomMaterial.js","webpack://openBIM-React/./src/doc/material/DimensionMaterial.js","webpack://openBIM-React/./src/doc/material/LightColor.js","webpack://openBIM-React/./src/doc/material/PlaneMaterial.js","webpack://openBIM-React/./src/doc/material/ViewMaterial.js","webpack://openBIM-React/./src/doc/material/index.js","webpack://openBIM-React/./src/doc/model/ExportBimModel.js","webpack://openBIM-React/./src/doc/model/ExportIFCModel.js","webpack://openBIM-React/./src/doc/model/ModelType.js","webpack://openBIM-React/./src/doc/model/SettingModel.js","webpack://openBIM-React/./src/doc/model/UnitModel.js","webpack://openBIM-React/./src/doc/model/WorkPlane.js","webpack://openBIM-React/./src/doc/model/index.js","webpack://openBIM-React/./src/doc/modeling/Location.js","webpack://openBIM-React/./src/doc/modeling/cast.js","webpack://openBIM-React/./src/doc/modeling/draft/drawPolyGon.js","webpack://openBIM-React/./src/doc/modeling/draft/extrude.js","webpack://openBIM-React/./src/doc/modeling/drawArc.js","webpack://openBIM-React/./src/doc/modeling/drawCircle.js","webpack://openBIM-React/./src/doc/modeling/drawLine.js","webpack://openBIM-React/./src/doc/modeling/drawMultiLine.js","webpack://openBIM-React/./src/doc/modeling/drawPolygon.js","webpack://openBIM-React/./src/doc/modeling/drawRect.js","webpack://openBIM-React/./src/doc/modeling/enum.js","webpack://openBIM-React/./src/doc/modeling/extrudeProfile.js","webpack://openBIM-React/./src/doc/modeling/index.js","webpack://openBIM-React/./src/doc/modeling/modify.js","webpack://openBIM-React/./src/doc/modeling/selectModel.js","webpack://openBIM-React/./src/doc/modeling/setProperty.js","webpack://openBIM-React/./src/doc/modeling/snap.js","webpack://openBIM-React/./src/doc/view/BaseView.js","webpack://openBIM-React/./src/doc/view/BoxCube.js","webpack://openBIM-React/./src/doc/view/CubeControl.js","webpack://openBIM-React/./src/doc/view/index.js","webpack://openBIM-React/./src/doc/view/viewStyle.js","webpack://openBIM-React/./src/index.js","webpack://openBIM-React/./src/redux/modelSlice.js","webpack://openBIM-React/./src/redux/store.js","webpack://openBIM-React/./src/reportWebVitals.js","webpack://openBIM-React/./src/assets/css/styles.css","webpack://openBIM-React/./src/components/ExportModel/ExportModel.css","webpack://openBIM-React/./src/assets/css/styles.css?fe5e","webpack://openBIM-React/./src/components/ExportModel/ExportModel.css?cd60","webpack://openBIM-React/./node_modules/web-ifc/ sync","webpack://openBIM-React/webpack/bootstrap","webpack://openBIM-React/webpack/runtime/amd options","webpack://openBIM-React/webpack/runtime/chunk loaded","webpack://openBIM-React/webpack/runtime/compat get default export","webpack://openBIM-React/webpack/runtime/define property getters","webpack://openBIM-React/webpack/runtime/ensure chunk","webpack://openBIM-React/webpack/runtime/get javascript chunk filename","webpack://openBIM-React/webpack/runtime/global","webpack://openBIM-React/webpack/runtime/hasOwnProperty shorthand","webpack://openBIM-React/webpack/runtime/load script","webpack://openBIM-React/webpack/runtime/make namespace object","webpack://openBIM-React/webpack/runtime/node module decorator","webpack://openBIM-React/webpack/runtime/publicPath","webpack://openBIM-React/webpack/runtime/jsonp chunk loading","webpack://openBIM-React/webpack/runtime/nonce","webpack://openBIM-React/webpack/before-startup","webpack://openBIM-React/webpack/startup","webpack://openBIM-React/webpack/after-startup"],"sourcesContent":["import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store, persistor } from \"./redux/store\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport Viewer from \"./components/Viewer\";\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<PersistGate loading={null} persistor={persistor}>\r\n\t\t\t\t\t<Viewer></Viewer>\r\n\t\t\t\t</PersistGate>\r\n\t\t\t</Provider>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { ToolContext } from \"../ToolContext\";\r\nimport ToolButton from \"../general/ToolButton\";\r\nimport ListMaterial from \"./ListMaterial\";\r\nimport { imageExport } from \"../general/ImageTool\";\r\nimport \"./ExportModel.css\";\r\nconst ExportModelMenu = () => {\r\n\tconst { listModel, handleShowListMaterial, handleExportBimModel, handleExportIfcModel } = useContext(ToolContext);\r\n\tconst idTooltip = \"export\";\r\n\tconst targetShowListMaterialRef = useRef(null);\r\n\tconst targetExportBimRef = useRef(null);\r\n\tconst targetExportIfcRef = useRef(null);\r\n\tuseEffect(() => {\r\n\t\ttargetExportBimRef.current.disabled = listModel.length == 0;\r\n\t\ttargetExportIfcRef.current.disabled = listModel.length == 0;\r\n\t}, [listModel]);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div className=\"card card-menu\">\r\n\t\t\t\t\t<ToolButton\r\n\t\t\t\t\t\ttitle=\"List Material\"\r\n\t\t\t\t\t\thandleClick={handleShowListMaterial}\r\n\t\t\t\t\t\ttarget={targetShowListMaterialRef}\r\n\t\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{<img src={imageExport.material} alt=\"\" />}\r\n\t\t\t\t\t</ToolButton>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"card card-menu\">\r\n\t\t\t\t\t<ToolButton\r\n\t\t\t\t\t\ttitle=\"Export .bim\"\r\n\t\t\t\t\t\thandleClick={handleExportBimModel}\r\n\t\t\t\t\t\ttarget={targetExportBimRef}\r\n\t\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{<img src={imageExport.bim} alt=\"\" />}\r\n\t\t\t\t\t</ToolButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"card card-menu\">\r\n\t\t\t\t\t<ToolButton\r\n\t\t\t\t\t\ttitle=\"Export .ifc\"\r\n\t\t\t\t\t\thandleClick={handleExportIfcModel}\r\n\t\t\t\t\t\ttarget={targetExportIfcRef}\r\n\t\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{<img src={imageExport.ifc} alt=\"\" />}\r\n\t\t\t\t\t</ToolButton>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ListMaterial></ListMaterial>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ExportModelMenu;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { ToolContext } from \"../ToolContext\";\r\n\r\nconst ListMaterial = () => {\r\n\tconst { listMaterial, showListMaterial, handleAddMaterial } = useContext(ToolContext);\r\n\tconst [selectMaterial, setSelectMaterial] = useState(null);\r\n\tconst bodyRef = useRef(null);\r\n\tconst handleSelectMaterial = (e) => {\r\n\t\tvar uuid = e.target.getAttribute(\"uuid\");\r\n\t\tif (!uuid) return;\r\n\t\tsetSelectMaterial(listMaterial.find((m) => m.material.uuid === uuid));\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (selectMaterial) {\r\n\t\t}\r\n\t\tbodyRef.current.childNodes.forEach((n) => {\r\n\t\t\tif (n.className !== \"toolBtn\") {\r\n\t\t\t\tif (selectMaterial) {\r\n\t\t\t\t\tif (n.getAttribute(\"uuid\") === selectMaterial.material.uuid) {\r\n\t\t\t\t\t\tn.classList.add(\"select-material\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tn.classList.remove(\"select-material\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tn.classList.remove(\"select-material\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}, [selectMaterial]);\r\n\r\n\treturn (\r\n\t\t<div className={showListMaterial ? \"list-material list-material-active\" : \"list-material\"}>\r\n\t\t\t<table className=\"table table-bordered \">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th colSpan={3}>List Material</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t<th>Color</th>\r\n\t\t\t\t\t\t<th>Alpha</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody ref={bodyRef}>\r\n\t\t\t\t\t{listMaterial.map((mat) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<tr key={mat.material.uuid} onClick={handleSelectMaterial} uuid={mat.material.uuid}>\r\n\t\t\t\t\t\t\t\t<td uuid={mat.material.uuid}>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tuuid={mat.material.uuid}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={mat.name}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => mat.onChangeName(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td uuid={mat.material.uuid}>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tuuid={mat.material.uuid}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"color\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={mat.setColor()}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => mat.onChangeColor(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td uuid={mat.material.uuid}>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tuuid={mat.material.uuid}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\t\tmax=\"255\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={mat.alpha}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => mat.onChangeAlpha(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<tr className=\"toolBtn\">\r\n\t\t\t\t\t\t<td colSpan={3}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={handleAddMaterial}>\r\n\t\t\t\t\t\t\t\t\tAdd Material\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-warning\" onClick={handleAddMaterial}>\r\n\t\t\t\t\t\t\t\t\tRemove Material\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ListMaterial;\r\n","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst LinkTab = (props) => {\r\n\tconst { unit } = props;\r\n\tconst [unitLabel, setUnitLabel] = useState(unit.m);\r\n\tconst handleChangeUnit = (e) => {\r\n\t\tsetUnitLabel(e.target.value);\r\n\t\tunit.onChange(e.target.value);\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"linkTab\">\r\n\t\t\t<div className=\"d-flex justify-content-between\">\r\n\t\t\t\t<div className=\"d-flex justify-content-between unit\">\r\n\t\t\t\t\t<div className=\"unit-label\">Unit</div>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclassName=\"form-select\"\r\n\t\t\t\t\t\tstyle={{ width: \"60px\" }}\r\n\t\t\t\t\t\tvalue={unitLabel}\r\n\t\t\t\t\t\tonChange={handleChangeUnit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value={unit.m}>{unit.m}</option>\r\n\t\t\t\t\t\t<option value={unit.mm}>{unit.mm}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a className=\"btn\" href=\"https://github.com/RyugaRyuzaki/three.model.bim\">\r\n\t\t\t\t\t<FontAwesomeIcon icon=\"fab fa-github\" size=\"lg\" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<a className=\"btn\" href=\"https://www.linkedin.com/in/ryuga-ryuzaki-479b36186/\">\r\n\t\t\t\t\t<FontAwesomeIcon icon=\"fab fa-linkedin\" size=\"lg\" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<a className=\"btn\" href=\"https://www.youtube.com/channel/UCQSwGw2vUjad7kUhEOXbqaw\">\r\n\t\t\t\t\t<FontAwesomeIcon icon=\"fab fa-youtube\" size=\"lg\" />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LinkTab;\r\n","import React from \"react\";\r\n\r\nconst ModelDetailMenu = () => {\r\n\treturn <div>ModelDetailMenu</div>;\r\n};\r\n\r\nexport default ModelDetailMenu;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { ToolContext } from \"../ToolContext\";\r\nimport ToolButton from \"../general/ToolButton\";\r\nimport { imageInPlace } from \"../general/ImageTool\";\r\nimport { typeModel } from \"../../doc/model\";\r\nimport FinishModel from \"../general/FinishModel\";\r\nimport CancelModel from \"../general/CancelModel\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst ModelInPlaceMenu = () => {\r\n\tconst {\r\n\t\tmodelType,\r\n\t\tshowProfile,\r\n\t\thandleExtrude,\r\n\t\thandleRevolve,\r\n\t\thandleSweep,\r\n\t\thandleShowProfile,\r\n\t\thandleFinish,\r\n\t\thandleCancel,\r\n\t\tdeepExtrude,\r\n\t\thandleChangeDeepExtrude,\r\n\t} = useContext(ToolContext);\r\n\tconst [showProfilePanel, setShowProfilePanel] = useState(false);\r\n\tconst [showDeep, setShowDeep] = useState(false);\r\n\tconst isModeling = useSelector((state) => state.model?.isModeling);\r\n\tconst idTooltip = \"inPlace\";\r\n\tconst targetExtrudeRef = useRef(null);\r\n\tconst targetRevolveRef = useRef(null);\r\n\tconst targetSweepRef = useRef(null);\r\n\tconst targetProfileRef = useRef(null);\r\n\tconst targetFinishRef = useRef(null);\r\n\tconst targetCancelRef = useRef(null);\r\n\tuseEffect(() => {\r\n\t\ttargetExtrudeRef.current.disabled = modelType != null;\r\n\t\ttargetRevolveRef.current.disabled = modelType != null;\r\n\t\ttargetSweepRef.current.disabled = modelType != null;\r\n\t\tsetShowProfilePanel(modelType != null);\r\n\t\tsetShowDeep(modelType?.type == typeModel.extrude);\r\n\t}, [modelType]);\r\n\tuseEffect(() => {\r\n\t\ttargetProfileRef.current.disabled = showProfile;\r\n\t}, [showProfile]);\r\n\tuseEffect(() => {\r\n\t\ttargetFinishRef.current.disabled = isModeling;\r\n\t\ttargetCancelRef.current.disabled = isModeling;\r\n\t}, [isModeling]);\r\n\r\n\treturn (\r\n\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t<div className=\"card card-menu\">\r\n\t\t\t\t<ToolButton title=\"Extrude\" handleClick={handleExtrude} target={targetExtrudeRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageInPlace.extrude} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton title=\"Revolve\" handleClick={handleRevolve} target={targetRevolveRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageInPlace.revolve} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton title=\"Sweep\" handleClick={handleSweep} target={targetSweepRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageInPlace.sweep} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card card-menu\" style={{ display: showProfilePanel ? \"block\" : \"none\" }}>\r\n\t\t\t\t<ToolButton\r\n\t\t\t\t\ttitle=\"Profile\"\r\n\t\t\t\t\thandleClick={handleShowProfile}\r\n\t\t\t\t\ttarget={targetProfileRef}\r\n\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t>\r\n\t\t\t\t\t{<img src={imageInPlace.profile} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card card-menu\" style={{ display: showDeep ? \"block\" : \"none\" }}>\r\n\t\t\t\t<div className=\"d-flex justify-content-start input-payment\">\r\n\t\t\t\t\t<div>Deep</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tvalue={deepExtrude}\r\n\t\t\t\t\t\tonChange={handleChangeDeepExtrude}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card card-menu\" style={{ display: showProfilePanel ? \"block\" : \"none\" }}>\r\n\t\t\t\t<FinishModel handleFinish={handleFinish} target={targetFinishRef} idTooltip={idTooltip}></FinishModel>\r\n\t\t\t\t<CancelModel handleCancel={handleCancel} target={targetCancelRef} idTooltip={idTooltip}></CancelModel>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ModelInPlaceMenu;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { ToolContext } from \"../ToolContext\";\r\nimport ToolButton from \"../general/ToolButton\";\r\nimport { imageModeling } from \"../general/ImageTool\";\r\nimport { drawList } from \"../../doc/model\";\r\nimport { setDisabled, setModelingType, refreshModelingType } from \"../general/setModeling\";\r\nimport FinishModel from \"../general/FinishModel\";\r\nimport CancelModel from \"../general/CancelModel\";\r\n\r\nconst ModelingMenu = () => {\r\n\tconst drawing = useSelector((state) => state.model?.drawing);\r\n\tconst isModeling = useSelector((state) => state.model?.isModeling);\r\n\tconst dispatch = useDispatch();\r\n\tconst { modelType, showProfile, documentModel, handleFinishProfile, handleCancelProfile } = useContext(ToolContext);\r\n\tconst [showTool, setShowTool] = useState(false);\r\n\r\n\tconst idTooltip = \"modeling\";\r\n\tconst targetRectRef = useRef(null);\r\n\tconst targetCircleRef = useRef(null);\r\n\tconst targetArcRef = useRef(null);\r\n\tconst targetLineRef = useRef(null);\r\n\tconst targetMultiLineRef = useRef(null);\r\n\tconst targetPolygonRef = useRef(null);\r\n\tconst targetFinishRef = useRef(null);\r\n\tconst targetCancelRef = useRef(null);\r\n\r\n\tconst handleRectangle = () => {\r\n\t\tif (modelType) {\r\n\t\t\tsetModelingType(drawList.rect, dispatch);\r\n\t\t\tmodelType.createProfileRect(targetRectRef.current, documentModel.workPlane, () => {\r\n\t\t\t\trefreshModelingType(dispatch);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCircle = () => {\r\n\t\tif (modelType) {\r\n\t\t\tsetModelingType(drawList.circle, dispatch);\r\n\t\t\tmodelType.createProfileCircle(targetCircleRef.current, documentModel.workPlane, () => {\r\n\t\t\t\trefreshModelingType(dispatch);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst handleArc = () => {\r\n\t\tsetModelingType(drawList.arc, dispatch);\r\n\t\tmodelType.createProfileArc(targetArcRef.current, documentModel.workPlane, () => {\r\n\t\t\trefreshModelingType(dispatch);\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleLine = () => {\r\n\t\tif (modelType) {\r\n\t\t\tsetModelingType(drawList.line, dispatch);\r\n\t\t\tmodelType.createProfileLine(targetLineRef.current, documentModel.workPlane, () => {\r\n\t\t\t\trefreshModelingType(dispatch);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst handleMultiLine = () => {\r\n\t\tif (modelType) {\r\n\t\t\tsetModelingType(drawList.multiLine, dispatch);\r\n\t\t\tmodelType.createProfileMultiLine(targetMultiLineRef.current, documentModel.workPlane, () => {\r\n\t\t\t\trefreshModelingType(dispatch);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst handlePolygon = () => {\r\n\t\tif (modelType) {\r\n\t\t\tsetModelingType(drawList.pentagon, dispatch);\r\n\t\t\tmodelType.createProfilePolygon(targetPolygonRef.current, documentModel.workPlane, () => {\r\n\t\t\t\trefreshModelingType(dispatch);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetShowTool(showProfile);\r\n\t}, [showProfile]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDisabled(targetRectRef, drawList.rect, drawing, isModeling);\r\n\t\tsetDisabled(targetCircleRef, drawList.circle, drawing, isModeling);\r\n\t\tsetDisabled(targetArcRef, drawList.arc, drawing, isModeling);\r\n\t\tsetDisabled(targetLineRef, drawList.line, drawing, isModeling);\r\n\t\tsetDisabled(targetMultiLineRef, drawList.multiLine, drawing, isModeling);\r\n\t\tsetDisabled(targetPolygonRef, drawList.polygon, drawing, isModeling);\r\n\t\ttargetFinishRef.current.disabled = isModeling;\r\n\t\ttargetCancelRef.current.disabled = isModeling;\r\n\t}, [drawing, isModeling]);\r\n\r\n\treturn (\r\n\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t<div className=\"card card-menu\" style={{ display: showTool ? \"flex\" : \"none\" }}>\r\n\t\t\t\t<ToolButton\r\n\t\t\t\t\ttitle=\"Rectangle\"\r\n\t\t\t\t\thandleClick={handleRectangle}\r\n\t\t\t\t\ttarget={targetRectRef}\r\n\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t>\r\n\t\t\t\t\t{<img src={imageModeling.rect} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\r\n\t\t\t\t<ToolButton title=\"Circle\" handleClick={handleCircle} target={targetCircleRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageModeling.circle} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton title=\"Arc\" handleClick={handleArc} target={targetArcRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageModeling.arc} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton title=\"Line\" handleClick={handleLine} target={targetLineRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageModeling.line} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton\r\n\t\t\t\t\ttitle=\"Multi-Line\"\r\n\t\t\t\t\thandleClick={handleMultiLine}\r\n\t\t\t\t\ttarget={targetMultiLineRef}\r\n\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t>\r\n\t\t\t\t\t{<img src={imageModeling.multi} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton title=\"Polygon\" handleClick={handlePolygon} target={targetPolygonRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageModeling.polygon} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\r\n\t\t\t\t<FinishModel\r\n\t\t\t\t\thandleFinish={handleFinishProfile}\r\n\t\t\t\t\ttarget={targetFinishRef}\r\n\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t></FinishModel>\r\n\t\t\t\t<CancelModel\r\n\t\t\t\t\thandleCancel={handleCancelProfile}\r\n\t\t\t\t\ttarget={targetCancelRef}\r\n\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t></CancelModel>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ModelingMenu;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport Tabs from \"react-bootstrap/Tabs\";\r\nimport ModifyMenu from \"./ModifyMenu\";\r\nimport WorkPlaneMenu from \"./WorkPlaneMenu\";\r\n\r\nconst Modify = () => {\r\n\tconst [tabType, setTabType] = useState(0);\r\n\tconst handleSelectTab = (k) => {\r\n\t\tsetTabType(k);\r\n\t};\r\n\treturn (\r\n\t\t<Tabs activeKey={tabType} className=\"mb-3\" onSelect={handleSelectTab}>\r\n\t\t\t<Tab eventKey={0} title=\"Work Plane\">\r\n\t\t\t\t<WorkPlaneMenu></WorkPlaneMenu>\r\n\t\t\t</Tab>\r\n\t\t\t<Tab eventKey={1} title=\"Modify\">\r\n\t\t\t\t<ModifyMenu></ModifyMenu>\r\n\t\t\t</Tab>\r\n\t\t</Tabs>\r\n\t);\r\n};\r\n\r\nexport default Modify;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport ToolButton from \"../general/ToolButton\";\r\nimport { ToolContext } from \"../ToolContext\";\r\nimport { imageModify } from \"../general/ImageTool\";\r\nimport { setDisabled, setModelingType, refreshModelingType } from \"../general/setModeling\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { drawList, ModelTypeClass } from \"../../doc/model\";\r\n\r\nconst ModifyMenu = () => {\r\n\tconst drawing = useSelector((state) => state.model?.drawing);\r\n\tconst isModeling = useSelector((state) => state.model?.isModeling);\r\n\tconst dispatch = useDispatch();\r\n\tconst { view } = useContext(ToolContext);\r\n\r\n\tconst idTooltip = \"modify\";\r\n\tconst targetAlignRef = useRef(null);\r\n\tconst targetTrimRef = useRef(null);\r\n\tconst targetExtendRef = useRef(null);\r\n\tconst targetCopyRef = useRef(null);\r\n\tuseEffect(() => {\r\n\t\tsetDisabled(targetAlignRef, drawList.align, drawing, isModeling);\r\n\t\tsetDisabled(targetTrimRef, drawList.trim, drawing, isModeling);\r\n\t\tsetDisabled(targetExtendRef, drawList.extend, drawing, isModeling);\r\n\t\tsetDisabled(targetCopyRef, drawList.copy, drawing, isModeling);\r\n\t}, [drawing, isModeling]);\r\n\t//#region Modify\r\n\tconst handleAlignModify = (e) => {};\r\n\tconst handleTrimModify = (e) => {};\r\n\tconst handleExtendModify = (e) => {};\r\n\tconst handleCopyModify = (e) => {\r\n\t\tsetModelingType(drawList.copy, dispatch);\r\n\t\tModelTypeClass.modifyCopyElement(targetCopyRef.current, view, () => {\r\n\t\t\trefreshModelingType(dispatch);\r\n\t\t});\r\n\t};\r\n\t//#endregion\r\n\treturn (\r\n\t\t<div className=\"d-flex justify-content-start\">\r\n\t\t\t<div className=\"card card-menu\">\r\n\t\t\t\t<ToolButton title=\"Align\" handleClick={handleAlignModify} target={targetAlignRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageModify.align} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton title=\"Trim\" handleClick={handleTrimModify} target={targetTrimRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageModify.trim} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton\r\n\t\t\t\t\ttitle=\"Extend\"\r\n\t\t\t\t\thandleClick={handleExtendModify}\r\n\t\t\t\t\ttarget={targetExtendRef}\r\n\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t>\r\n\t\t\t\t\t{<img src={imageModify.extend} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton title=\"Copy\" handleClick={handleCopyModify} target={targetCopyRef} idTooltip={idTooltip}>\r\n\t\t\t\t\t{<img src={imageModify.copy} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ModifyMenu;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { ToolContext } from \"../ToolContext\";\r\nimport ToolButton from \"../general/ToolButton\";\r\nimport { imageModify } from \"../general/ImageTool\";\r\n\r\nconst WorkPlaneMenu = () => {\r\n\tconst {\r\n\t\tshowProfile,\r\n\t\tpickWorkPlane,\r\n\t\tworkPlaneType,\r\n\t\thandleSetWorkPlane,\r\n\t\thandleApplyWorkPlane,\r\n\t\thandleOnChangeWorkPlaneType,\r\n\t\thandleShowWorkPlane,\r\n\t\tdocumentModel,\r\n\t} = useContext(ToolContext);\r\n\tconst idTooltip = \"modify\";\r\n\tconst targetWorkPlanRef = useRef(null);\r\n\tconst targetShowWorkPlanRef = useRef(null);\r\n\tuseEffect(() => {\r\n\t\ttargetWorkPlanRef.current.disabled = showProfile;\r\n\t}, [showProfile]);\r\n\treturn (\r\n\t\t<div className=\"d-flex justify-content-start\">\r\n\t\t\t<div className=\"card card-menu\">\r\n\t\t\t\t<ToolButton\r\n\t\t\t\t\ttitle=\"Set Work Plane\"\r\n\t\t\t\t\thandleClick={handleSetWorkPlane}\r\n\t\t\t\t\ttarget={targetWorkPlanRef}\r\n\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t>\r\n\t\t\t\t\t{<img src={imageModify.workPlane} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t\t<ToolButton\r\n\t\t\t\t\ttitle=\"Show Work Plane\"\r\n\t\t\t\t\thandleClick={handleShowWorkPlane}\r\n\t\t\t\t\ttarget={targetShowWorkPlanRef}\r\n\t\t\t\t\tidTooltip={idTooltip}\r\n\t\t\t\t>\r\n\t\t\t\t\t{<img src={imageModify.showWK} alt=\"\" />}\r\n\t\t\t\t</ToolButton>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card card-menu\" style={{ display: pickWorkPlane ? \"block\" : \"none\" }}>\r\n\t\t\t\t<div className=\"d-flex justify-content-start input-payment\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclassName=\"form-select\"\r\n\t\t\t\t\t\tstyle={{ width: \"100px\" }}\r\n\t\t\t\t\t\tvalue={workPlaneType}\r\n\t\t\t\t\t\tonChange={handleOnChangeWorkPlaneType}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{documentModel.workPlane.listWorkPlanes.map((plane) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<option key={plane.type} value={plane.type}>\r\n\t\t\t\t\t\t\t\t\t{plane.name}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={handleApplyWorkPlane}>\r\n\t\t\t\t\t\tApply\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default WorkPlaneMenu;\r\n","import React, { useContext } from \"react\";\r\nimport { ToolContext } from \"../ToolContext\";\r\nconst MouseRight = () => {\r\n\tconst { showMR, visibilityMR, handleDeleteModel, handleHideModel, handleShowAllModel } = useContext(ToolContext);\r\n\r\n\tconst styleMouseRight = () => {\r\n\t\treturn {\r\n\t\t\tdisplay: showMR ? \"block\" : \"none\",\r\n\t\t\ttop: visibilityMR.top + \"px\",\r\n\t\t\tleft: visibilityMR.left + \"px\",\r\n\t\t};\r\n\t};\r\n\tconst styleElement = (show) => {\r\n\t\treturn {\r\n\t\t\tdisplay: show ? \"block\" : \"none\",\r\n\t\t};\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"card mouseRight\" style={styleMouseRight()}>\r\n\t\t\t<div className=\"card-body\">\r\n\t\t\t\t<button className=\"btn\" onClick={handleDeleteModel} style={styleElement(!visibilityMR.showAll)}>\r\n\t\t\t\t\tDelete\r\n\t\t\t\t</button>\r\n\t\t\t\t<button className=\"btn\" onClick={handleHideModel} style={styleElement(!visibilityMR.showAll)}>\r\n\t\t\t\t\tHide\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<button className=\"btn\" onClick={handleShowAllModel} style={styleElement(visibilityMR.showAll)}>\r\n\t\t\t\t\tShow All\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MouseRight;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { ToolContext } from \"../ToolContext\";\r\n\r\nconst MaterialModel = () => {\r\n\tconst { selectModel, listMaterial } = useContext(ToolContext);\r\n\tconst handleOnChangeMaterial = (e) => {\r\n\t\tvar material = listMaterial.find((l) => l.material.uuid == e.target.value);\r\n\t\tif (!material) return;\r\n\t\tselectModel?.userData.Selection.onChangeMaterial(material);\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"property-group\">\r\n\t\t\t<div className=\"d-flex justify-content-between property-group-title\">\r\n\t\t\t\t<div>Material</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"table-responsive\">\r\n\t\t\t\t<table className=\"table table-bordered\">\r\n\t\t\t\t\t<tbody className=\"propBody\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style={{ width: \"50%\" }}>\r\n\t\t\t\t\t\t\t\t<div className=\"paraName\">Material</div>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-select\"\r\n\t\t\t\t\t\t\t\t\tdefaultValue={selectModel?.userData.Selection.MaterialModel.material.uuid}\r\n\t\t\t\t\t\t\t\t\tonChange={handleOnChangeMaterial}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{listMaterial.map((m) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={m.name} value={m.material.uuid}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{m.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MaterialModel;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { ToolContext } from \"../ToolContext\";\r\nimport MaterialModel from \"./MaterialModel\";\r\n\r\nconst PropertyModel = () => {\r\n\tconst { selectModel, showPropertyModel, handleGeneratePropertyModel, handleCancelPropertyModel } =\r\n\t\tuseContext(ToolContext);\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tsize=\"sm\"\r\n\t\t\tshow={showPropertyModel}\r\n\t\t\tanimation={true}\r\n\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\tcentered\r\n\t\t\tbackdrop=\"static\"\r\n\t\t\tkeyboard={false}\r\n\t\t>\r\n\t\t\t<Modal.Header>\r\n\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t<div className=\"property-model-title\">uuid : {selectModel?.uuid}</div>\r\n\t\t\t\t</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t<MaterialModel></MaterialModel>\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<button className=\"btn btn-secondary\" onClick={handleCancelPropertyModel}>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t\t<button className=\"btn btn-primary\" onClick={handleGeneratePropertyModel}>\r\n\t\t\t\t\tOK\r\n\t\t\t\t</button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default PropertyModel;\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nconst SettingPanel = (props) => {\r\n\tconst { showGUI, documentModel } = props;\r\n\tconst guiRef = useRef(null);\r\n\tuseEffect(() => {\r\n\t\tdocumentModel?.settingModel.init(documentModel, guiRef.current);\r\n\t}, []);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div id=\"guiID\" ref={guiRef} className=\"guiID\" style={{ display: showGUI ? \"block\" : \"none\" }}></div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default SettingPanel;\r\n","import React, { createContext, useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { drawList } from \"../doc/model\";\r\nimport { refreshModelingType, setModelingType } from \"./general/setModeling\";\r\nexport const ToolContext = createContext();\r\n\r\nexport const ToolProvider = (props) => {\r\n\tconst { children, documentModel } = props;\r\n\tconst drawing = useSelector((state) => state.model?.drawing);\r\n\t//#region MouseRight\r\n\tconst [showMR, setShowMR] = useState(false);\r\n\tconst [visibilityMR, setVisibilityMR] = useState({ top: 0, left: 0, showAll: false });\r\n\tconst [selectModel, setSelectModel] = useState(null);\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tif (documentModel) {\r\n\t\t\tdocumentModel.evenMouseDown((show, vis) => {\r\n\t\t\t\tsetShowMR(show);\r\n\t\t\t\tsetVisibilityMR(vis);\r\n\t\t\t});\r\n\t\t\tdocumentModel.evenClick((model) => {\r\n\t\t\t\tsetSelectModel(model);\r\n\t\t\t\tsetShowMR(false);\r\n\t\t\t});\r\n\t\t\tdocumentModel.evenDoubleClick((isModel) => {\r\n\t\t\t\tsetShowPropertyModel(isModel);\r\n\t\t\t});\r\n\t\t}\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (documentModel) {\r\n\t\t\tdocumentModel.view.drawing = drawing;\r\n\t\t}\r\n\t}, [drawing]);\r\n\r\n\tconst handleDeleteModel = () => {\r\n\t\tif (documentModel) {\r\n\t\t\tdocumentModel.handleDeleteModel();\r\n\t\t\tif (modelType) {\r\n\t\t\t\tmodelType.listProfile.splice(modelType.listProfile.indexOf(selectModel), 1);\r\n\t\t\t}\r\n\t\t\tdocumentModel.models = documentModel.models.splice(documentModel.models.indexOf(selectModel), 1);\r\n\t\t\tsetListModel([...documentModel.models]);\r\n\t\t\tsetShowMR(false);\r\n\t\t}\r\n\t};\r\n\tconst handleHideModel = () => {\r\n\t\tif (documentModel) {\r\n\t\t\tdocumentModel.handleHideModel();\r\n\t\t\tsetShowMR(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleShowAllModel = () => {\r\n\t\tif (documentModel) {\r\n\t\t\tdocumentModel.handleShowAllModel();\r\n\t\t\tsetShowMR(false);\r\n\t\t}\r\n\t};\r\n\t//#endregion\r\n\t//#region modeltype\r\n\tconst [modelType, setModelType] = useState(null);\r\n\r\n\tconst handleExtrude = () => {\r\n\t\tsetModelType(documentModel.extrude);\r\n\t};\r\n\tconst handleSweep = () => {\r\n\t\tsetModelType(documentModel.sweep);\r\n\t};\r\n\tconst handleRevolve = () => {\r\n\t\tsetModelType(documentModel.revolve);\r\n\t};\r\n\tconst handleGrid = () => {\r\n\t\tsetModelType(documentModel.grid);\r\n\t};\r\n\tconst handleLevel = () => {\r\n\t\tsetModelType(documentModel.level);\r\n\t};\r\n\tconst handleFinish = () => {\r\n\t\tif (!profile) {\r\n\t\t\tif (window.confirm(\"Can not create Extrude!\\nDo you want to continue? \")) {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tsetModelType(null);\r\n\t\t\t\tsetShowProfile(false);\r\n\t\t\t\trefreshModelingType(dispatch);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (deepExtrude <= 0) {\r\n\t\t\t\talert(\"Deep is invalid, please try again\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (modelType) {\r\n\t\t\t\tmodelType.createExtrude(profile, deepExtrude, documentModel.workPlane.plane, listMaterial[0]);\r\n\t\t\t\tmodelType.dispose();\r\n\t\t\t\tsetListModel([...documentModel.models]);\r\n\t\t\t}\r\n\t\t\tsetModelType(null);\r\n\t\t\tsetProfile(null);\r\n\t\t\tsetShowProfile(false);\r\n\t\t\trefreshModelingType(dispatch);\r\n\t\t}\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetModelType(null);\r\n\t\tsetProfile(null);\r\n\t\tsetShowProfile(false);\r\n\t\trefreshModelingType(dispatch);\r\n\t};\r\n\t//#endregion\r\n\t//#region Profile\r\n\tconst [showProfile, setShowProfile] = useState(false);\r\n\tconst [profile, setProfile] = useState(null);\r\n\tconst handleShowProfile = () => {\r\n\t\tsetShowProfile(true);\r\n\t\tsetShowWorkPlane(true);\r\n\t\tif (profile && modelType) {\r\n\t\t\tmodelType.showProfile(profile);\r\n\t\t}\r\n\t};\r\n\tconst handleFinishProfile = () => {\r\n\t\tif (modelType) {\r\n\t\t\tmodelType.canCreateProfile((result, profile) => {\r\n\t\t\t\tif (!result) {\r\n\t\t\t\t\talert(\"Can not create a profile\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetShowProfile(false);\r\n\t\t\t\t\tsetProfile(profile);\r\n\t\t\t\t\trefreshModelingType(dispatch);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst handleCancelProfile = () => {\r\n\t\tif (modelType) {\r\n\t\t\tmodelType.dispose();\r\n\t\t\tsetShowProfile(false);\r\n\t\t\tsetProfile(null);\r\n\t\t\trefreshModelingType(dispatch);\r\n\t\t}\r\n\t};\r\n\t//#endregion\r\n\t//#region extrude\r\n\tconst [deepExtrude, setDeepExtrude] = useState(2);\r\n\tconst handleChangeDeepExtrude = (e) => {\r\n\t\tif (isNaN(parseFloat(e.target.value * 1.0))) {\r\n\t\t\tsetDeepExtrude(0);\r\n\t\t} else {\r\n\t\t\tsetDeepExtrude(e.target.value);\r\n\t\t}\r\n\t};\r\n\t//#endregion\r\n\t//#region workPlane\r\n\tconst [showWorkPlane, setShowWorkPlane] = useState(false);\r\n\tconst [pickWorkPlane, setPickWorkPlane] = useState(false);\r\n\tconst [workPlaneType, setWorkPlaneType] = useState(documentModel.workPlane.listWorkPlanes[0].type);\r\n\tconst handleSetWorkPlane = () => {\r\n\t\tsetPickWorkPlane(!pickWorkPlane);\r\n\t};\r\n\tconst handleApplyWorkPlane = () => {\r\n\t\tsetModelingType(drawList.workPlane, dispatch);\r\n\t\tdocumentModel.workPlane.setWorkPlane(workPlaneType, () => {\r\n\t\t\tsetShowWorkPlane(true);\r\n\t\t\tsetPickWorkPlane(false);\r\n\t\t\trefreshModelingType(dispatch);\r\n\t\t});\r\n\t};\r\n\tconst handleOnChangeWorkPlaneType = (e) => {\r\n\t\tsetWorkPlaneType(e.target.value);\r\n\t};\r\n\tconst handleShowWorkPlane = () => {\r\n\t\tsetShowWorkPlane(!showWorkPlane);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tdocumentModel.workPlane.showWorkPlane(showWorkPlane);\r\n\t}, [showWorkPlane]);\r\n\r\n\t//#endregion\r\n\t//#region export\r\n\tconst [showListMaterial, setShowListMaterial] = useState(false);\r\n\tconst [listModel, setListModel] = useState([...documentModel.models]);\r\n\tconst [listMaterial, setListMaterial] = useState([...documentModel.materials]);\r\n\r\n\tconst handleShowListMaterial = () => {\r\n\t\tsetShowListMaterial(!showListMaterial);\r\n\t};\r\n\tconst handleAddMaterial = () => {\r\n\t\tdocumentModel.addMaterial();\r\n\t\tsetListMaterial([...documentModel.materials]);\r\n\t};\r\n\tconst handleExportBimModel = () => {\r\n\t\tif (documentModel) {\r\n\t\t\tif (listModel.length == 0) {\r\n\t\t\t\talert(\"No Model to export.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdocumentModel.exportBim.exportModels(listModel);\r\n\t\t}\r\n\t};\r\n\tconst handleExportIfcModel = () => {\r\n\t\tif (documentModel) {\r\n\t\t\tconsole.log(\"first\");\r\n\t\t}\r\n\t};\r\n\t//#endregion\r\n\t//#region Property\r\n\tconst [showPropertyModel, setShowPropertyModel] = useState(false);\r\n\tconst handlePropertyModel = (e) => {\r\n\t\tvar uuid = e.target.getAttribute(\"uuid\");\r\n\t\tif (!uuid) return;\r\n\t\tif (documentModel) {\r\n\t\t\tvar model = documentModel.getModelById(uuid);\r\n\t\t\tif (model) {\r\n\t\t\t\tsetSelectModel(model);\r\n\t\t\t\tsetShowPropertyModel(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleGeneratePropertyModel = () => {\r\n\t\tif (documentModel) {\r\n\t\t\tconsole.log(selectModel);\r\n\t\t\tsetShowPropertyModel(false);\r\n\t\t}\r\n\t};\r\n\tconst handleCancelPropertyModel = () => {\r\n\t\tif (documentModel) {\r\n\t\t\tsetShowPropertyModel(false);\r\n\t\t}\r\n\t};\r\n\r\n\t//#endregion\r\n\tconst value = {\r\n\t\tdocumentModel: documentModel,\r\n\t\tview: documentModel.view,\r\n\t\tfactor: documentModel.unit.factor,\r\n\t\tmodelType: modelType,\r\n\t\tprofile: profile,\r\n\t\tshowProfile: showProfile,\r\n\t\thandleExtrude: handleExtrude,\r\n\t\thandleSweep: handleSweep,\r\n\t\thandleRevolve: handleRevolve,\r\n\t\thandleGrid: handleGrid,\r\n\t\thandleLevel: handleLevel,\r\n\t\thandleFinish: handleFinish,\r\n\t\thandleCancel: handleCancel,\r\n\t\thandleShowProfile: handleShowProfile,\r\n\t\thandleFinishProfile: handleFinishProfile,\r\n\t\thandleCancelProfile: handleCancelProfile,\r\n\t\tdeepExtrude: deepExtrude,\r\n\t\thandleChangeDeepExtrude: handleChangeDeepExtrude,\r\n\t\tshowMR: showMR,\r\n\t\tvisibilityMR: visibilityMR,\r\n\t\thandleDeleteModel: handleDeleteModel,\r\n\t\thandleHideModel: handleHideModel,\r\n\t\thandleShowAllModel: handleShowAllModel,\r\n\r\n\t\tpickWorkPlane: pickWorkPlane,\r\n\t\tworkPlaneType: workPlaneType,\r\n\t\thandleSetWorkPlane: handleSetWorkPlane,\r\n\t\thandleApplyWorkPlane: handleApplyWorkPlane,\r\n\t\thandleOnChangeWorkPlaneType: handleOnChangeWorkPlaneType,\r\n\t\thandleShowWorkPlane: handleShowWorkPlane,\r\n\t\tselectModel: selectModel,\r\n\r\n\t\tlistModel: listModel,\r\n\t\tlistMaterial: listMaterial,\r\n\t\tshowListMaterial: showListMaterial,\r\n\t\thandleShowListMaterial: handleShowListMaterial,\r\n\t\thandleAddMaterial: handleAddMaterial,\r\n\r\n\t\tshowPropertyModel: showPropertyModel,\r\n\t\thandlePropertyModel: handlePropertyModel,\r\n\t\thandleGeneratePropertyModel: handleGeneratePropertyModel,\r\n\t\thandleCancelPropertyModel: handleCancelPropertyModel,\r\n\t\thandleExportBimModel: handleExportBimModel,\r\n\t\thandleExportIfcModel: handleExportIfcModel,\r\n\t};\r\n\treturn <ToolContext.Provider value={value}>{children}</ToolContext.Provider>;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport Tabs from \"react-bootstrap/Tabs\";\r\nimport { ToolProvider } from \"./ToolContext\";\r\nimport ModelInPlaceMenu from \"./ModelInPlace/ModelInPlaceMenu\";\r\nimport ModelDetailMenu from \"./ModelDetail/ModelDetailMenu\";\r\nimport ModelingMenu from \"./Modeling/ModelingMenu\";\r\nimport MouseRight from \"./MouseRight/MouseRight\";\r\nimport PropertyModel from \"./Property/PropertyModel\";\r\nimport Modify from \"./Modify/Modify\";\r\nimport ExportModelMenu from \"./ExportModel/ExportModelMenu\";\r\n\r\nconst ToolTab = (props) => {\r\n\tconst { documentModel } = props;\r\n\tconst [tabType, setTabType] = useState(0);\r\n\tconst handleSelectTab = (k) => {\r\n\t\tsetTabType(k);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ToolProvider documentModel={documentModel}>\r\n\t\t\t<div className=\"d-flex justify-content-between\">\r\n\t\t\t\t<div className=\"toolTab\" style={{ width: \"50%\" }}>\r\n\t\t\t\t\t<Tabs activeKey={tabType} onSelect={handleSelectTab} className=\"mb-3\">\r\n\t\t\t\t\t\t{/* <Tab eventKey={0} title=\"Model Free\">\r\n\t\t\t\t\t\t\t<ModelFreeMenu></ModelFreeMenu>\r\n\t\t\t\t\t\t</Tab> */}\r\n\t\t\t\t\t\t<Tab eventKey={0} title=\"Model In Place\">\r\n\t\t\t\t\t\t\t<ModelInPlaceMenu></ModelInPlaceMenu>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey={1} title=\"Model Detail\">\r\n\t\t\t\t\t\t\t<ModelDetailMenu></ModelDetailMenu>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey={2} title=\"Export Model\">\r\n\t\t\t\t\t\t\t<ExportModelMenu></ExportModelMenu>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"toolTab\" style={{ width: \"20%\" }}>\r\n\t\t\t\t\t<Tabs activeKey={0} className=\"mb-3\">\r\n\t\t\t\t\t\t<Tab eventKey={0} title=\"Modeling\">\r\n\t\t\t\t\t\t\t<ModelingMenu></ModelingMenu>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"toolTab\" style={{ width: \"30%\" }}>\r\n\t\t\t\t\t<Modify></Modify>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<MouseRight></MouseRight>\r\n\t\t\t<PropertyModel></PropertyModel>\r\n\t\t</ToolProvider>\r\n\t);\r\n};\r\n\r\nexport default ToolTab;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHome, faCog } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { DocumentModel } from \"../doc/DocumentModel\";\r\nimport ToolTab from \"./ToolTab\";\r\nimport SettingPanel from \"./SettingPanel\";\r\nimport LinkTab from \"./LinkTab\";\r\n\r\nconst Viewer = () => {\r\n\tconst mainView = useRef(null);\r\n\tconst mainCanvas = useRef(null);\r\n\tconst cubeView = useRef(null);\r\n\tconst cubeCanvas = useRef(null);\r\n\tconst [documentModel, setDocumentModel] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tvar model = new DocumentModel(mainView.current, mainCanvas.current, cubeView.current, cubeCanvas.current);\r\n\t\tsetDocumentModel(model);\r\n\t}, []);\r\n\tconst [showGUI, setShowGUI] = useState(false);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mainView\" ref={mainView}>\r\n\t\t\t\t<canvas ref={mainCanvas}></canvas>\r\n\t\t\t\t<div className=\"cubeView\" ref={cubeView}>\r\n\t\t\t\t\t<div className=\"cubeViewHome\">\r\n\t\t\t\t\t\t<button className=\"btn\" id=\"cubeViewHome\">\r\n\t\t\t\t\t\t\t{<FontAwesomeIcon icon={faHome} size=\"lg\" />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"cubeViewSetting\">\r\n\t\t\t\t\t\t<button className=\"btn\" id=\"cubeViewSetting\" onClick={(e) => setShowGUI(!showGUI)}>\r\n\t\t\t\t\t\t\t{<FontAwesomeIcon icon={faCog} size=\"lg\" />}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<canvas ref={cubeCanvas}></canvas>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{documentModel ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<LinkTab unit={documentModel.unit}></LinkTab>\r\n\t\t\t\t\t<ToolTab documentModel={documentModel}></ToolTab>\r\n\t\t\t\t\t<SettingPanel showGUI={showGUI} documentModel={documentModel}></SettingPanel>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<></>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Viewer;\r\n","import React, { useState } from \"react\";\r\nimport Overlay from \"react-bootstrap/Overlay\";\r\nimport Tooltip from \"react-bootstrap/Tooltip\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faWindowClose } from \"@fortawesome/free-solid-svg-icons\";\r\nconst CancelModel = (props) => {\r\n\tconst { handleCancel, target, idTooltip } = props;\r\n\tconst [show, setShow] = useState(false);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn menuItemBtn\"\r\n\t\t\t\tref={target}\r\n\t\t\t\tonMouseLeave={() => setShow(false)}\r\n\t\t\t\tonMouseMove={() => setShow(true)}\r\n\t\t\t\tonClick={handleCancel}\r\n\t\t\t>\r\n\t\t\t\t{<FontAwesomeIcon icon={faWindowClose} size=\"lg\" />}\r\n\t\t\t</button>\r\n\t\t\t<Overlay target={target.current} show={show} placement=\"bottom\">\r\n\t\t\t\t{(props) => (\r\n\t\t\t\t\t<Tooltip id={idTooltip + \"cancel\"} {...props}>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t)}\r\n\t\t\t</Overlay>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CancelModel;\r\n","import React, { useState } from \"react\";\r\nimport Overlay from \"react-bootstrap/Overlay\";\r\nimport Tooltip from \"react-bootstrap/Tooltip\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheck } from \"@fortawesome/free-solid-svg-icons\";\r\nconst FinishModel = (props) => {\r\n\tconst { handleFinish, target, idTooltip } = props;\r\n\tconst [show, setShow] = useState(false);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn menuItemBtn\"\r\n\t\t\t\tref={target}\r\n\t\t\t\tonMouseLeave={() => setShow(false)}\r\n\t\t\t\tonMouseMove={() => setShow(true)}\r\n\t\t\t\tonClick={handleFinish}\r\n\t\t\t>\r\n\t\t\t\t{<FontAwesomeIcon icon={faCheck} size=\"lg\" />}\r\n\t\t\t</button>\r\n\t\t\t<Overlay target={target.current} show={show} placement=\"bottom\">\r\n\t\t\t\t{(props) => (\r\n\t\t\t\t\t<Tooltip id={idTooltip + \"finish\"} {...props}>\r\n\t\t\t\t\t\tFinish\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t)}\r\n\t\t\t</Overlay>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FinishModel;\r\n","import rect from \"../../assets/img/tool/Rectangle.png\";\r\n\r\nimport circle from \"../../assets/img/tool/Circle.png\";\r\nimport arc from \"../../assets/img/tool/Arc.png\";\r\nimport line from \"../../assets/img/tool/Line.png\";\r\nimport multiLine from \"../../assets/img/tool/Multi-Line.png\";\r\nimport polygon from \"../../assets/img/tool/Pentagon.png\";\r\n\r\nimport extrude from \"../../assets/img/noun-extrude-1404513.png\";\r\nimport workPlane from \"../../assets/img/work-plane.png\";\r\nimport sweep from \"../../assets/img/sweep.png\";\r\nimport revolve from \"../../assets/img/revolve.jpg\";\r\nimport profile from \"../../assets/img/noun-polygon-189082.png\";\r\nimport showWK from \"../../assets/img/showworkplan.png\";\r\n\r\nimport align from \"../../assets/img/tool/Align.png\";\r\nimport copy from \"../../assets/img/tool/Copy.png\";\r\nimport trim from \"../../assets/img/tool/Trim.png\";\r\nimport extend from \"../../assets/img/tool/Extend.png\";\r\nimport ifc from \"../../assets/img/tool/ifc-img.png\";\r\nimport material from \"../../assets/img/pencil.png\";\r\nimport bim from \"../../assets/img/bim-icon.png\";\r\n\r\nexport const imageInPlace = {\r\n\textrude: extrude,\r\n\tsweep: sweep,\r\n\trevolve: revolve,\r\n\tprofile: profile,\r\n};\r\nexport const imageModeling = {\r\n\trect: rect,\r\n\tcircle: circle,\r\n\tarc: arc,\r\n\tline: line,\r\n\tmulti: multiLine,\r\n\tpolygon: polygon,\r\n};\r\n\r\nexport const imageModify = {\r\n\tworkPlane: workPlane,\r\n\tshowWK: showWK,\r\n\talign: align,\r\n\tcopy: copy,\r\n\ttrim: trim,\r\n\textend: extend,\r\n};\r\nexport const imageExport = {\r\n\tifc: ifc,\r\n\tmaterial: material,\r\n\tbim: bim,\r\n};\r\n","import React, { useState, useRef } from \"react\";\r\nimport Overlay from \"react-bootstrap/Overlay\";\r\nimport Tooltip from \"react-bootstrap/Tooltip\";\r\n\r\nconst ToolButton = (props) => {\r\n\tconst { title, handleClick, target, idTooltip } = props;\r\n\tconst [showTooltip, setShowTooltip] = useState(false);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn menuItemBtn\"\r\n\t\t\t\tref={target}\r\n\t\t\t\tonMouseLeave={() => setShowTooltip(false)}\r\n\t\t\t\tonMouseMove={() => setShowTooltip(true)}\r\n\t\t\t\tonClick={handleClick}\r\n\t\t\t>\r\n\t\t\t\t{props.children}\r\n\t\t\t</button>\r\n\t\t\t<Overlay target={target.current} show={showTooltip} placement={\"bottom\"}>\r\n\t\t\t\t{(props) => (\r\n\t\t\t\t\t<Tooltip id={idTooltip + \"drawTooltip\"} {...props}>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t)}\r\n\t\t\t</Overlay>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ToolButton;\r\n","import { setModelType } from \"../../redux/modelSlice\";\r\n\r\nexport function setDisabled(target, draw0, drawing, isModeling) {\r\n\tif (isModeling) {\r\n\t\tif (drawing == draw0) {\r\n\t\t\ttarget.current.disabled = false;\r\n\t\t} else {\r\n\t\t\ttarget.current.disabled = true;\r\n\t\t}\r\n\t} else {\r\n\t\ttarget.current.disabled = false;\r\n\t}\r\n}\r\nexport function setModelingType(draw, dispatch) {\r\n\tdispatch(setModelType({ drawing: draw, isModeling: true }));\r\n}\r\nexport function refreshModelingType(dispatch) {\r\n\tdispatch(setModelType({ drawing: 0, isModeling: false }));\r\n}\r\n","import { Scene } from \"three\";\r\n\r\nimport { BaseView } from \"./view\";\r\nimport { Tween } from \"@tweenjs/tween.js\";\r\nimport { ModelTypeClass, typeModel, SettingModel, WorkPlane, UnitModel, ExportBimModel } from \"./model\";\r\nimport { highlightModel, pickModel } from \"./modeling/selectModel\";\r\nimport { CustomType } from \"./modeling\";\r\nimport { ViewMaterial } from \"./material\";\r\n\r\nexport class DocumentModel {\r\n\tmodels = [];\r\n\tmaterials = [];\r\n\r\n\tconstructor(mainContainer, mainCanvas, cubeContainer, cubeCanvas) {\r\n\t\tthis.scene = new Scene();\r\n\t\tthis.width = mainContainer.clientWidth;\r\n\t\tthis.height = mainContainer.clientHeight;\r\n\t\tthis.settingModel = new SettingModel();\r\n\t\tthis.view = new BaseView(this.scene, mainContainer, mainCanvas, this.width, this.height, true);\r\n\t\tthis.view.initCubeControls(cubeContainer, cubeCanvas);\r\n\t\tthis.view.onAnimate();\r\n\t\tthis.view.initResize(mainContainer, mainCanvas);\r\n\t\tthis.unit = new UnitModel(this.view);\r\n\t\tthis.workPlane = new WorkPlane(this.view, this.unit);\r\n\t\tthis.extrude = new ModelTypeClass(typeModel.extrude, this.models, this.view, this.unit);\r\n\t\tthis.sweep = new ModelTypeClass(typeModel.sweep, this.models, this.view, this.unit);\r\n\t\tthis.revolve = new ModelTypeClass(typeModel.revolve, this.models, this.view, this.unit);\r\n\t\tthis.grid = new ModelTypeClass(typeModel.grid, this.models, this.view, this.unit);\r\n\t\tthis.level = new ModelTypeClass(typeModel.level, this.models, this.view, this.unit);\r\n\t\tthis.evenMouseMove();\r\n\t\tthis.exportBim = new ExportBimModel();\r\n\t\tthis.materials.push(this.initMaterial(\"Mat1\"));\r\n\t\tthis.materials.push(this.initMaterial(\"Mat2\"));\r\n\t\tthis.materials.push(this.initMaterial(\"Mat3\"));\r\n\t}\r\n\taddMaterial() {\r\n\t\tthis.materials.push(this.initMaterial(\"New Mat\"));\r\n\t}\r\n\tinitMaterial(name) {\r\n\t\tvar mat = {\r\n\t\t\tname: name,\r\n\t\t\tmaterial: ViewMaterial.createMaterial(true, 1),\r\n\t\t\talpha: 255,\r\n\t\t\tonChangeName: (value) => {\r\n\t\t\t\tmat.name = value;\r\n\t\t\t},\r\n\r\n\t\t\tsetColor: () => {\r\n\t\t\t\treturn \"#\" + mat.material.color.getHexString();\r\n\t\t\t},\r\n\t\t\tonChangeColor: (value) => {\r\n\t\t\t\tmat.material.color.set(value);\r\n\t\t\t},\r\n\t\t\tonChangeAlpha: (value) => {\r\n\t\t\t\tmat.alpha = value;\r\n\t\t\t},\r\n\t\t};\r\n\t\treturn mat;\r\n\t}\r\n\tevenMouseMove() {\r\n\t\tvar _this = this;\r\n\r\n\t\t_this.view.domElement.addEventListener(\r\n\t\t\t\"mousemove\",\r\n\t\t\tfunction (e) {\r\n\t\t\t\thighlightModel(e, _this.view);\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t\t_this.view.domElement.addEventListener(\r\n\t\t\t\"click\",\r\n\t\t\tfunction (e) {\r\n\t\t\t\tpickModel(e, _this.view);\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t}\r\n\tevenMouseDown(callback) {\r\n\t\tvar _this = this;\r\n\t\t_this.view.domElement.addEventListener(\r\n\t\t\t\"mousedown\",\r\n\t\t\tfunction (e) {\r\n\t\t\t\tvar showMR = false;\r\n\t\t\t\tvar showAll = false;\r\n\t\t\t\tvar models = _this.scene.children.filter((c) => CustomType.isModel(c) || CustomType.isProfile(c));\r\n\t\t\t\tif (e.which == 3) {\r\n\t\t\t\t\tif (models.length == 0) {\r\n\t\t\t\t\t\tshowMR = false;\r\n\t\t\t\t\t\tshowAll = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tshowMR = true;\r\n\t\t\t\t\t\tshowAll = _this.view.selectModel == null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcallback(showMR, { top: e.clientY, left: e.clientX, showAll: showAll });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t}\r\n\tevenClick(callback) {\r\n\t\tvar _this = this;\r\n\t\t_this.view.domElement.addEventListener(\r\n\t\t\t\"click\",\r\n\t\t\tfunction (e) {\r\n\t\t\t\tpickModel(e, _this.view);\r\n\t\t\t\tcallback(_this.view.selectModel);\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t}\r\n\tevenDoubleClick(callback) {\r\n\t\tvar _this = this;\r\n\t\t_this.view.domElement.addEventListener(\r\n\t\t\t\"dblclick\",\r\n\t\t\tfunction (e) {\r\n\t\t\t\tif (!_this.view.selectModel) {\r\n\t\t\t\t\tcallback(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback(_this.view.selectModel.userData.Type == CustomType.model);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t}\r\n\thandleDeleteModel() {\r\n\t\tif (this.view.selectModel) {\r\n\t\t\tif (this.view.selectModel.userData.OutLine) {\r\n\t\t\t\tthis.view.selectModel.userData.OutLine.removeFromParent();\r\n\t\t\t}\r\n\t\t\tif (this.view.selectModel.userData.Profile) {\r\n\t\t\t\tthis.view.selectModel.userData.Location.remove(this.scene);\r\n\t\t\t}\r\n\t\t\tthis.view.selectModel.removeFromParent();\r\n\t\t\tthis.view.selectModel = null;\r\n\t\t\tthis.models.splice(this.models.indexOf(this.view.selectModel), 1);\r\n\t\t}\r\n\t}\r\n\thandleHideModel() {\r\n\t\tif (this.view.selectModel) {\r\n\t\t\tif (this.view.selectModel.userData.OutLine) {\r\n\t\t\t\tthis.view.selectModel.userData.OutLine.visible = false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.view.selectModel.visible = false;\r\n\t\t\tthis.view.selectModel = null;\r\n\t\t}\r\n\t}\r\n\thandleShowAllModel() {\r\n\t\tthis.scene.children.forEach((c) => {\r\n\t\t\tif (c.userData.Type == CustomType.model) {\r\n\t\t\t\tif (c.userData.OutLine) {\r\n\t\t\t\t\tc.userData.OutLine.visible = true;\r\n\t\t\t\t}\r\n\t\t\t\tc.visible = true;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tgetModelById(uuid) {\r\n\t\treturn this.models.find((c) => c.uuid == uuid);\r\n\t}\r\n}\r\n","import { MeshLambertMaterial, MeshBasicMaterial, DoubleSide, MeshPhongMaterial } from \"three\";\r\nimport { LightColor } from \"./LightColor\";\r\nexport const CubeControlMaterial = {\r\n\tmainCube: (textTex) => {\r\n\t\treturn new MeshBasicMaterial({\r\n\t\t\tcolor: \"skyblue\",\r\n\t\t\tmap: textTex,\r\n\t\t});\r\n\t},\r\n\tnormalCube: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: LightColor.normalCube,\r\n\t\tdepthTest: true,\r\n\t\tside: DoubleSide,\r\n\t}),\r\n\thoverCube: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: LightColor.hoverCube,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\ttextCube: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: LightColor.textCube,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\tifcMaterial: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: 0xff88ff,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\r\n\tring: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 0.5,\r\n\t\tcolor: LightColor.hoverCube,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\ttextRing: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: LightColor.ring,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n};\r\n","import { LineBasicMaterial, DoubleSide, MeshBasicMaterial, MeshLambertMaterial } from \"three\";\r\nimport { LightColor } from \"./LightColor\";\r\nexport const customMaterial = {\r\n\tnormalLine: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: \"red\",\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\tselectLine: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: 0x8a867c,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\thoverLine: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: 0x075eeb,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\tnormalModel: new MeshBasicMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: 0x8a867c,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\tselectModel: new MeshBasicMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: LightColor.normalCube,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\thoverModel: new MeshBasicMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: 0x9e1e05,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\thoverFace: new MeshBasicMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 0.1,\r\n\t\tcolor: 0x075eeb,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\r\n\tpointNormal: new MeshBasicMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 0.1,\r\n\t\tcolor: \"green\",\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\tpointSelect: new MeshBasicMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 0.1,\r\n\t\tcolor: \"red\",\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n};\r\n","import { MeshLambertMaterial, LineBasicMaterial, DoubleSide, LineDashedMaterial } from \"three\";\r\nexport const dimMaterial = {\r\n\toutLine: new LineBasicMaterial({\r\n\t\tcolor: 0x737170,\r\n\t\tlinewidth: 10,\r\n\t}),\r\n\tdim: new LineBasicMaterial({\r\n\t\tcolor: \"black\",\r\n\t\tlinewidth: 10,\r\n\t}),\r\n\ttag: new LineBasicMaterial({\r\n\t\tcolor: \"black\",\r\n\t\tlinewidth: 10,\r\n\t}),\r\n\tcloud: new LineBasicMaterial({\r\n\t\tcolor: \"red\",\r\n\t\tlinewidth: 10,\r\n\t}),\r\n\thoverTag: new LineBasicMaterial({\r\n\t\tcolor: \"red\",\r\n\t\tlinewidth: 10,\r\n\t}),\r\n\tselectTag: new LineBasicMaterial({\r\n\t\tcolor: 0xff88ff,\r\n\t\tlinewidth: 10,\r\n\t}),\r\n\r\n\ttagSize: {\r\n\t\tr: 0.2,\r\n\t\tt: 1,\r\n\t\tl: 4,\r\n\t\th: 0.2,\r\n\t\ttolerance: 0.01,\r\n\t\tangleSnap: Math.PI / (2 * 18),\r\n\t\tminRadius: 0.4,\r\n\t\tminExtend: 1.2,\r\n\t},\r\n\ttagText: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: 0xff88ff,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\textendText: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: \"green\",\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\tpoint: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: \"black\",\r\n\t\tdepthTest: true,\r\n\t\tdepthWrite: true,\r\n\t}),\r\n\tclippingPlane: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: \"black\",\r\n\t\tdepthTest: true,\r\n\t\tdepthWrite: true,\r\n\t}),\r\n\tdotSnap: new LineDashedMaterial({\r\n\t\tcolor: \"green\",\r\n\t\tlinewidth: 1,\r\n\t\tscale: 1,\r\n\t\tdashSize: 0.1,\r\n\t\tgapSize: 0.1,\r\n\t}),\r\n\ttagTemp: new LineDashedMaterial({\r\n\t\tcolor: \"black\",\r\n\t\tlinewidth: 1,\r\n\t\tscale: 1,\r\n\t\tdashSize: 0.04,\r\n\t\tgapSize: 0.02,\r\n\t}),\r\n};\r\n","import { Color } from \"three\";\r\n\r\nexport const LightColor = {\r\n\tlight: 0x404040,\r\n\tnormalCube: new Color(\"rgb(255, 255, 255)\"),\r\n\thoverCube: new Color(\"rgb(14, 237, 51)\"),\r\n\ttextCube: new Color(\"rgb(255, 0, 0)\"),\r\n\trefPlan: new Color(\"rgb(245, 245, 245)\"),\r\n\tring: new Color(\"rgb(123, 130, 28)\"),\r\n};\r\nexport function getColorRGB(r, g, b) {\r\n\tvar color = new Color();\r\n\tcolor.r = r;\r\n\tcolor.g = g;\r\n\tcolor.b = b;\r\n\treturn color;\r\n}\r\n","import { MeshLambertMaterial, MeshBasicMaterial, Color, MeshPhongMaterial, LineBasicMaterial, DoubleSide } from \"three\";\r\nimport { LightColor } from \"./LightColor\";\r\n\r\nexport const PlaneModelMaterial = {\r\n\tnormalPlane: new MeshBasicMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 0.1,\r\n\t\tcolor: LightColor.sectionBoxPlan,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\thoverPlane: new MeshBasicMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: LightColor.normalCube,\r\n\t\tside: DoubleSide,\r\n\t\tdepthWrite: true,\r\n\t\tdepthTest: true,\r\n\t}),\r\n\r\n\toutLine: new LineBasicMaterial({\r\n\t\tcolor: new Color(\"rgb(255, 0, 0)\"),\r\n\t\topacity: 0.5,\r\n\t\tlinewidth: 5,\r\n\t\tlinecap: \"round\",\r\n\t\tlinejoin: \"round\",\r\n\t}),\r\n\r\n\thoverOutLine: new LineBasicMaterial({\r\n\t\tcolor: new Color(\"rgb(255, 0, 0)\"),\r\n\t\topacity: 1,\r\n\t\tlinewidth: 1,\r\n\t\tlinecap: \"round\",\r\n\t\tlinejoin: \"round\",\r\n\t}),\r\n\tcontrol: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 0.5,\r\n\t\tcolor: LightColor.textCube,\r\n\t\tside: DoubleSide,\r\n\t\tdepthTest: true,\r\n\t\tdepthWrite: true,\r\n\t}),\r\n\thoverControl: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: LightColor.textCube,\r\n\t\tside: DoubleSide,\r\n\t\tdepthTest: true,\r\n\t\tdepthWrite: true,\r\n\t}),\r\n\thover: new MeshLambertMaterial({\r\n\t\ttransparent: true,\r\n\t\topacity: 1,\r\n\t\tcolor: LightColor.textCube,\r\n\t\tside: DoubleSide,\r\n\t\tdepthTest: true,\r\n\t\tdepthWrite: true,\r\n\t}),\r\n};\r\n","import {\r\n\tMeshLambertMaterial,\r\n\tDoubleSide,\r\n\tAlwaysStencilFunc,\r\n\tBackSide,\r\n\tIncrementWrapStencilOp,\r\n\tFrontSide,\r\n\tDecrementWrapStencilOp,\r\n\tNotEqualStencilFunc,\r\n\tReplaceStencilOp,\r\n\tMeshBasicMaterial,\r\n} from \"three\";\r\nexport const ViewMaterial = {\r\n\tcreateMaterial: (transparent, opacity) => {\r\n\t\treturn new MeshLambertMaterial({\r\n\t\t\ttransparent: transparent,\r\n\t\t\topacity: opacity,\r\n\t\t\tcolor: \"#\" + Math.floor(Math.random() * 16777215).toString(16),\r\n\t\t\tside: DoubleSide,\r\n\t\t\tdepthWrite: true,\r\n\t\t\tdepthTest: true,\r\n\t\t\t// vertexColors: true,\r\n\t\t});\r\n\t},\r\n\r\n\tchangeMaterial: (option, material) => {\r\n\t\tif (option.transparent) material.transparent = option.transparent;\r\n\t\tif (option.opacity) material.opacity = option.opacity;\r\n\t\tif (option.color) material.color = option.color;\r\n\t},\r\n\tbackFaceStencilMat: new MeshLambertMaterial({\r\n\t\tcolor: \"black\",\r\n\t\tdepthWrite: false,\r\n\t\tdepthTest: false,\r\n\t\tcolorWrite: true,\r\n\t\tstencilWrite: true,\r\n\t\tstencilFunc: AlwaysStencilFunc,\r\n\t\tside: BackSide,\r\n\t\tstencilFail: IncrementWrapStencilOp,\r\n\t\tstencilZFail: IncrementWrapStencilOp,\r\n\t\tstencilZPass: IncrementWrapStencilOp,\r\n\t}),\r\n\tfrontFaceStencilMat: new MeshLambertMaterial({\r\n\t\tcolor: \"black\",\r\n\t\tdepthWrite: false,\r\n\t\tdepthTest: false,\r\n\t\tcolorWrite: true,\r\n\t\tstencilWrite: true,\r\n\t\tstencilFunc: AlwaysStencilFunc,\r\n\t\tside: FrontSide,\r\n\t\tstencilFail: DecrementWrapStencilOp,\r\n\t\tstencilZFail: DecrementWrapStencilOp,\r\n\t\tstencilZPass: DecrementWrapStencilOp,\r\n\t}),\r\n\tplaneStencilMat: new MeshLambertMaterial({\r\n\t\tcolor: \"black\",\r\n\t\tstencilWrite: true,\r\n\t\tstencilRef: 0,\r\n\t\tstencilFunc: NotEqualStencilFunc,\r\n\t\tstencilFail: ReplaceStencilOp,\r\n\t\tstencilZFail: ReplaceStencilOp,\r\n\t\tstencilZPass: ReplaceStencilOp,\r\n\t}),\r\n};\r\n","export * from \"./LightColor\";\r\nexport * from \"./CubeControlMaterial\";\r\nexport * from \"./ViewMaterial\";\r\nexport * from \"./PlaneMaterial\";\r\nexport * from \"./DimensionMaterial\";\r\nexport * from \"./CustomMaterial\";\r\nexport * from \"./PlaneMaterial\";\r\nexport * from \"./DefaultMaterial\";\r\n","export class ExportBimModel {\r\n\tconstructor() {\r\n\t\tthis.export = {\r\n\t\t\tschema_version: \"1.0.0\",\r\n\t\t\tmeshes: [],\r\n\t\t\telements: [],\r\n\t\t\tinfo: {\r\n\t\t\t\tAuthor: \"Ryuga Ryuzaki\",\r\n\t\t\t\tProjectID: \"aaaaa\",\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\tinitModel(model) {\r\n\t\tif (!model.userData.Export) return;\r\n\t\tthis.export.meshes.push({\r\n\t\t\tmesh_id: model.userData.Export.mesh_id,\r\n\t\t\tcoordinates: model.userData.Export.coordinates,\r\n\t\t\tindices: model.userData.Export.indices,\r\n\t\t});\r\n\t\tthis.export.elements.push(model.userData.Export.elements);\r\n\t}\r\n\texportModels(models) {\r\n\t\tfor (let i = 0; i < models.length; i++) {\r\n\t\t\tthis.initModel(models[i]);\r\n\t\t}\r\n\t\tconst output = JSON.stringify(this.export, null, 2);\r\n\t\tvar url = URL.createObjectURL(new Blob([output], { type: \"application/json\" }));\r\n\t\tconst link = document.createElement(\"a\");\r\n\t\tlink.download = \"export\" + \".bim\";\r\n\t\tlink.href = url;\r\n\t\tdocument.body.appendChild(link);\r\n\t\tlink.click();\r\n\t\tlink.remove();\r\n\t}\r\n}\r\n","import * as wIfc from \"web-ifc\";\r\nfunction real(v) {\r\n\treturn { type: 4, value: v };\r\n}\r\n\r\nfunction ref(v) {\r\n\treturn { type: 5, value: v };\r\n}\r\n\r\nfunction empty() {\r\n\treturn { type: 6 };\r\n}\r\n\r\nfunction str(v) {\r\n\treturn { type: 1, value: v };\r\n}\r\nfunction enm(v) {\r\n\treturn { type: 3, value: v };\r\n}\r\nexport class ExportIFCModel {\r\n\tconstructor(modelID, maxID, ifcAPI) {\r\n\t\tthis.modelID = modelID;\r\n\t\tthis.maxID = maxID;\r\n\t\tthis.api = ifcAPI;\r\n\t}\r\n\tasync Write(lineObject) {\r\n\t\tconst rawLineData = {\r\n\t\t\tID: lineObject.expressID,\r\n\t\t\ttype: lineObject.type,\r\n\t\t\targuments: lineObject.ToTape(),\r\n\t\t};\r\n\r\n\t\tawait this.api.WriteRawLineData(this.modelID, rawLineData);\r\n\t}\r\n\tasync Point(o) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcCartesianPoint(ID, wIfc.IFCCARTESIANPOINT, [real(o.x), real(o.y), real(o.z)]);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync PolyLoop(os) {\r\n\t\tconst refs = await Promise.all(os.map((o) => this.Point(o)));\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst loop = new wIfc.IfcPolyLoop(ID, wIfc.IFCPOLYLOOP, refs);\r\n\t\tawait this.Write(loop);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync FaceOuterBound(os) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst bound = new wIfc.IfcFaceOuterBound(ID, wIfc.IFCFACEOUTERBOUND, await this.PolyLoop(os), enm(\"T\"));\r\n\t\tawait this.Write(bound);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync Face(os) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst face = new wIfc.IfcFace(ID, wIfc.IFCFACE, [await this.FaceOuterBound(os)]);\r\n\t\tawait this.Write(face);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync ClosedShell(faceRefs) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst shell = new wIfc.IfcClosedShell(ID, wIfc.IFCCLOSEDSHELL, faceRefs);\r\n\t\tawait this.Write(shell);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync FacetedBREP(faceRefs) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst brep = new wIfc.IfcFacetedBrep(ID, wIfc.IFCFACETEDBREP, await this.ClosedShell(faceRefs));\r\n\t\tawait this.Write(brep);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync ColourRGB(r, g, b) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst col = new wIfc.IfcColourRgb(ID, wIfc.IFCCOLOURRGB, empty(), real(r), real(g), real(b));\r\n\t\tawait this.Write(col);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync SurfaceStyleShading(r, g, b, a) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst col = new wIfc.IfcSurfaceStyleShading(\r\n\t\t\tID,\r\n\t\t\twIfc.IFCSURFACESTYLESHADING,\r\n\t\t\tawait this.ColourRGB(r, g, b),\r\n\t\t\treal(a)\r\n\t\t);\r\n\t\tawait this.Write(col);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync SurfaceStyleRendering(r, g, b, a) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst col = new wIfc.IfcSurfaceStyleRendering(\r\n\t\t\tID,\r\n\t\t\twIfc.IFCSURFACESTYLERENDERING,\r\n\t\t\tawait this.ColourRGB(r, g, b),\r\n\t\t\treal(a),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tenm(\"NOTDEFINED\")\r\n\t\t);\r\n\t\tawait this.Write(col);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync SurfaceStyle(name, r, g, b, a) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst col = new wIfc.IfcSurfaceStyle(ID, wIfc.IFCSURFACESTYLE, str(name), enm(wIfc.IfcSurfaceSide.BOTH), [\r\n\t\t\tawait this.SurfaceStyleShading(r, g, b, a),\r\n\t\t]);\r\n\t\tawait this.Write(col);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync PresentationStyleAssignment(name, r, g, b, a) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst style = new wIfc.IfcPresentationStyleAssignment(ID, wIfc.IFCPRESENTATIONSTYLEASSIGNMENT, [\r\n\t\t\tawait this.SurfaceStyle(name, r, g, b, a),\r\n\t\t]);\r\n\t\tawait this.Write(style);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync ShapePresentationStyleAssignment(name, r, g, b, a) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst style = new wIfc.IfcPresentationStyleAssignment(ID, wIfc.IFCPRESENTATIONSTYLEASSIGNMENT, [\r\n\t\t\tawait this.ShapeStyleAssignment(name, r, g, b, a),\r\n\t\t]);\r\n\t\tawait this.Write(style);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync ShapeStyleAssignment(name, r, g, b, a) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst style = new wIfc.IfcSurfaceStyle(ID, wIfc.IFCSURFACESTYLE, str(name), enm(\"BOTH\"), [\r\n\t\t\tawait this.SurfaceStyleRendering(r, g, b, a),\r\n\t\t]);\r\n\t\tawait this.Write(style);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync StyledItem(item, style) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst s = new wIfc.IfcStyledItem(ID, wIfc.IFCSTYLEDITEM, item, [style], empty());\r\n\t\tawait this.Write(s);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync StyledItemContext(style) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst s = new wIfc.IfcStyledItem(ID, wIfc.IFCSTYLEDITEM, empty(), [style], empty());\r\n\t\tawait this.Write(s);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync StyledRepresentationContext(context, name, description, style) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst s = new wIfc.IfcStyledRepresentation(\r\n\t\t\tID,\r\n\t\t\twIfc.IFCSTYLEDREPRESENTATION,\r\n\t\t\tcontext,\r\n\t\t\tstr(name),\r\n\t\t\tstr(description),\r\n\t\t\tstyle\r\n\t\t);\r\n\t\tawait this.Write(s);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync ShapeBREP(brepRefs) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst shape = new wIfc.IfcShapeRepresentation(\r\n\t\t\tID,\r\n\t\t\twIfc.IFCSHAPEREPRESENTATION,\r\n\t\t\tempty(),\r\n\t\t\tstr(\"Body\"),\r\n\t\t\tstr(\"Brep\"),\r\n\t\t\tbrepRefs\r\n\t\t);\r\n\t\tawait this.Write(shape);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync ProductDefinitionShape(shapeRefs) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst def = new wIfc.IfcProductDefinitionShape(ID, wIfc.IFCPRODUCTDEFINITIONSHAPE, empty(), empty(), shapeRefs);\r\n\t\tawait this.Write(def);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync Product(constructor, typeID, productShape, placement) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new constructor(\r\n\t\t\tID,\r\n\t\t\ttypeID,\r\n\t\t\tstr(Math.random().toString(16).substring(2, 8)),\r\n\t\t\tempty(),\r\n\t\t\tstr(\"name\"),\r\n\t\t\tempty(),\r\n\t\t\tstr(\"label\"),\r\n\t\t\tplacement,\r\n\t\t\tproductShape,\r\n\t\t\tstr(\"\"),\r\n\t\t\tempty()\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync Building(typeID, placement) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcBuilding(\r\n\t\t\tID,\r\n\t\t\ttypeID,\r\n\t\t\tstr(Math.random().toString(16).substr(2, 8)),\r\n\t\t\tempty(),\r\n\t\t\tstr(\"name\"),\r\n\t\t\tstr(\"description\"),\r\n\t\t\tstr(\"label\"),\r\n\t\t\tplacement,\r\n\t\t\tempty(),\r\n\t\t\tstr(\"\"),\r\n\t\t\tenm(wIfc.IfcElementCompositionEnum.ELEMENT),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tempty()\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync BuildingStorey(typeID, placement) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcBuildingStorey(\r\n\t\t\tID,\r\n\t\t\ttypeID,\r\n\t\t\tstr(Math.random().toString(16).substr(2, 8)),\r\n\t\t\tempty(),\r\n\t\t\tstr(\"name\"),\r\n\t\t\tstr(\"description\"),\r\n\t\t\tstr(\"label\"),\r\n\t\t\tplacement,\r\n\t\t\tempty(),\r\n\t\t\tstr(\"\"),\r\n\t\t\tenm(wIfc.IfcElementCompositionEnum.ELEMENT),\r\n\t\t\tempty()\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync Site(typeID, placement) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcSite(\r\n\t\t\tID,\r\n\t\t\ttypeID,\r\n\t\t\tstr(Math.random().toString(16).substr(2, 8)),\r\n\t\t\tempty(),\r\n\t\t\tstr(\"name\"),\r\n\t\t\tstr(\"description\"),\r\n\t\t\tstr(\"label\"),\r\n\t\t\tplacement,\r\n\t\t\tempty(),\r\n\t\t\tstr(\"\"),\r\n\t\t\tenm(wIfc.IfcElementCompositionEnum.ELEMENT),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tempty()\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync RelContainedInSpatialStructure(typeID, buildingStorey, elementsList) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcRelContainedInSpatialStructure(\r\n\t\t\tID,\r\n\t\t\ttypeID,\r\n\t\t\tstr(Math.random().toString(16).substr(2, 8)),\r\n\t\t\tempty(),\r\n\t\t\tstr(\"name\"),\r\n\t\t\tstr(\"description\"),\r\n\t\t\telementsList,\r\n\t\t\tbuildingStorey\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync RelAggregates(typeID, element, elementsList) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcRelAggregates(\r\n\t\t\tID,\r\n\t\t\ttypeID,\r\n\t\t\tstr(Math.random().toString(16).substr(2, 8)),\r\n\t\t\tempty(),\r\n\t\t\tstr(\"name\"),\r\n\t\t\tstr(\"description\"),\r\n\t\t\telement,\r\n\t\t\telementsList\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync Dir(o) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcDirection(ID, wIfc.IFCDIRECTION, [real(o.x), real(o.y), real(o.z)]);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync Point2D(o2D) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcCartesianPoint(ID, wIfc.IFCCARTESIANPOINT, [real(o.x), real(o.y)]);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync AxisPlacement(o) {\r\n\t\tconst locationID = await this.Point(o);\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcAxis2Placement3D(ID, wIfc.IFCAXIS2PLACEMENT3D, locationID, empty(), empty());\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync AxisPlacement2D(o) {\r\n\t\tconst locationID = await this.Point2D(o);\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcAxis2Placement2D(ID, wIfc.IFCAXIS2PLACEMENT2D, locationID, empty());\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync Placement(o) {\r\n\t\tconst axisID = await this.AxisPlacement(o);\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcLocalPlacement(ID, wIfc.IFCLOCALPLACEMENT, empty(), axisID);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync CircleProfile(rad, o) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcCircleProfileDef(\r\n\t\t\tID,\r\n\t\t\twIfc.IFCCIRCLEPROFILEDEF,\r\n\t\t\tenm(wIfc.IfcProfileTypeEnum.AREA),\r\n\t\t\tstr(\"column-prefab\"),\r\n\t\t\tawait this.AxisPlacement2D(o),\r\n\t\t\treal(rad)\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync Project(context, name, description) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcProject(\r\n\t\t\tID,\r\n\t\t\twIfc.IFCPROJECT,\r\n\t\t\tstr(Math.random().toString(16).substr(2, 8)),\r\n\t\t\tempty(),\r\n\t\t\tstr(name),\r\n\t\t\tstr(description),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\tempty(),\r\n\t\t\t[context],\r\n\t\t\tawait this.UnitAssignment()\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync RepresentationContext(pos, north) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcGeometricRepresentationContext(\r\n\t\t\tID,\r\n\t\t\twIfc.IFCGEOMETRICREPRESENTATIONCONTEXT,\r\n\t\t\tstr(\"Model\"),\r\n\t\t\tempty(),\r\n\t\t\treal(3),\r\n\t\t\treal(1e-5),\r\n\t\t\tawait this.AxisPlacement(pos),\r\n\t\t\tawait this.Dir(north)\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync RepresentationSubContext(context, identifier, description, enumerated) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcGeometricRepresentationSubContext(\r\n\t\t\tID,\r\n\t\t\twIfc.IFCGEOMETRICREPRESENTATIONSUBCONTEXT,\r\n\t\t\tstr(identifier),\r\n\t\t\tstr(description),\r\n\t\t\tstr(\"*\"),\r\n\t\t\tstr(\"*\"),\r\n\t\t\tstr(\"*\"),\r\n\t\t\tstr(\"*\"),\r\n\t\t\tcontext,\r\n\t\t\tempty(),\r\n\t\t\tenm(enumerated),\r\n\t\t\tempty()\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync UnitAssignment() {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst lst = [];\r\n\t\tlst.push(await this.SiUnit(enm(wIfc.IfcUnitEnum.LENGTHUNIT), enm(wIfc.IfcSIUnitName.METRE)));\r\n\t\tlst.push(await this.SiUnit(enm(wIfc.IfcUnitEnum.AREAUNIT), enm(wIfc.IfcSIUnitName.SQUARE_METRE)));\r\n\t\tlst.push(await this.SiUnit(enm(wIfc.IfcUnitEnum.VOLUMEUNIT), enm(wIfc.IfcSIUnitName.CUBIC_METRE)));\r\n\t\tlst.push(await this.SiUnit(enm(wIfc.IfcUnitEnum.MASSUNIT), enm(wIfc.IfcSIUnitName.GRAM)));\r\n\t\tlst.push(await this.SiUnit(enm(wIfc.IfcUnitEnum.SOLIDANGLEUNIT), enm(wIfc.IfcSIUnitName.STERADIAN)));\r\n\t\tlst.push(await this.SiUnit(enm(wIfc.IfcUnitEnum.TIMEUNIT), enm(wIfc.IfcSIUnitName.SECOND)));\r\n\t\tlst.push(\r\n\t\t\tawait this.SiUnit(\r\n\t\t\t\tenm(wIfc.IfcUnitEnum.THERMODYNAMICTEMPERATUREUNIT),\r\n\t\t\t\tenm(wIfc.IfcSIUnitName.DEGREE_CELSIUS)\r\n\t\t\t)\r\n\t\t);\r\n\t\tlst.push(await this.SiUnit(enm(wIfc.IfcUnitEnum.LUMINOUSINTENSITYUNIT), enm(wIfc.IfcSIUnitName.LUMEN)));\r\n\t\tconst pt = new wIfc.IfcUnitAssignment(ID, wIfc.IFCUNITASSIGNMENT, lst);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync SiUnit(unit, name) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcSIUnit(ID, wIfc.IFCSIUNIT, empty(), unit, empty(), name);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n\r\n\tasync ExtrudedAreaSolid(pos, dir, rad, len) {\r\n\t\tconst ID = this.maxID++;\r\n\t\tconst pt = new wIfc.IfcExtrudedAreaSolid(\r\n\t\t\tID,\r\n\t\t\twIfc.IFCEXTRUDEDAREASOLID,\r\n\t\t\tawait this.CircleProfile(rad, { x: 0, y: 0 }),\r\n\t\t\tawait this.AxisPlacement(pos),\r\n\t\t\tawait this.Dir(dir),\r\n\t\t\treal(len)\r\n\t\t);\r\n\t\tawait this.Write(pt);\r\n\t\treturn ref(ID);\r\n\t}\r\n}\r\n","import {\r\n\tdrawRect,\r\n\tdrawCircle,\r\n\tdrawArc,\r\n\tdrawLine,\r\n\tdrawMultiLine,\r\n\tdrawPolygon,\r\n\textrudeProfile,\r\n\tcopyElement,\r\n\tProfileModel,\r\n\tmeshProfile,\r\n} from \"../modeling\";\r\nimport { Tween } from \"@tweenjs/tween.js\";\r\nexport const typeModel = {\r\n\textrude: 1,\r\n\tsweep: 2,\r\n\trevolve: 3,\r\n\tgrid: 4,\r\n\tlevel: 5,\r\n};\r\n\r\nexport const drawList = {\r\n\tnone: 0,\r\n\trect: 1,\r\n\tcircle: 2,\r\n\tarc: 3,\r\n\tline: 4,\r\n\tmultiLine: 5,\r\n\tpolygon: 6,\r\n\talign: 7,\r\n\tcopy: 8,\r\n\ttrim: 9,\r\n\textend: 10,\r\n\tworkPlane: 11,\r\n};\r\nexport class ModelTypeClass {\r\n\tlistProfile = [];\r\n\tlistPointProfile = [];\r\n\tmeshProfile;\r\n\tconstructor(type, models, view, unit) {\r\n\t\tthis.view = view;\r\n\t\tthis.type = type;\r\n\t\tthis.models = models;\r\n\t\tthis.unit = unit;\r\n\t}\r\n\tdispose() {\r\n\t\tvar _this = this;\r\n\t\t_this.listProfile.forEach((c) => {\r\n\t\t\tc.userData.Location.remove(_this.view.scene);\r\n\t\t\tc.removeFromParent();\r\n\t\t});\r\n\t\t_this.listProfile = [];\r\n\t}\r\n\tdisposeMeshProfile() {\r\n\t\tif (this.meshProfile) {\r\n\t\t\tthis.listPointProfile = [];\r\n\t\t\tif (this.meshProfile.userData.OutLine) this.meshProfile.userData.OutLine.removeFromParent();\r\n\t\t\tthis.meshProfile.removeFromParent();\r\n\t\t\tthis.meshProfile = null;\r\n\t\t}\r\n\t}\r\n\tshowProfile(profile) {\r\n\t\tthis.listProfile = profile;\r\n\t\tfor (let i = 0; i < profile.length; i++) {\r\n\t\t\tthis.view.scene.add(profile[i]);\r\n\t\t}\r\n\t\tthis.disposeMeshProfile();\r\n\t}\r\n\tcreateProfileRect(btn, workPlane, callback) {\r\n\t\tvar _this = this;\r\n\t\tdrawRect(_this.view, _this.unit, btn, workPlane, (list) => {\r\n\t\t\t_this.listProfile = _this.listProfile.concat(list);\r\n\t\t\tcallback();\r\n\t\t});\r\n\t}\r\n\tcreateProfileCircle(btn, workPlane, callback) {\r\n\t\tvar _this = this;\r\n\t\tdrawCircle(_this.view, _this.unit, btn, workPlane, (list) => {\r\n\t\t\t_this.listProfile = _this.listProfile.concat(list);\r\n\t\t\tcallback();\r\n\t\t});\r\n\t}\r\n\tcreateProfileArc(btn, workPlane, callback) {\r\n\t\tvar _this = this;\r\n\t\tdrawArc(_this.view, _this.unit, btn, workPlane, (list) => {\r\n\t\t\t_this.listProfile = _this.listProfile.concat(list);\r\n\t\t\tcallback();\r\n\t\t});\r\n\t}\r\n\tcreateProfileLine(btn, workPlane, callback) {\r\n\t\tvar _this = this;\r\n\t\tdrawLine(_this.view, _this.unit, btn, workPlane, (list) => {\r\n\t\t\t_this.listProfile = _this.listProfile.concat(list);\r\n\t\t\tcallback();\r\n\t\t});\r\n\t}\r\n\tcreateProfileMultiLine(btn, workPlane, callback) {\r\n\t\tvar _this = this;\r\n\t\tdrawMultiLine(_this.view, _this.unit, btn, workPlane, (list) => {\r\n\t\t\t_this.listProfile = _this.listProfile.concat(list);\r\n\t\t\tcallback();\r\n\t\t});\r\n\t}\r\n\tcreateProfilePolygon(btn, workPlane, callback) {\r\n\t\tvar _this = this;\r\n\t\tdrawPolygon(_this.view, _this.unit, btn, workPlane, (list) => {\r\n\t\t\t_this.listProfile = _this.listProfile.concat(list);\r\n\t\t\tcallback();\r\n\t\t});\r\n\t}\r\n\r\n\tcanCreateProfile(callback) {\r\n\t\tvar _this = this;\r\n\t\t_this.listPointProfile = [];\r\n\t\t_this.meshProfile = null;\r\n\t\tProfileModel.conditionBound(_this.listProfile, (data) => {\r\n\t\t\tif (!data.result) {\r\n\t\t\t\tif (data.elements) {\r\n\t\t\t\t\tvar pos0 = _this.view.controls.target;\r\n\t\t\t\t\tvar pos1 = data.elements.userData.Location.Start.position;\r\n\t\t\t\t\tconst tween = new Tween({ pos: pos0 }).to({ pos: pos1 }, 200).onUpdate((coords) => {\r\n\t\t\t\t\t\t_this.view.controls.target = coords.pos;\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttween.start();\r\n\t\t\t\t}\r\n\t\t\t\tcallback(data.result, null);\r\n\t\t\t} else {\r\n\t\t\t\t_this.listPointProfile = ProfileModel.getListPointsProfile(_this.listProfile);\r\n\t\t\t\t_this.meshProfile = meshProfile(_this.listPointProfile, _this.view.scene);\r\n\t\t\t\tcallback(data.result, _this.listProfile);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tcreateExtrude(profile, deepExtrude, plane, material) {\r\n\t\tthis.dispose();\r\n\t\tvar offsetPs = [];\r\n\t\tfor (let i = 0; i < this.listPointProfile.length; i++) {\r\n\t\t\toffsetPs.push(\r\n\t\t\t\tthis.listPointProfile[i]\r\n\t\t\t\t\t.clone()\r\n\t\t\t\t\t.add(plane.normal.clone().multiplyScalar(deepExtrude * this.unit.factor))\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.models.push(\r\n\t\t\textrudeProfile(\r\n\t\t\t\tthis.listPointProfile,\r\n\t\t\t\toffsetPs,\r\n\t\t\t\tprofile,\r\n\t\t\t\tthis.meshProfile,\r\n\t\t\t\tmaterial,\r\n\t\t\t\tplane.normal,\r\n\t\t\t\tthis.view.scene\r\n\t\t\t)\r\n\t\t);\r\n\t\tthis.disposeMeshProfile();\r\n\t}\r\n\r\n\tstatic modifyCopyElement(btn, view, callback) {\r\n\t\tcopyElement(view, btn, () => {\r\n\t\t\tcallback();\r\n\t\t});\r\n\t}\r\n}\r\n","import { getColorRGB, ViewMaterial } from \"../material\";\r\nimport { GUI } from \"dat.gui\";\r\nimport { Plane, Vector3 } from \"three\";\r\nimport { CustomType } from \"../modeling\";\r\n\r\nexport class SettingModel {\r\n\tconstructor() {\r\n\t\tthis.opacity = 1;\r\n\t\tthis.dimension = false;\r\n\t}\r\n\r\n\tinit(documentModel, guiContainer) {\r\n\t\tvar view = documentModel.view;\r\n\t\tvar scene = documentModel.scene;\r\n\t\tfunction opacityCustomModel(opacity) {\r\n\t\t\tvar customModel = scene.children.filter((c) => c.userData.CustomModel);\r\n\t\t\tcustomModel.forEach((c) => {\r\n\t\t\t\tc.material.opacity = opacity;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.gui = new GUI({ autoPlace: false });\r\n\t\tguiContainer.appendChild(this.gui.domElement);\r\n\t\tconst generalFolder = this.gui.addFolder(\"General\");\r\n\t\tgeneralFolder.open();\r\n\t\tvar _this = this;\r\n\t\tgeneralFolder\r\n\t\t\t.add(_this, \"opacity\", 0, 1)\r\n\t\t\t.name(\"Opacity Model\")\r\n\t\t\t.onChange((value) => {\r\n\t\t\t\topacityCustomModel(value);\r\n\t\t\t});\r\n\t\tgeneralFolder\r\n\t\t\t.add(view, \"showDimension\")\r\n\t\t\t.name(\"Show Dimension\")\r\n\t\t\t.onChange((value) => {\r\n\t\t\t\tview.onShowDimension(value);\r\n\t\t\t});\r\n\t}\r\n}\r\n","export class UnitModel {\r\n\tconstructor(view) {\r\n\t\tthis.view = view;\r\n\t\tthis.mm = \"mm\";\r\n\t\tthis.m = \"m\";\r\n\t\tthis.factor = 1.0;\r\n\t\tthis.label = \"m\";\r\n\t}\r\n\tonChange(value) {\r\n\t\tthis.factor = value == this.m ? 1.0 : 0.001;\r\n\t\tthis.label = value;\r\n\t\tthis.view.onChangeDimensionLabel(this.factor);\r\n\t}\r\n}\r\n","import {\r\n\tVector2,\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tEdgesGeometry,\r\n\tLine,\r\n\tLineSegments,\r\n\tMesh,\r\n\tPlane,\r\n\tVector3,\r\n} from \"three\";\r\nimport { MeshBVH } from \"three-mesh-bvh\";\r\nimport { customMaterial, dimMaterial, PlaneModelMaterial } from \"../material\";\r\nimport {\r\n\tSNAP,\r\n\tgetLocalVectorOnFace,\r\n\tCSS,\r\n\tcastElement,\r\n\tfilterModel,\r\n\tfindFacePoints,\r\n\tintersectPointPlane,\r\n} from \"../modeling\";\r\nimport { createPoint } from \"../modeling/Location\";\r\n\r\nexport class WorkPlane {\r\n\tlistWorkPlanes = [];\r\n\twidth = 10;\r\n\tconstructor(view, unit) {\r\n\t\tthis.view = view;\r\n\t\tthis.unit = unit;\r\n\t\tthis.initListWorkPlanes();\r\n\t\tthis.initWorkPlane();\r\n\t\tthis.show = false;\r\n\t}\r\n\r\n\tinitItemWorkPlane(name, type, normal, point) {\r\n\t\tthis.listWorkPlanes.push({\r\n\t\t\tname: name,\r\n\t\t\ttype: type,\r\n\t\t\tnormal: normal,\r\n\t\t\tpoint: point,\r\n\t\t});\r\n\t}\r\n\tinitListWorkPlanes() {\r\n\t\tthis.initItemWorkPlane(\"XZ\", 0, new Vector3(0, 1, 0), new Vector3(0, 0, 0));\r\n\t\tthis.initItemWorkPlane(\"XY\", 1, new Vector3(0, 0, 1), new Vector3(0, 0, 0));\r\n\t\tthis.initItemWorkPlane(\"YZ\", 2, new Vector3(1, 0, 0), new Vector3(0, 0, 0));\r\n\t\tthis.initItemWorkPlane(\"Pick a Plane\", 3, new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\t}\r\n\tinitWorkPlane() {\r\n\t\tconst { point, normal } = this.listWorkPlanes[0];\r\n\t\tthis.origin = point;\r\n\t\tvar plane = new Plane(new Vector3(0, 1, 0), 0);\r\n\t\tthis.plane = plane.setFromNormalAndCoplanarPoint(normal, point);\r\n\t\tthis.planeMesh = this.initPlaneMesh();\r\n\t}\r\n\tinitPlaneMesh() {\r\n\t\tvar { points, gx, gz, snaps } = this.getAllPoints();\r\n\t\tvar geometry = new BufferGeometry().setFromPoints(points);\r\n\t\t// const mesh = new Mesh(geometry, PlaneModelMaterial.normalPlane);\r\n\t\tconst edges = new EdgesGeometry(geometry);\r\n\t\tconst mesh = new LineSegments(edges, customMaterial.normalLine);\r\n\t\t// mesh.userData.OutLine = line;\r\n\t\tconst { gridX, gridZ } = this.initGird(gx, gz);\r\n\t\tvar snapPoint = createPoint(this.origin, CSS.intersect);\r\n\t\tvar _this = this;\r\n\t\tmesh.userData.Grid = {\r\n\t\t\tgridX: gridX,\r\n\t\t\tgridZ: gridZ,\r\n\t\t\tsnaps: snaps,\r\n\t\t\tsnapPoint: snapPoint,\r\n\t\t\tvisibility: (visible) => {\r\n\t\t\t\tfor (let i = 0; i < mesh.userData.Grid.gridX.length; i++) {\r\n\t\t\t\t\tif (visible) {\r\n\t\t\t\t\t\t_this.view.scene.add(mesh.userData.Grid.gridX[i]);\r\n\t\t\t\t\t\t_this.view.scene.add(mesh.userData.Grid.gridZ[i]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmesh.userData.Grid.gridX[i].removeFromParent();\r\n\t\t\t\t\t\tmesh.userData.Grid.gridZ[i].removeFromParent();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetGrid: (gx, gz, snaps) => {\r\n\t\t\t\tfor (let i = 0; i < mesh.userData.Grid.gridX.length; i++) {\r\n\t\t\t\t\tmesh.userData.Grid.gridX[i].geometry = new BufferGeometry().setFromPoints([gx[i].start, gx[i].end]);\r\n\t\t\t\t\tmesh.userData.Grid.gridZ[i].geometry = new BufferGeometry().setFromPoints([gz[i].start, gz[i].end]);\r\n\t\t\t\t}\r\n\t\t\t\tmesh.userData.Grid.snaps = snaps;\r\n\t\t\t},\r\n\t\t\tsnapGrid: (p) => {\r\n\t\t\t\treturn mesh.userData.Grid.snaps.filter((s) => p.distanceTo(s) <= SNAP);\r\n\t\t\t},\r\n\t\t\tvisibilitySnap: (p) => {\r\n\t\t\t\tvar snap = mesh.userData.Grid.snapGrid(p)[0];\r\n\t\t\t\tmesh.userData.Grid.snapPoint.userData.visibility(_this.view.scene, snap != null);\r\n\t\t\t\tif (snap) {\r\n\t\t\t\t\tmesh.userData.Grid.snapPoint.userData.setPosition(snap);\r\n\t\t\t\t}\r\n\t\t\t\treturn snap;\r\n\t\t\t},\r\n\t\t\trefreshSnap: () => {\r\n\t\t\t\tmesh.userData.Grid.snapPoint.userData.visibility(_this.view.scene, false);\r\n\t\t\t},\r\n\t\t\trefreshGrid: () => {\r\n\t\t\t\tmesh.userData.Grid.snapPoint.removeFromParent();\r\n\t\t\t\tfor (let i = 0; i < mesh.userData.Grid.gridX.length; i++) {\r\n\t\t\t\t\tmesh.userData.Grid.gridX[i].removeFromParent();\r\n\t\t\t\t\tmesh.userData.Grid.gridZ[i].removeFromParent();\r\n\t\t\t\t}\r\n\t\t\t\t// mesh.userData.OutLine.removeFromParent();\r\n\t\t\t\tmesh.removeFromParent();\r\n\t\t\t},\r\n\t\t};\r\n\t\tmesh.geometry.computeBoundingBox();\r\n\t\tmesh.geometry.computeBoundingSphere();\r\n\t\tmesh.geometry.computeVertexNormals();\r\n\t\tmesh.geometry.boundsTree = new MeshBVH(mesh.geometry);\r\n\t\treturn mesh;\r\n\t}\r\n\tinitGird(gx, gz) {\r\n\t\tvar gridX = [];\r\n\t\tvar gridZ = [];\r\n\t\tfor (let i = 0; i < gx.length; i++) {\r\n\t\t\tvar geoX = new BufferGeometry().setFromPoints([gx[i].start, gx[i].end]);\r\n\t\t\tvar lx = new Line(geoX, dimMaterial.dotSnap);\r\n\t\t\tlx.computeLineDistances();\r\n\t\t\tgridX.push(lx);\r\n\t\t\tvar geoZ = new BufferGeometry().setFromPoints([gz[i].start, gz[i].end]);\r\n\t\t\tvar lz = new Line(geoZ, dimMaterial.dotSnap);\r\n\t\t\tlz.computeLineDistances();\r\n\t\t\tgridZ.push(lz);\r\n\t\t}\r\n\t\treturn { gridX: gridX, gridZ: gridZ };\r\n\t}\r\n\tgetAllPoints() {\r\n\t\tvar local = getLocalVectorOnFace(this.plane.normal);\r\n\t\tvar x = local.x.normalize();\r\n\t\tvar nx = x.clone().negate();\r\n\t\tvar z = local.z.normalize();\r\n\t\tvar nz = z.clone().negate();\r\n\t\tvar x1 = this.origin.clone().add(x.clone().multiplyScalar(this.width / 2));\r\n\t\tvar x2 = this.origin.clone().add(nx.clone().multiplyScalar(this.width / 2));\r\n\t\tvar z1 = this.origin.clone().add(z.clone().multiplyScalar(this.width / 2));\r\n\t\tvar z2 = this.origin.clone().add(nz.clone().multiplyScalar(this.width / 2));\r\n\t\tvar v1 = x2.clone().add(nz.clone().multiplyScalar(this.width / 2));\r\n\t\tvar v2 = x2.clone().add(z.clone().multiplyScalar(this.width / 2));\r\n\t\tvar v3 = x1.clone().add(z.clone().multiplyScalar(this.width / 2));\r\n\t\tvar v4 = x1.clone().add(nz.clone().multiplyScalar(this.width / 2));\r\n\t\tvar points = [];\r\n\t\tvar gx = [];\r\n\t\tvar gz = [];\r\n\t\tvar snaps = [];\r\n\t\tpoints.push(v1);\r\n\t\tpoints.push(v2);\r\n\t\tpoints.push(v3);\r\n\t\tpoints.push(v1);\r\n\t\tpoints.push(v3);\r\n\t\tpoints.push(v4);\r\n\t\tgx.push({ start: x1, end: x2 });\r\n\t\tgz.push({ start: z1, end: z2 });\r\n\t\tfor (let i = 1; i <= 5; i++) {\r\n\t\t\tvar x1S = x1.clone().add(z.clone().multiplyScalar((i * this.width) / 10));\r\n\t\t\tvar x1E = x2.clone().add(z.clone().multiplyScalar((i * this.width) / 10));\r\n\t\t\tvar x2S = x1.clone().add(nz.clone().multiplyScalar((i * this.width) / 10));\r\n\t\t\tvar x2E = x2.clone().add(nz.clone().multiplyScalar((i * this.width) / 10));\r\n\t\t\tvar z1S = z1.clone().add(x.clone().multiplyScalar((i * this.width) / 10));\r\n\t\t\tvar z1E = z2.clone().add(x.clone().multiplyScalar((i * this.width) / 10));\r\n\t\t\tvar z2S = z1.clone().add(nx.clone().multiplyScalar((i * this.width) / 10));\r\n\t\t\tvar z2E = z2.clone().add(nx.clone().multiplyScalar((i * this.width) / 10));\r\n\t\t\tgx.push({ start: x1S, end: x1E });\r\n\t\t\tgx.push({ start: x2S, end: x2E });\r\n\t\t\tgz.push({ start: z1S, end: z1E });\r\n\t\t\tz;\r\n\t\t\tgz.push({ start: z2S, end: z2E });\r\n\t\t}\r\n\t\tfor (let i = 0; i < 11; i++) {\r\n\t\t\tvar xSnap = v1.clone().add(z.clone().multiplyScalar((i * this.width) / 10));\r\n\t\t\tfor (let j = 0; j < 11; j++) {\r\n\t\t\t\tvar zSnap = xSnap.clone().add(x.clone().multiplyScalar((j * this.width) / 10));\r\n\t\t\t\tsnaps.push(zSnap);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { points: points, gx: gx, gz: gz, snaps: snaps };\r\n\t}\r\n\tpickPlane(callback) {\r\n\t\tvar _this = this;\r\n\t\tvar mouse = new Vector2();\r\n\t\tvar mesh;\r\n\t\tfunction pick() {\r\n\t\t\t_this.view.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\t\t_this.view.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t\t}\r\n\t\tfunction onkeydown(event) {\r\n\t\t\tvar keyCode = event.keyCode;\r\n\t\t\tif (keyCode == 27) {\r\n\t\t\t\tfinishCallBack(new Vector3(0, 0, 0), new Vector3(0, 1, 0));\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction onMouseDown(e) {\r\n\t\t\tconst found = castElement(e, _this.view, filterModel.export(_this.view.scene))[0];\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, _this.view, found, null);\r\n\t\t\tvar plane = intersect.plane;\r\n\t\t\tif (found && mesh) {\r\n\t\t\t\tfinishCallBack(found.point, plane.normal);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction onMouseMove(e) {\r\n\t\t\tconst found = castElement(e, _this.view, filterModel.export(_this.view.scene))[0];\r\n\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, _this.view, found, null);\r\n\t\t\tvar plane = intersect.plane;\r\n\t\t\tif (found) {\r\n\t\t\t\tvar points = findFacePoints(found.object, plane);\r\n\t\t\t\tvar geometry = new BufferGeometry().setFromPoints(points);\r\n\t\t\t\tif (!mesh) {\r\n\t\t\t\t\tmesh = new Mesh(geometry, PlaneModelMaterial.hoverPlane);\r\n\t\t\t\t\t_this.view.scene.add(mesh);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmesh.geometry = new BufferGeometry().setFromPoints(points);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (mesh) mesh.removeFromParent();\r\n\t\t\t\tmesh = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction finishCallBack(point, normal) {\r\n\t\t\tif (mesh) mesh.removeFromParent();\r\n\t\t\t_this.view.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\t\t_this.view.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\t\tcallback(point, normal);\r\n\t\t}\r\n\t\tpick();\r\n\t}\r\n\tsetWorkPlane(workPlaneType, callback) {\r\n\t\tvar point, normal;\r\n\t\tif (parseInt(workPlaneType) != 3) {\r\n\t\t\tpoint = this.listWorkPlanes[parseInt(workPlaneType)].point;\r\n\t\t\tnormal = this.listWorkPlanes[parseInt(workPlaneType)].normal;\r\n\t\t\tthis.origin = point;\r\n\t\t\tif (!this.plane) this.plane = new Plane(new Vector3(0, 1, 0), 0);\r\n\t\t\tthis.plane = this.plane.setFromNormalAndCoplanarPoint(normal, point);\r\n\t\t\tif (this.planeMesh) {\r\n\t\t\t\tthis.planeMesh.userData.Grid.refreshGrid();\r\n\t\t\t\tthis.planeMesh = null;\r\n\t\t\t}\r\n\t\t\tthis.planeMesh = this.initPlaneMesh();\r\n\t\t\tthis.showWorkPlane(true);\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tthis.pickPlane((point, normal) => {\r\n\t\t\t\tthis.origin = point;\r\n\t\t\t\tif (!this.plane) this.plane = new Plane(new Vector3(0, 1, 0), 0);\r\n\t\t\t\tthis.plane = this.plane.setFromNormalAndCoplanarPoint(normal, point);\r\n\t\t\t\tif (this.planeMesh) {\r\n\t\t\t\t\tthis.planeMesh.userData.Grid.refreshGrid();\r\n\t\t\t\t\tthis.planeMesh = null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.planeMesh = this.initPlaneMesh();\r\n\t\t\t\tthis.showWorkPlane(true);\r\n\t\t\t\tcallback();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tshowWorkPlane(visible) {\r\n\t\tthis.show = visible;\r\n\t\tif (this.show) {\r\n\t\t\t// this.view.scene.add(this.planeMesh.userData.OutLine);\r\n\t\t\tthis.view.scene.add(this.planeMesh);\r\n\t\t} else {\r\n\t\t\tthis.planeMesh.removeFromParent();\r\n\t\t\t// this.planeMesh.userData.OutLine.removeFromParent();\r\n\t\t}\r\n\t\tthis.planeMesh.userData.Grid.visibility(this.show);\r\n\t}\r\n}\r\n","export * from \"./ModelType\";\r\nexport * from \"./WorkPlane\";\r\nexport * from \"./SettingModel\";\r\nexport * from \"./UnitModel\";\r\nexport * from \"./ExportIFCModel\";\r\nexport * from \"./ExportBimModel\";\r\n","import {\r\n\tBufferGeometry,\r\n\tCurvePath,\r\n\tEdgesGeometry,\r\n\tExtrudeGeometry,\r\n\tLineCurve3,\r\n\tLineSegments,\r\n\tMesh,\r\n\tSphereGeometry,\r\n\tVector3,\r\n} from \"three\";\r\nimport { customMaterial } from \"../material\";\r\nimport {\r\n\tCSS,\r\n\tCustomType,\r\n\tDiaP,\r\n\tDIM_WIDTH,\r\n\tES,\r\n\tEXTEND_DIM,\r\n\textrudeSetting,\r\n\tinitShape,\r\n\tLINE_WIDTH,\r\n\tMAX_CIRCLE,\r\n\tOFFSET_DIM,\r\n\tSNAP,\r\n} from \"./enum\";\r\nimport { getMiddlePoint, areEqual } from \"./snap\";\r\nimport { CSS2DObject } from \"three/examples/jsm/renderers/CSS2DRenderer\";\r\nimport { MeshBVH } from \"three-mesh-bvh\";\r\n\r\nexport class LocationPoint {\r\n\tconstructor(p) {\r\n\t\tthis.p = p;\r\n\t\tthis.center = createPoint(this.p, CSS.intersect);\r\n\t}\r\n\tvisibility(parent, visible, p) {\r\n\t\tthis.center.userData.visLabel(visible);\r\n\t\tif (visible) {\r\n\t\t\tthis.center.userData.setPosition(p);\r\n\t\t\tparent.add(this.center);\r\n\t\t} else {\r\n\t\t\tthis.center.removeFromParent();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class LocationLine {\r\n\tconstructor(view, factor, line, pS, pE, normal) {\r\n\t\tthis.line = line;\r\n\t\tthis.Direction = new Vector3(pE.x - pS.x, pE.y - pS.y, pE.z - pS.z).normalize();\r\n\t\tthis.Start = createPoint(pS, CSS.endPoint);\r\n\t\tthis.Mid = createPoint(getMiddlePoint(pS, pE), CSS.middle);\r\n\t\tthis.End = createPoint(pE, CSS.endPoint);\r\n\t\tthis.Normal = normal;\r\n\t\tthis.Curves = new LineCurve3(pS, pE);\r\n\t\tthis.Dimension = LocationLine.createDimension(\r\n\t\t\tview,\r\n\t\t\tfactor,\r\n\t\t\tthis.line,\r\n\t\t\tgetMiddlePoint(pS, pE),\r\n\t\t\tpS,\r\n\t\t\tpE,\r\n\t\t\tthis.Normal\r\n\t\t);\r\n\t}\r\n\tonChange(pS, pE) {\r\n\t\tthis.Start.userData.setPosition(pS);\r\n\t\tthis.Mid.userData.setPosition(getMiddlePoint(pS, pE));\r\n\t\tthis.End.userData.setPosition(pE);\r\n\t\tthis.Curves = new LineCurve3(pS, pE);\r\n\t\tLocationLine.updateTempLine(pS, pE, this.line);\r\n\t\tthis.Dimension.userData.onChange(pS, pE, this.Normal);\r\n\t}\r\n\tremove(scene) {\r\n\t\tthis.Start.userData.visibility(scene, false);\r\n\t\tthis.End.userData.visibility(scene, false);\r\n\t\tthis.Mid.userData.visibility(scene, false);\r\n\t\tthis.Dimension.userData.visibility(scene, false);\r\n\t}\r\n\tisSelect(scene, visible) {\r\n\t\tthis.Start.userData.visibility(scene, visible);\r\n\t\tthis.Mid.userData.visibility(scene, visible);\r\n\t\tthis.End.userData.visibility(scene, visible);\r\n\t\tthis.line.material = visible ? this.line.userData.Material.Select : this.line.userData.Material.Normal;\r\n\t}\r\n\tisConnectStart(sameNormals) {\r\n\t\treturn isConnected(sameNormals, this.line, this.Start);\r\n\t}\r\n\tisConnectEnd(sameNormals) {\r\n\t\treturn isConnected(sameNormals, this.line, this.End);\r\n\t}\r\n\tstatic initLine(view, factor, pS, pE, normal, line) {\r\n\t\tline.userData.Type = CustomType.line;\r\n\t\tline.userData.Location = new LocationLine(view, factor, line, pS, pE, normal);\r\n\t}\r\n\tstatic createTempLine(pS, pE) {\r\n\t\tvar geometry = LocationLine.initGeometryLine(pS, pE);\r\n\t\tconst line = new Mesh(geometry, customMaterial.normalLine);\r\n\t\tline.geometry.computeBoundingBox();\r\n\t\tline.geometry.computeBoundingSphere();\r\n\t\tline.geometry.computeVertexNormals();\r\n\t\tline.geometry.boundsTree = new MeshBVH(line.geometry);\r\n\t\tline.renderOrder = 1;\r\n\t\tline.userData.Profile = true;\r\n\t\tline.userData.Material = {\r\n\t\t\tNormal: customMaterial.normalLine,\r\n\t\t\tSelect: customMaterial.selectLine,\r\n\t\t\tHover: customMaterial.hoverLine,\r\n\t\t};\r\n\r\n\t\treturn line;\r\n\t}\r\n\r\n\tstatic updateTempLine(pS, pE, line) {\r\n\t\tline.geometry = LocationLine.initGeometryLine(pS, pE);\r\n\t\tline.geometry.computeBoundingBox();\r\n\t\tline.geometry.computeBoundingSphere();\r\n\t\tline.geometry.computeVertexNormals();\r\n\t\tline.geometry.boundsTree = new MeshBVH(line.geometry);\r\n\t}\r\n\r\n\tstatic initGeometryLine(pS, pE) {\r\n\t\tvar curve = new LineCurve3(pS, pE);\r\n\t\tvar shape = initShape();\r\n\t\treturn new ExtrudeGeometry(shape, extrudeSetting(curve));\r\n\t}\r\n\tstatic createDimension(view, factor, line, p, p1, p2, normal) {\r\n\t\tvar input = document.createElement(\"input\");\r\n\t\tinput.className = \"dimension\";\r\n\t\tinput.value = Math.round((p1.distanceTo(p2) / factor) * 1000) / 1000;\r\n\t\tinput.addEventListener(\r\n\t\t\t\"change\",\r\n\t\t\tfunction (e) {\r\n\t\t\t\tonChangeDimension(e, factor);\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t\tvar label = new CSS2DObject(input);\r\n\t\tlabel.position.set(p.x, p.y, p.z);\r\n\t\tvar points = createPointGeometryDimension(p1, p2, normal);\r\n\t\tvar geometry = new BufferGeometry().setFromPoints(points);\r\n\t\tconst edges = new EdgesGeometry(geometry);\r\n\t\tconst segment = new LineSegments(edges, customMaterial.normalLine);\r\n\t\tsegment.userData.visLabel = (visible) => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tsegment.add(label);\r\n\t\t\t} else {\r\n\t\t\t\tlabel.removeFromParent();\r\n\t\t\t}\r\n\t\t};\r\n\t\tsegment.userData.onChange = (pS, pE, normal) => {\r\n\t\t\tvar pM = getMiddlePoint(pS, pE);\r\n\t\t\tlabel.position.set(pM.x, pM.y, pM.z);\r\n\t\t\tvar points = createPointGeometryDimension(pS, pE, normal);\r\n\t\t\tvar geometry = new BufferGeometry().setFromPoints(points);\r\n\t\t\tsegment.geometry = new EdgesGeometry(geometry);\r\n\t\t};\r\n\t\tsegment.userData.visibility = (scene, visible) => {\r\n\t\t\tsegment.userData.visLabel(visible);\r\n\t\t\tif (visible) {\r\n\t\t\t\tscene.add(segment);\r\n\t\t\t} else {\r\n\t\t\t\tsegment.removeFromParent();\r\n\t\t\t}\r\n\t\t};\r\n\t\tsegment.userData.visibility(view.scene, view.showDimension);\r\n\t\tsegment.userData.onChangeLabel = (factor) => {\r\n\t\t\tinput.value = input.value * (factor == 1.0 ? 0.001 : 1000);\r\n\t\t\tinput.addEventListener(\r\n\t\t\t\t\"change\",\r\n\t\t\t\tfunction (e) {\r\n\t\t\t\t\tonChangeDimension(e, factor);\r\n\t\t\t\t},\r\n\t\t\t\tfalse\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tfunction onChangeDimension(e, factor) {\r\n\t\t\tif (isNaN(parseFloat(e.target.value * 1.0))) return;\r\n\t\t\tvar dim = parseFloat(e.target.value * 1.0 * factor);\r\n\t\t\tvar pS = line.userData.Location.Start.position;\r\n\t\t\tvar dir = line.userData.Location.Direction;\r\n\t\t\tvar pE = pS.clone().add(dir.clone().multiplyScalar(dim));\r\n\t\t\tline.userData.Location.onChange(pS, pE);\r\n\t\t}\r\n\t\treturn segment;\r\n\t}\r\n}\r\n\r\nexport class LocationArc {\r\n\tconstructor(view, factor, arc, normal, angleArc, p0, pS) {\r\n\t\tthis.arc = arc;\r\n\t\tthis.Normal = normal;\r\n\t\tthis.AngleArc = angleArc;\r\n\t\tthis.Vertices = this.initVertices(p0, pS, normal, angleArc);\r\n\t\tthis.Direction = this.initDirection(p0, this.Vertices);\r\n\t\tthis.Start = createPoint(pS, CSS.endPoint);\r\n\t\tthis.Center = createPoint(p0, CSS.dot);\r\n\t\tthis.End = createPoint(LocationArc.getEndPointArc(p0, pS, normal, angleArc), CSS.endPoint);\r\n\t\tthis.Curves = LocationArc.initCurveArc(p0, pS, normal, angleArc);\r\n\t\tthis.Dimension = LocationArc.createDimension(view, factor, this.arc, p0, this.Vertices, normal);\r\n\t\tthis.AngleDimension = LocationArc.createAngleDimension(view, this.arc, p0, pS, normal, angleArc);\r\n\t}\r\n\tinitVertices(p0, pS, normal, angleArc) {\r\n\t\tvar dir = new Vector3(pS.x - p0.x, pS.y - p0.y, pS.z - p0.z).normalize();\r\n\t\tvar per = new Vector3(0, 0, 0).crossVectors(normal, dir).normalize();\r\n\t\treturn p0\r\n\t\t\t.clone()\r\n\t\t\t.add(dir.clone().multiplyScalar(Math.cos(angleArc / 2) * pS.distanceTo(p0)))\r\n\t\t\t.add(per.clone().multiplyScalar(Math.sin(angleArc / 2) * pS.distanceTo(p0)));\r\n\t}\r\n\tinitDirection(p0, vertices) {\r\n\t\treturn new Vector3(vertices.x - p0.x, vertices.y - p0.y, vertices.z - p0.z).normalize();\r\n\t}\r\n\tonChange(vertices) {\r\n\t\tif (vertices) this.Vertices = vertices;\r\n\t\tvar per = new Vector3(0, 0, 0).crossVectors(this.Normal, this.Direction).normalize();\r\n\t\tvar pS = this.Center.position\r\n\t\t\t.clone()\r\n\t\t\t.add(\r\n\t\t\t\tthis.Direction.clone().multiplyScalar(\r\n\t\t\t\t\tMath.cos(this.AngleArc / 2) * this.Center.position.distanceTo(this.Vertices)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t.add(\r\n\t\t\t\tper\r\n\t\t\t\t\t.clone()\r\n\t\t\t\t\t.multiplyScalar(-Math.sin(this.AngleArc / 2) * this.Center.position.distanceTo(this.Vertices))\r\n\t\t\t);\r\n\t\tthis.Start.userData.setPosition(pS);\r\n\t\tthis.End.userData.setPosition(LocationArc.getEndPointArc(this.Center.position, pS, this.Normal, this.AngleArc));\r\n\t\tthis.Curves = LocationArc.initCurveArc(this.Center.position, pS, this.Normal, this.AngleArc);\r\n\t\tLocationArc.updateTempArc(this.Center.position, pS, this.Normal, this.arc, this.AngleArc);\r\n\t\tthis.Dimension.userData.onChange(this.Center.position, this.Vertices, this.Normal);\r\n\t\tthis.AngleDimension.userData.onChange(this.Center.position, pS, this.Normal, this.AngleArc);\r\n\t}\r\n\tremove(scene) {\r\n\t\tthis.Start.userData.visibility(scene, false);\r\n\t\tthis.End.userData.visibility(scene, false);\r\n\t\tthis.Center.userData.visibility(scene, false);\r\n\t\tthis.Dimension.userData.visibility(scene, false);\r\n\t\tthis.AngleDimension.userData.visibility(scene, false);\r\n\t}\r\n\tisSelect(scene, visible) {\r\n\t\tthis.Start.userData.visibility(scene, visible);\r\n\t\tthis.Center.userData.visibility(scene, visible);\r\n\t\tthis.End.userData.visibility(scene, visible);\r\n\t\tthis.arc.material = visible ? this.arc.userData.Material.Select : this.arc.userData.Material.Normal;\r\n\t}\r\n\tisConnectStart(sameNormals) {\r\n\t\treturn isConnected(sameNormals, this.arc, this.Start);\r\n\t}\r\n\tisConnectEnd(sameNormals) {\r\n\t\treturn isConnected(sameNormals, this.arc, this.End);\r\n\t}\r\n\tstatic initArc(view, factor, p0, pS, normal, arc, angleArc) {\r\n\t\tarc.userData.Type = CustomType.arc;\r\n\t\tarc.userData.Location = new LocationArc(view, factor, arc, normal, angleArc, p0, pS);\r\n\t}\r\n\tstatic createTempArc(p0, p, normal, angleArc) {\r\n\t\tvar geometry = LocationArc.initGeometryArc(p0, p, normal, angleArc);\r\n\t\tconst arc = new Mesh(geometry, customMaterial.normalLine);\r\n\t\tarc.geometry.computeBoundingBox();\r\n\t\tarc.geometry.computeBoundingSphere();\r\n\t\tarc.geometry.computeVertexNormals();\r\n\t\tarc.geometry.boundsTree = new MeshBVH(arc.geometry);\r\n\t\tarc.renderOrder = 1;\r\n\t\tarc.userData.Profile = true;\r\n\t\tarc.userData.Material = {\r\n\t\t\tNormal: customMaterial.normalLine,\r\n\t\t\tSelect: customMaterial.selectLine,\r\n\t\t\tHover: customMaterial.hoverLine,\r\n\t\t};\r\n\t\treturn arc;\r\n\t}\r\n\tstatic updateTempArc(p0, p, normal, arc, angleArc) {\r\n\t\tarc.geometry = LocationArc.initGeometryArc(p0, p, normal, angleArc);\r\n\t\tarc.geometry.computeBoundingBox();\r\n\t\tarc.geometry.computeBoundingSphere();\r\n\t\tarc.geometry.computeVertexNormals();\r\n\t\tarc.geometry.boundsTree = new MeshBVH(arc.geometry);\r\n\t}\r\n\tstatic initGeometryArc(p0, p, normal, angleArc) {\r\n\t\tvar curve = LocationArc.initCurveArc(p0, p, normal, angleArc);\r\n\t\tvar shape = initShape();\r\n\t\treturn new ExtrudeGeometry(shape, extrudeSetting(curve));\r\n\t}\r\n\tstatic initCurveArc(p0, p, normal, angleArc) {\r\n\t\tvar r = p0.distanceTo(p);\r\n\t\tvar dir = new Vector3(p.x - p0.x, p.y - p0.y, p.z - p0.z).normalize();\r\n\t\tvar per = new Vector3(0, 0, 0).crossVectors(normal, dir).normalize();\r\n\t\tvar points = [];\r\n\t\tpoints.push(p);\r\n\t\tvar angle0 = angleArc / (MAX_CIRCLE / 2);\r\n\t\tfor (let i = 0; i < MAX_CIRCLE / 2; i++) {\r\n\t\t\tvar angle = (i + 1) * angle0;\r\n\t\t\tvar sin = Math.sin(angle);\r\n\t\t\tvar cos = Math.cos(angle);\r\n\t\t\tpoints.push(\r\n\t\t\t\tp0\r\n\t\t\t\t\t.clone()\r\n\t\t\t\t\t.add(dir.clone().multiplyScalar(cos * r))\r\n\t\t\t\t\t.add(per.clone().multiplyScalar(sin * r))\r\n\t\t\t);\r\n\t\t}\r\n\t\tvar curves = new CurvePath();\r\n\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\tif (i < points.length - 1) {\r\n\t\t\t\tcurves.add(new LineCurve3(points[i], points[i + 1]));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn curves;\r\n\t}\r\n\tstatic getEndPointArc(p0, p, normal, angleArc) {\r\n\t\tvar r = p0.distanceTo(p);\r\n\t\tvar dir = new Vector3(p.x - p0.x, p.y - p0.y, p.z - p0.z).normalize();\r\n\t\tvar per = new Vector3(0, 0, 0).crossVectors(normal, dir).normalize();\r\n\t\tvar sin = Math.sin(angleArc);\r\n\t\tvar cos = Math.cos(angleArc);\r\n\t\treturn p0\r\n\t\t\t.clone()\r\n\t\t\t.add(dir.clone().multiplyScalar(cos * r))\r\n\t\t\t.add(per.clone().multiplyScalar(sin * r));\r\n\t}\r\n\tstatic createDimension(view, factor, arc, p0, vertices, normal) {\r\n\t\tvar input = document.createElement(\"input\");\r\n\t\tinput.className = \"dimension\";\r\n\t\tinput.value = Math.round((p0.distanceTo(vertices) / factor) * 1000) / 1000;\r\n\t\tinput.addEventListener(\r\n\t\t\t\"change\",\r\n\t\t\tfunction (e) {\r\n\t\t\t\tonChangeDimension(e, factor);\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t\tvar label = new CSS2DObject(input);\r\n\t\tvar p = getMiddlePoint(p0, vertices);\r\n\t\tlabel.position.set(p.x, p.y, p.z);\r\n\t\tvar points = createPointGeometryArcDimension(p0, vertices, normal);\r\n\t\tvar geometry = new BufferGeometry().setFromPoints(points);\r\n\t\tconst edges = new EdgesGeometry(geometry);\r\n\t\tconst segment = new LineSegments(edges, customMaterial.normalLine);\r\n\t\tsegment.userData.visLabel = (visible) => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tsegment.add(label);\r\n\t\t\t} else {\r\n\t\t\t\tlabel.removeFromParent();\r\n\t\t\t}\r\n\t\t};\r\n\t\tsegment.userData.onChange = (p0, vertices, normal) => {\r\n\t\t\tvar p = getMiddlePoint(p0, vertices);\r\n\t\t\tlabel.position.set(p.x, p.y, p.z);\r\n\t\t\tvar points = createPointGeometryArcDimension(p0, vertices, normal);\r\n\t\t\tvar geometry = new BufferGeometry().setFromPoints(points);\r\n\t\t\tsegment.geometry = new EdgesGeometry(geometry);\r\n\t\t};\r\n\t\tsegment.userData.visibility = (scene, visible) => {\r\n\t\t\tsegment.userData.visLabel(visible);\r\n\t\t\tif (visible) {\r\n\t\t\t\tscene.add(segment);\r\n\t\t\t} else {\r\n\t\t\t\tsegment.removeFromParent();\r\n\t\t\t}\r\n\t\t};\r\n\t\tsegment.userData.visibility(view.scene, view.showDimension);\r\n\t\tsegment.userData.onChangeLabel = (factor) => {\r\n\t\t\tinput.value = input.value * (factor == 1.0 ? 0.001 : 1000);\r\n\t\t\tinput.addEventListener(\r\n\t\t\t\t\"change\",\r\n\t\t\t\tfunction (e) {\r\n\t\t\t\t\tonChangeDimension(e, factor);\r\n\t\t\t\t},\r\n\t\t\t\tfalse\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tfunction onChangeDimension(e, factor) {\r\n\t\t\tif (isNaN(parseFloat(e.target.value * 1.0))) return;\r\n\t\t\tvar dim = parseFloat(e.target.value * 1.0 * factor);\r\n\t\t\tvar pS = arc.userData.Location.Center.position;\r\n\t\t\tvar dir = arc.userData.Location.Direction;\r\n\t\t\tvar vertices = pS.clone().add(dir.clone().multiplyScalar(dim));\r\n\t\t\tarc.userData.Location.onChange(vertices);\r\n\t\t}\r\n\t\treturn segment;\r\n\t}\r\n\tstatic createAngleDimension(view, arc, p0, p1, normal, angleArc) {\r\n\t\tvar input = document.createElement(\"input\");\r\n\t\tinput.className = \"angle\";\r\n\t\tinput.value = Math.round(((angleArc * 180) / Math.PI) * 1000) / 1000;\r\n\t\tinput.addEventListener(\"change\", onChangeAngleDimension, false);\r\n\t\tvar label = new CSS2DObject(input);\r\n\t\tlabel.position.set(p0.x, p0.y, p0.z);\r\n\t\tvar points = createPointGeometryArcDimension(p0, p1, normal);\r\n\t\tvar r = p0.distanceTo(p1);\r\n\t\tvar dir = new Vector3(p1.x - p0.x, p1.y - p0.y, p1.z - p0.z).normalize();\r\n\t\tvar per = new Vector3(0, 0, 0).crossVectors(normal, dir).normalize();\r\n\t\tvar p2 = p0\r\n\t\t\t.clone()\r\n\t\t\t.add(dir.clone().multiplyScalar(Math.cos(angleArc) * r))\r\n\t\t\t.add(per.clone().multiplyScalar(Math.sin(angleArc) * r));\r\n\t\tpoints = points.concat(createPointGeometryArcDimension(p0, p2, normal));\r\n\t\tvar geometry = new BufferGeometry().setFromPoints(points);\r\n\t\tconst edges = new EdgesGeometry(geometry);\r\n\t\tconst segment = new LineSegments(edges, customMaterial.normalLine);\r\n\t\tsegment.userData.visLabel = (visible) => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tsegment.add(label);\r\n\t\t\t} else {\r\n\t\t\t\tlabel.removeFromParent();\r\n\t\t\t}\r\n\t\t};\r\n\t\tsegment.userData.onChange = (p0, p1, normal, angleArc) => {\r\n\t\t\tvar points = createPointGeometryArcDimension(p0, p1, normal);\r\n\t\t\tvar r = p0.distanceTo(p1);\r\n\t\t\tvar dir = new Vector3(p1.x - p0.x, p1.y - p0.y, p1.z - p0.z).normalize();\r\n\t\t\tvar per = new Vector3(0, 0, 0).crossVectors(normal, dir).normalize();\r\n\t\t\tvar p2 = p0\r\n\t\t\t\t.clone()\r\n\t\t\t\t.add(dir.clone().multiplyScalar(Math.cos(angleArc) * r))\r\n\t\t\t\t.add(per.clone().multiplyScalar(Math.sin(angleArc) * r));\r\n\t\t\tpoints = points.concat(createPointGeometryArcDimension(p0, p2, normal));\r\n\t\t\tvar geometry = new BufferGeometry().setFromPoints(points);\r\n\t\t\tsegment.geometry = new EdgesGeometry(geometry);\r\n\t\t};\r\n\t\tsegment.userData.visibility = (scene, visible) => {\r\n\t\t\tsegment.userData.visLabel(visible);\r\n\t\t\tif (visible) {\r\n\t\t\t\tscene.add(segment);\r\n\t\t\t} else {\r\n\t\t\t\tsegment.removeFromParent();\r\n\t\t\t}\r\n\t\t};\r\n\t\tsegment.userData.visibility(view.scene, view.showDimension);\r\n\t\tsegment.userData.onChangeLabel = () => {\r\n\t\t\tinput.addEventListener(\"change\", onChangeAngleDimension, false);\r\n\t\t};\r\n\t\tfunction onChangeAngleDimension(e) {\r\n\t\t\tif (isNaN(parseInt(e.target.value))) return;\r\n\t\t\tvar angle = (parseInt(e.target.value) * Math.PI) / 180;\r\n\t\t\tarc.userData.Location.AngleArc = angle;\r\n\t\t\tarc.userData.Location.onChange();\r\n\t\t}\r\n\t\treturn segment;\r\n\t}\r\n}\r\n\r\nexport class ProfileModel {\r\n\tstatic conditionBound(listProfile, callback) {\r\n\t\tif (listProfile.length == 0) return callback({ result: false, elements: null });\r\n\t\tif (listProfile.length == 1) return callback({ result: false, elements: listProfile[0] });\r\n\t\tfor (let i = 0; i < listProfile.length; i++) {\r\n\t\t\tvar e = listProfile[i];\r\n\t\t\tif (!e.userData.Location.isConnectStart(listProfile) || !e.userData.Location.isConnectEnd(listProfile))\r\n\t\t\t\treturn callback({ result: false, elements: e });\r\n\t\t}\r\n\t\treturn callback({ result: true });\r\n\t}\r\n\tstatic getListCurvesProfile(listProfile) {\r\n\t\tvar curves = [];\r\n\t\tfor (let i = 0; i < listProfile.length; i++) {\r\n\t\t\tif (listProfile[i].userData.Location.Curves) {\r\n\t\t\t\tif (listProfile[i].userData.Type == CustomType.line) {\r\n\t\t\t\t\tcurves.push(listProfile[i].userData.Location.Curves);\r\n\t\t\t\t}\r\n\t\t\t\tif (listProfile[i].userData.Type == CustomType.arc) {\r\n\t\t\t\t\tfor (let j = 0; j < listProfile[i].userData.Location.Curves.curves.length; j++) {\r\n\t\t\t\t\t\tcurves.push(listProfile[i].userData.Location.Curves.curves[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn curves;\r\n\t}\r\n\tstatic getListPointsProfile(listProfile) {\r\n\t\tvar curves = ProfileModel.getListCurvesProfile(listProfile);\r\n\t\tvar points = [];\r\n\t\tfor (let i = 0; i < curves.length; i++) {\r\n\t\t\tpoints.push(curves[i].v1);\r\n\t\t\tpoints.push(curves[i].v2);\r\n\t\t}\r\n\t\tpoints = points.filter((value, index, self) => self.findIndex((p) => p.distanceTo(value) < ES) === index);\r\n\t\treturn points;\r\n\t}\r\n}\r\nfunction isConnected(sameNormals, mesh, point) {\r\n\tvar dif = [...sameNormals];\r\n\tdif.splice(dif.indexOf(mesh), 1);\r\n\tif (dif.length == sameNormals.length) return false;\r\n\tvar connect = [];\r\n\tfor (let j = 0; j < dif.length; j++) {\r\n\t\tvar disEnd1 = point.position.distanceTo(dif[j].userData.Location.Start.position);\r\n\t\tvar disEnd2 = point.position.distanceTo(dif[j].userData.Location.End.position);\r\n\t\tif (areEqual(disEnd1, 0.0, 1e-6) || areEqual(disEnd2, 0.0, 1e-6)) {\r\n\t\t\tconnect.push(dif[j]);\r\n\t\t}\r\n\t}\r\n\treturn connect.length == 1;\r\n}\r\nexport function createPoint(p, css) {\r\n\tvar div = document.createElement(\"div\");\r\n\tdiv.className = css;\r\n\tvar label = new CSS2DObject(div);\r\n\t// label.position.set(p.x, p.y, p.z);\r\n\tconst geometry = new SphereGeometry(DiaP / 2, 32, 16);\r\n\tvar point = new Mesh(geometry, customMaterial.pointNormal);\r\n\tpoint.position.set(p.x, p.y, p.z);\r\n\tpoint.userData.Type = CustomType.point;\r\n\tpoint.userData.visLabel = (visible) => {\r\n\t\tif (visible) {\r\n\t\t\tpoint.add(label);\r\n\t\t} else {\r\n\t\t\tlabel.removeFromParent();\r\n\t\t}\r\n\t};\r\n\tpoint.userData.setPosition = (pS) => {\r\n\t\tpoint.position.set(pS.x, pS.y, pS.z);\r\n\t};\r\n\tpoint.userData.visibility = (scene, visible) => {\r\n\t\tpoint.userData.visLabel(visible);\r\n\t\tif (visible) {\r\n\t\t\tscene.add(point);\r\n\t\t} else {\r\n\t\t\tpoint.removeFromParent();\r\n\t\t}\r\n\t};\r\n\r\n\treturn point;\r\n}\r\n\r\nexport function createPointGeometryDimension(pS, pE, normal) {\r\n\tvar points = [];\r\n\tvar dir = new Vector3(pE.x - pS.x, pE.y - pS.y, pE.z - pS.z).normalize();\r\n\tvar nDir = dir.clone().negate();\r\n\tvar per = new Vector3(0, 0, 0).crossVectors(normal, dir).normalize();\r\n\tvar voS = pS.clone().add(per.clone().multiplyScalar(OFFSET_DIM));\r\n\tvar voE = pE.clone().add(per.clone().multiplyScalar(OFFSET_DIM));\r\n\tvar v1 = pS\r\n\t\t.clone()\r\n\t\t.add(nDir.clone().multiplyScalar(DIM_WIDTH / 2))\r\n\t\t.add(per.clone().multiplyScalar(OFFSET_DIM / 2));\r\n\tvar v2 = pS\r\n\t\t.clone()\r\n\t\t.add(dir.clone().multiplyScalar(DIM_WIDTH / 2))\r\n\t\t.add(per.clone().multiplyScalar(OFFSET_DIM / 2));\r\n\tvar v3 = v2.clone().add(per.clone().multiplyScalar(OFFSET_DIM / 2 + EXTEND_DIM));\r\n\tvar v4 = v1.clone().add(per.clone().multiplyScalar(OFFSET_DIM / 2 + EXTEND_DIM));\r\n\tpoints.push(v1);\r\n\tpoints.push(v2);\r\n\tpoints.push(v3);\r\n\tpoints.push(v1);\r\n\tpoints.push(v3);\r\n\tpoints.push(v4);\r\n\tvar v5 = pE\r\n\t\t.clone()\r\n\t\t.add(nDir.clone().multiplyScalar(DIM_WIDTH / 2))\r\n\t\t.add(per.clone().multiplyScalar(OFFSET_DIM / 2));\r\n\tvar v6 = pE\r\n\t\t.clone()\r\n\t\t.add(dir.clone().multiplyScalar(DIM_WIDTH / 2))\r\n\t\t.add(per.clone().multiplyScalar(OFFSET_DIM / 2));\r\n\tvar v7 = v6.clone().add(per.clone().multiplyScalar(OFFSET_DIM / 2 + EXTEND_DIM));\r\n\tvar v8 = v5.clone().add(per.clone().multiplyScalar(OFFSET_DIM / 2 + EXTEND_DIM));\r\n\tpoints.push(v5);\r\n\tpoints.push(v6);\r\n\tpoints.push(v7);\r\n\tpoints.push(v5);\r\n\tpoints.push(v7);\r\n\tpoints.push(v8);\r\n\tvar v9 = voS\r\n\t\t.clone()\r\n\t\t.add(per.clone().multiplyScalar(DIM_WIDTH / 2))\r\n\t\t.add(nDir.clone().multiplyScalar(EXTEND_DIM));\r\n\tvar v10 = v9.clone().add(per.clone().multiplyScalar(-DIM_WIDTH));\r\n\tvar v11 = voE\r\n\t\t.clone()\r\n\t\t.add(per.clone().multiplyScalar(DIM_WIDTH / 2))\r\n\t\t.add(dir.clone().multiplyScalar(EXTEND_DIM));\r\n\tvar v12 = v11.clone().add(per.clone().multiplyScalar(-DIM_WIDTH));\r\n\tpoints.push(v9);\r\n\tpoints.push(v10);\r\n\tpoints.push(v12);\r\n\tpoints.push(v9);\r\n\tpoints.push(v12);\r\n\tpoints.push(v11);\r\n\treturn points;\r\n}\r\nexport function createPointGeometryArcDimension(pS, pE, normal) {\r\n\tvar points = [];\r\n\tvar dir = new Vector3(pE.x - pS.x, pE.y - pS.y, pE.z - pS.z).normalize();\r\n\tvar per = new Vector3(0, 0, 0).crossVectors(normal, dir).normalize();\r\n\tvar v1 = pS.clone().add(per.clone().multiplyScalar(DIM_WIDTH / 2));\r\n\tvar v2 = pS.clone().add(per.clone().multiplyScalar(-DIM_WIDTH / 2));\r\n\tvar v3 = pE.clone().add(per.clone().multiplyScalar(-DIM_WIDTH / 2));\r\n\tvar v4 = pE.clone().add(per.clone().multiplyScalar(DIM_WIDTH / 2));\r\n\tpoints.push(v1);\r\n\tpoints.push(v2);\r\n\tpoints.push(v3);\r\n\tpoints.push(v1);\r\n\tpoints.push(v3);\r\n\tpoints.push(v4);\r\n\treturn points;\r\n}\r\n","import { CustomType } from \"./enum\";\r\n\r\nexport const filterModel = {\r\n\tmodel: (scene) => {\r\n\t\treturn scene.children.filter((e) => (CustomType.isModel(e) || CustomType.isProfile(e)) && e.visible);\r\n\t},\r\n\texport: (scene) => {\r\n\t\treturn scene.children.filter((e) => CustomType.isModel(e) && e.visible);\r\n\t},\r\n};\r\nexport function castElement(event, view, filter) {\r\n\tconst bounds = view.domElement.getBoundingClientRect();\r\n\tconst x1 = event.clientX - bounds.left;\r\n\tconst y1 = event.clientY - bounds.top;\r\n\tconst x2 = bounds.right - bounds.left;\r\n\tconst y2 = bounds.bottom - bounds.top;\r\n\tview.mouse.x = (x1 / x2) * 2 - 1;\r\n\tview.mouse.y = -(y1 / y2) * 2 + 1;\r\n\tview.rayCaster.setFromCamera(view.mouse, view.camera);\r\n\treturn view.rayCaster.intersectObjects(filter);\r\n}\r\nexport function changeCursor() {\r\n\treturn {\r\n\t\tdefault: (domElement) => {\r\n\t\t\tdomElement.style.cursor = \"default\";\r\n\t\t},\r\n\t\tpointer: (domElement) => {\r\n\t\t\tdomElement.style.cursor = \"pointer\";\r\n\t\t},\r\n\t\tmove: (domElement) => {\r\n\t\t\tdomElement.style.cursor = \"move\";\r\n\t\t},\r\n\t\tcrosshair: (domElement) => {\r\n\t\t\tdomElement.style.cursor = \"crosshair\";\r\n\t\t},\r\n\t\talias: (domElement) => {\r\n\t\t\tdomElement.style.cursor = \"alias\";\r\n\t\t},\r\n\t\textrude: (domElement) => {\r\n\t\t\tdomElement.style.cursor = \"row-resize\";\r\n\t\t},\r\n\t\tnotAllowed: (domElement) => {\r\n\t\t\tdomElement.style.cursor = \"not-allowed\";\r\n\t\t},\r\n\t};\r\n}\r\n","import { BufferAttribute, BufferGeometry, Mesh, Vector2, Vector3, EdgesGeometry, LineSegments } from \"three\";\r\nimport { customMaterial } from \"../../material\";\r\nimport { castElement, changeCursor, filterModel } from \"../cast\";\r\nimport { MAX_POINTS } from \"../enum\";\r\n// import { setPropertyPolyGon } from \"../setProperty\";\r\nimport { intersectPointPlane } from \"../snap\";\r\nimport { MeshBVH } from \"three-mesh-bvh\";\r\nexport function drawPolyGon(view, btn, callback) {\r\n\tvar count = 0;\r\n\tvar mouse = new Vector2();\r\n\tvar p0 = new Vector3();\r\n\tvar p = new Vector3();\r\n\tvar points = [];\r\n\tvar plane;\r\n\tvar mesh = createPolyGonSlab(points, view);\r\n\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tview.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tbtn.style.background = \"none\";\r\n\t\tchangeCursor().default(view.domElement);\r\n\t\tmesh.removeFromParent();\r\n\t\tmesh.userData.OutLine.removeFromParent();\r\n\t\tif (keyCode == 27) {\r\n\t\t\tcallback(null);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (keyCode == 13) {\r\n\t\t\tif (count <= 2) {\r\n\t\t\t\tcallback(null);\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tpoints.push(p0);\r\n\t\t\t\tvar polyGon = createPolyGonSlab(points, view);\r\n\t\t\t\tpolyGon.geometry.computeBoundingBox();\r\n\t\t\t\tpolyGon.geometry.computeBoundingSphere();\r\n\t\t\t\tpolyGon.geometry.computeVertexNormals();\r\n\t\t\t\tpolyGon.geometry.boundsTree = new MeshBVH(polyGon.geometry);\r\n\t\t\t\tcallback(polyGon);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tasync function onMouseDown(e) {\r\n\t\tconst found = castElement(e, view, filterModel.model(view.scene))[0];\r\n\t\tif (count === 0) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, found, null);\r\n\t\t\tp0 = intersect.point;\r\n\t\t\tplane = intersect.plane;\r\n\r\n\t\t\tpoints.push(p0);\r\n\t\t} else {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tvar point = intersect.point;\r\n\t\t\tpoints.push(point);\r\n\t\t}\r\n\t\tupdatePolyGon(mesh, points);\r\n\t\tcount++;\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tchangeCursor().crosshair(view.domElement);\r\n\t\tif (count != 0) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp = intersect.point;\r\n\r\n\t\t\tvar newPoints = [...points, p, p0];\r\n\t\t\tupdatePolyGon(mesh, newPoints);\r\n\t\t}\r\n\t}\r\n\tdraw();\r\n}\r\nfunction createPolyGonSlab(points, view) {\r\n\tvar positions = new Float32Array(MAX_POINTS * 3);\r\n\tfor (let i = 0; i < points.length - 1; i++) {\r\n\t\tpositions[i * 3] = points[i].x;\r\n\t\tpositions[i * 3 + 1] = points[i].y;\r\n\t\tpositions[i * 3 + 2] = points[i].z;\r\n\t}\r\n\tvar geometry = new BufferGeometry();\r\n\tgeometry.setAttribute(\"position\", new BufferAttribute(positions, 3));\r\n\tgeometry.setDrawRange(0, 3 * (points.length - 3));\r\n\tvar indices = [];\r\n\tfor (let i = 0; i < points.length - 3; i++) {\r\n\t\tindices.push(0);\r\n\t\tindices.push(i + 1);\r\n\t\tindices.push(i + 2);\r\n\t}\r\n\tgeometry.setIndex(indices);\r\n\r\n\tvar mesh = new Mesh(geometry, customMaterial.normalModel);\r\n\tconst edges = new EdgesGeometry(geometry);\r\n\tconst line = new LineSegments(edges, customMaterial.normalLine);\r\n\tview.scene.add(line);\r\n\tview.scene.add(mesh);\r\n\r\n\tsetPropertyPolyGon(mesh, line);\r\n\treturn mesh;\r\n}\r\nfunction updatePolyGon(object, polyPoints) {\r\n\tvar corePositions = object.geometry.attributes.position.array;\r\n\tfor (let i = 0; i < polyPoints.length; i++) {\r\n\t\tcorePositions[i * 3] = polyPoints[i].x;\r\n\t\tcorePositions[i * 3 + 1] = polyPoints[i].y;\r\n\t\tcorePositions[i * 3 + 2] = polyPoints[i].z;\r\n\t}\r\n\tobject.geometry.attributes.position.needsUpdate = true;\r\n\tobject.geometry.setDrawRange(0, 3 * (polyPoints.length - 2));\r\n\tvar indices = [];\r\n\tfor (let i = 0; i < polyPoints.length - 2; i++) {\r\n\t\tindices.push(0);\r\n\t\tindices.push(i + 1);\r\n\t\tindices.push(i + 2);\r\n\t}\r\n\tobject.geometry.setIndex(indices);\r\n\tobject.userData.OutLine.geometry = new EdgesGeometry(object.geometry);\r\n}\r\n","import { BufferGeometry, EdgesGeometry, Plane, Vector2, Vector3 } from \"three\";\r\nimport { MeshBVH } from \"three-mesh-bvh\";\r\nimport { findPointFromFace, intersectPointOriginPlane, getOldPoints } from \"../snap\";\r\nimport { castElement, changeCursor, filterModel } from \"../cast\";\r\nimport { ES, MIN_DIS } from \"../enum\";\r\n\r\nexport function drawExtrude(view, btn, callback) {\r\n\tvar mouse = new Vector2();\r\n\tvar extrude = false;\r\n\tvar plane = false;\r\n\tvar p0;\r\n\tvar pM;\r\n\tvar equalPoints = [];\r\n\tvar equalIndex = [];\r\n\tvar perPoints = [];\r\n\tvar perIndex = [];\r\n\tvar notEqualPoints = [];\r\n\tvar mesh;\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"mousedown\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mouseup\", onMouseUp, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tif (keyCode == 27 || keyCode == 13) {\r\n\t\t\tfinishCallBack();\r\n\t\t}\r\n\t}\r\n\tfunction onMouseDown(e) {\r\n\t\tconst found = castElement(e, view, filterModel.model(view.scene))[0];\r\n\t\tif (found) {\r\n\t\t\tif (!plane) plane = new Plane(new Vector3(0, 1, 0), 0);\r\n\t\t\tplane = plane.setFromNormalAndCoplanarPoint(found.face.normal, found.point);\r\n\t\t\tp0 = found.point;\r\n\t\t\tvar fromFace = findPointFromFace(found.object, plane);\r\n\t\t\tequalPoints = fromFace.equalPoints;\r\n\t\t\tequalIndex = fromFace.equalIndex;\r\n\t\t\tperPoints = fromFace.perPoints;\r\n\t\t\tperIndex = fromFace.perIndex;\r\n\t\t\tnotEqualPoints = fromFace.notEqualPoints;\r\n\t\t\tmesh = found.object;\r\n\t\t\tconsole.log(equalPoints);\r\n\t\t} else {\r\n\t\t\tplane = null;\r\n\t\t\tequalPoints = [];\r\n\t\t\tequalIndex = [];\r\n\t\t\tperPoints = [];\r\n\t\t\tperIndex = [];\r\n\t\t\tnotEqualPoints = [];\r\n\t\t\tmesh = null;\r\n\t\t}\r\n\t\textrude = true;\r\n\t}\r\n\tfunction onMouseUp(e) {\r\n\t\textrude = false;\r\n\t\tplane = null;\r\n\t\tp0 = null;\r\n\t\tequalPoints = [];\r\n\t\tequalIndex = [];\r\n\t\tperPoints = [];\r\n\t\tperIndex = [];\r\n\t\tnotEqualPoints = [];\r\n\t\tif (mesh) {\r\n\t\t\tmesh.userData.isExtrude = true;\r\n\t\t}\r\n\t\tview.controls.mouseButtons.LEFT = 0;\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tconst found = castElement(e, view, filterModel.model(view.scene))[0];\r\n\t\tif (found) {\r\n\t\t\tchangeCursor().extrude(view.domElement);\r\n\t\t} else {\r\n\t\t\tchangeCursor().default(view.domElement);\r\n\t\t}\r\n\t\tview.controls.enabled = plane == null;\r\n\t\tif (extrude && plane) {\r\n\t\t\tpM = intersectPointOriginPlane(e, mouse, view, plane, p0);\r\n\t\t\tvar dis = plane.distanceToPoint(pM);\r\n\t\t\tstaticExtrude(dis);\r\n\t\t}\r\n\t}\r\n\tfunction staticExtrude(dis) {\r\n\t\tif (equalPoints.length > 0 && mesh) {\r\n\t\t\tif (!mesh.userData.isExtrude) {\r\n\t\t\t\tvar newEqualPoints = equalPoints.filter(\r\n\t\t\t\t\t(value, index, self) => self.findIndex((m) => m.distanceTo(value) < ES) === index\r\n\t\t\t\t);\r\n\t\t\t\tvar newPoints = offsetPointFromFace(newEqualPoints, dis, plane.normal, false);\r\n\t\t\t\tmesh.geometry = new BufferGeometry().setFromPoints(newPoints);\r\n\t\t\t} else {\r\n\t\t\t\tvar newPoints = offsetPointFromFace(equalPoints, dis, plane.normal, true);\r\n\r\n\t\t\t\tif (perPoints.length == equalPoints.length * 2) {\r\n\t\t\t\t\tvar newPerPoints = offsetPointFromFace(perPoints, dis, plane.normal, true);\r\n\t\t\t\t\tupdateVerticesExtrude(mesh, equalIndex, perIndex, newPoints, newPerPoints);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(equalPoints.length);\r\n\t\t\t\t\tvar addNewPoints = getAddNewPoints(equalPoints, notEqualPoints, newPoints);\r\n\t\t\t\t\tmesh.geometry = new BufferGeometry().setFromPoints(addNewPoints);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tmesh.geometry.computeBoundingBox();\r\n\t\t\tmesh.geometry.computeBoundingSphere();\r\n\t\t\tmesh.geometry.computeVertexNormals();\r\n\t\t\tmesh.geometry.boundsTree = new MeshBVH(mesh.geometry);\r\n\t\t\tmesh.userData.OutLine.geometry = new EdgesGeometry(mesh.geometry);\r\n\t\t}\r\n\t}\r\n\tfunction finishCallBack() {\r\n\t\tchangeCursor().default(view.domElement);\r\n\t\tview.controls.enabled = true;\r\n\t\tbtn.style.background = \"none\";\r\n\t\tview.domElement.removeEventListener(\"mousedown\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mouseup\", onMouseUp);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tcallback();\r\n\t}\r\n\tdraw();\r\n}\r\nfunction getAddNewPoints(equalPoints, notEqualPoints, newPoints) {\r\n\tvar p0 = [...equalPoints];\r\n\tvar pN = [...newPoints];\r\n\tp0 = p0.filter((value, index, self) => self.findIndex((m) => m.distanceTo(value) < ES) === index);\r\n\tpN = pN.filter((value, index, self) => self.findIndex((m) => m.distanceTo(value) < ES) === index);\r\n\tvar ps = [...notEqualPoints];\r\n\tfor (let i = 0; i < p0.length; i++) {\r\n\t\tif (i == p0.length - 1) {\r\n\t\t\tps.push(p0[i]);\r\n\t\t\tps.push(p0[0]);\r\n\t\t\tps.push(pN[0]);\r\n\t\t\tps.push(p0[i]);\r\n\t\t\tps.push(pN[0]);\r\n\t\t\tps.push(pN[i]);\r\n\t\t} else {\r\n\t\t\tps.push(p0[i]);\r\n\t\t\tps.push(p0[i + 1]);\r\n\t\t\tps.push(pN[i + 1]);\r\n\t\t\tps.push(p0[i]);\r\n\t\t\tps.push(pN[i + 1]);\r\n\t\t\tps.push(pN[i]);\r\n\t\t}\r\n\t}\r\n\treturn ps;\r\n}\r\nfunction offsetPointFromFace(points, dis, normal, isExtrude) {\r\n\tvar ps = [];\r\n\tvar newPs = [];\r\n\tfor (let i = 0; i < points.length; i++) {\r\n\t\tnewPs.push(points[i].clone().add(normal.clone().multiplyScalar(dis)));\r\n\t}\r\n\tif (isExtrude) {\r\n\t\treturn newPs;\r\n\t} else {\r\n\t\tfor (let i = 0; i < points.length - 2; i++) {\r\n\t\t\tps.push(points[0]);\r\n\t\t\tps.push(points[i + 1]);\r\n\t\t\tps.push(points[i + 2]);\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < newPs.length - 2; i++) {\r\n\t\t\tps.push(newPs[0]);\r\n\t\t\tps.push(newPs[i + 1]);\r\n\t\t\tps.push(newPs[i + 2]);\r\n\t\t}\r\n\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\tif (i == points.length - 1) {\r\n\t\t\t\tps.push(points[i]);\r\n\t\t\t\tps.push(points[0]);\r\n\t\t\t\tps.push(newPs[0]);\r\n\t\t\t\tps.push(points[i]);\r\n\t\t\t\tps.push(newPs[0]);\r\n\t\t\t\tps.push(newPs[i]);\r\n\t\t\t} else {\r\n\t\t\t\tps.push(points[i]);\r\n\t\t\t\tps.push(points[i + 1]);\r\n\t\t\t\tps.push(newPs[i + 1]);\r\n\t\t\t\tps.push(points[i]);\r\n\t\t\t\tps.push(newPs[i + 1]);\r\n\t\t\t\tps.push(newPs[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn ps;\r\n}\r\nfunction updateVerticesExtrude(mesh, equalIndex, perIndex, newPoints, newPerPoints) {\r\n\tvar pos0 = mesh.geometry.attributes.position;\r\n\tfor (let i = 0; i < equalIndex.length; i++) {\r\n\t\tpos0.setX(equalIndex[i], newPoints[i].x);\r\n\t\tpos0.setY(equalIndex[i], newPoints[i].y);\r\n\t\tpos0.setZ(equalIndex[i], newPoints[i].z);\r\n\t}\r\n\tfor (let i = 0; i < perIndex.length; i++) {\r\n\t\tpos0.setX(perIndex[i], newPerPoints[i].x);\r\n\t\tpos0.setY(perIndex[i], newPerPoints[i].y);\r\n\t\tpos0.setZ(perIndex[i], newPerPoints[i].z);\r\n\t}\r\n\tmesh.geometry.attributes.position.needsUpdate = true;\r\n}\r\n","import { Vector2, Vector3 } from \"three\";\r\nimport { changeCursor } from \"./cast\";\r\nimport { MIN_DIS } from \"./enum\";\r\nimport { LocationArc, LocationLine } from \"./Location\";\r\nimport {\r\n\tsnapPoint,\r\n\tintersectPointPlane,\r\n\tgetLocalVectorOnFace,\r\n\tgetProjectPointFrom3Point,\r\n\tgetMiddlePoint,\r\n\tareEqualVector,\r\n\tareEqual,\r\n} from \"./snap\";\r\n\r\nexport function drawArc(view, unit, btn, workPlane, callback) {\r\n\tconst { plane } = workPlane;\r\n\tconst { factor } = unit;\r\n\tvar count = 0;\r\n\tvar mouse = new Vector2();\r\n\tvar p1 = new Vector3();\r\n\tvar p2 = new Vector3();\r\n\tvar p3 = new Vector3();\r\n\tvar arc, snap;\r\n\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tif (keyCode == 27) {\r\n\t\t\tcount = 0;\r\n\t\t\tif (arc) {\r\n\t\t\t\tarc.removeFromParent();\r\n\t\t\t}\r\n\r\n\t\t\tfinishCallBack([]);\r\n\t\t}\r\n\t}\r\n\tfunction onMouseDown(e) {\r\n\t\tif (count == 0) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp1 = intersect.point;\r\n\t\t\tif (snap) p1 = snap;\r\n\t\t}\r\n\t\tif (count == 1) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t}\r\n\t\tif (count == 2) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp3 = intersect.point;\r\n\t\t\tif (snap) p3 = snap;\r\n\t\t\tvar pro = getProjectPointFrom3Point(p1, p2, p3);\r\n\t\t\tvar d0 = p1.distanceTo(p2);\r\n\t\t\tvar d1 = p3.distanceTo(pro);\r\n\t\t\tvar dir = new Vector3(p2.x - p1.x, p2.y - p1.y, p2.z - p1.z).normalize();\r\n\t\t\tvar per = new Vector3(0, 0, 0).crossVectors(plane.normal, dir).normalize();\r\n\t\t\tvar v0 = new Vector3(pro.x - p3.x, pro.y - p3.y, pro.z - p3.z).normalize();\r\n\t\t\tvar mid = getMiddlePoint(p1, p2);\r\n\t\t\tvar d2 = Math.sqrt(d1 * d1 + (d0 * d0) / 4);\r\n\t\t\tvar d3 = (d2 * d2) / (2 * d1) - d1;\r\n\t\t\tvar p0, angleArc;\r\n\t\t\tif (d1 > d0 / 2) {\r\n\t\t\t\tp0 = mid.add(v0.clone().multiplyScalar(-Math.abs(d3)));\r\n\t\t\t\tangleArc = 2 * Math.PI - 2 * Math.atan((d0 * 0.5) / Math.abs(d3));\r\n\t\t\t} else {\r\n\t\t\t\tp0 = mid.add(v0.clone().multiplyScalar(Math.abs(d3)));\r\n\t\t\t\tangleArc = 2 * Math.atan((d0 * 0.5) / Math.abs(d3));\r\n\t\t\t}\r\n\t\t\tvar pS = areEqual(v0.angleTo(per), 0.0, 1e-6) ? p1 : p2;\r\n\t\t\tLocationArc.initArc(view, factor, p0, pS, plane.normal, arc, angleArc);\r\n\t\t}\r\n\t\tcount++;\r\n\t\tif (count == 3) {\r\n\t\t\tfinishCallBack([arc]);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tchangeCursor().crosshair(view.domElement);\r\n\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\tvar p = intersect.point;\r\n\r\n\t\tsnap = snapPoint(workPlane, view, p);\r\n\t\tif (count == 1) {\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tvar dis = p1.distanceTo(p2);\r\n\t\t\tif (view.isOrthoLine) {\r\n\t\t\t\tvar local = getLocalVectorOnFace(plane.normal);\r\n\t\t\t\tvar dir = new Vector3(p2.x - p1.x, p2.y - p1.y, p2.z - p1.z);\r\n\t\t\t\tvar angleZ = dir.angleTo(local.z);\r\n\t\t\t\tvar angleX = dir.angleTo(local.x);\r\n\t\t\t\tif (angleZ < Math.PI / 4 || angleZ > (Math.PI * 3) / 4) {\r\n\t\t\t\t\tp2 = p1.clone().add(local.z.normalize().multiplyScalar(Math.cos(angleZ) * dis));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tp2 = p1.clone().add(local.x.normalize().multiplyScalar(Math.cos(angleX) * dis));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t\tif (!arc) {\r\n\t\t\t\tarc = LocationLine.createTempLine(p1, p2);\r\n\t\t\t\tview.scene.add(arc);\r\n\t\t\t} else {\r\n\t\t\t\tLocationLine.updateTempLine(p1, p2, arc);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (count == 2) {\r\n\t\t\tp3 = intersect.point;\r\n\t\t\tif (snap) p3 = snap;\r\n\t\t\tvar pro = getProjectPointFrom3Point(p1, p2, p3);\r\n\t\t\tvar d0 = p1.distanceTo(p2);\r\n\t\t\tvar d1 = p3.distanceTo(pro);\r\n\t\t\tvar dir = new Vector3(p2.x - p1.x, p2.y - p1.y, p2.z - p1.z).normalize();\r\n\t\t\tvar per = new Vector3(0, 0, 0).crossVectors(plane.normal, dir).normalize();\r\n\t\t\tif (d1 > d0 * 0.1) {\r\n\t\t\t\tvar v0 = new Vector3(pro.x - p3.x, pro.y - p3.y, pro.z - p3.z).normalize();\r\n\t\t\t\tvar mid = getMiddlePoint(p1, p2);\r\n\t\t\t\tvar d2 = Math.sqrt(d1 * d1 + (d0 * d0) / 4);\r\n\t\t\t\tvar d3 = (d2 * d2) / (2 * d1) - d1;\r\n\t\t\t\tvar p0, angleArc;\r\n\t\t\t\tif (d1 > d0 / 2) {\r\n\t\t\t\t\tp0 = mid.add(v0.clone().multiplyScalar(-Math.abs(d3)));\r\n\t\t\t\t\tangleArc = 2 * Math.PI - 2 * Math.atan((d0 * 0.5) / Math.abs(d3));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tp0 = mid.add(v0.clone().multiplyScalar(Math.abs(d3)));\r\n\t\t\t\t\tangleArc = 2 * Math.atan((d0 * 0.5) / Math.abs(d3));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar pS = areEqual(v0.angleTo(per), 0.0, 1e-6) ? p1 : p2;\r\n\t\t\t\tLocationArc.updateTempArc(p0, pS, plane.normal, arc, angleArc);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (count == 3) {\r\n\t\t\tchangeCursor().default(view.domElement);\r\n\t\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\t}\r\n\t}\r\n\tfunction finishCallBack(list) {\r\n\t\tchangeCursor().default(view.domElement);\r\n\t\tsnap = workPlane.planeMesh.userData.Grid.refreshSnap();\r\n\t\tbtn.style.background = \"none\";\r\n\t\tview.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tcallback(list);\r\n\t}\r\n\r\n\tdraw();\r\n}\r\n","import { Vector2, Vector3 } from \"three\";\r\nimport { changeCursor } from \"./cast\";\r\nimport { MIN_DIS } from \"./enum\";\r\nimport { LocationArc } from \"./Location\";\r\nimport { snapPoint, intersectPointPlane } from \"./snap\";\r\n\r\nexport function drawCircle(view, unit, btn, workPlane, callback) {\r\n\tconst { plane } = workPlane;\r\n\tconst { factor } = unit;\r\n\tvar count = 2;\r\n\tvar mouse = new Vector2();\r\n\tvar p1 = new Vector3();\r\n\tvar p2 = new Vector3();\r\n\tvar p3 = new Vector3();\r\n\tvar arc1, arc2, snap;\r\n\tvar angleArc = Math.PI;\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tif (keyCode == 27) {\r\n\t\t\tcount = 0;\r\n\t\t\tif (arc1 && arc2) {\r\n\t\t\t\tarc1.removeFromParent();\r\n\t\t\t\tarc2.removeFromParent();\r\n\t\t\t}\r\n\t\t\tfinishCallBack([]);\r\n\t\t}\r\n\t}\r\n\tfunction onMouseDown(e) {\r\n\t\tif (count == 2) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp1 = intersect.point;\r\n\t\t\tif (snap) p1 = snap;\r\n\t\t}\r\n\t\tif (count == 1) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t\tvar dis = p1.distanceTo(p2);\r\n\t\t\tvar dir = new Vector3(p2.x - p1.x, p2.y - p1.y, p2.z - p1.z).normalize();\r\n\t\t\tp3 = p1.clone().add(dir.clone().multiplyScalar(-dis));\r\n\t\t}\r\n\t\tcount--;\r\n\t\tif (count == 0) {\r\n\t\t\tLocationArc.initArc(view, factor, p1, p2, plane.normal, arc1, angleArc);\r\n\t\t\tLocationArc.initArc(view, factor, p1, p3, plane.normal, arc2, angleArc);\r\n\t\t\tfinishCallBack([arc1, arc2]);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tchangeCursor().crosshair(view.domElement);\r\n\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\tvar p = intersect.point;\r\n\r\n\t\tsnap = snapPoint(workPlane, view, p);\r\n\t\tif (count == 1) {\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tif (snap) p2 = snap;\r\n\r\n\t\t\tvar dis = p1.distanceTo(p2);\r\n\t\t\tvar dir = new Vector3(p2.x - p1.x, p2.y - p1.y, p2.z - p1.z).normalize();\r\n\t\t\tp3 = p1.clone().add(dir.clone().multiplyScalar(-dis));\r\n\t\t\tif (dis > MIN_DIS) {\r\n\t\t\t\tif (!arc1 && !arc2) {\r\n\t\t\t\t\tarc1 = LocationArc.createTempArc(p1, p2, plane.normal, angleArc);\r\n\t\t\t\t\tarc2 = LocationArc.createTempArc(p1, p3, plane.normal, angleArc);\r\n\t\t\t\t\tview.scene.add(arc1);\r\n\t\t\t\t\tview.scene.add(arc2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLocationArc.updateTempArc(p1, p2, plane.normal, arc1, angleArc);\r\n\t\t\t\t\tLocationArc.updateTempArc(p1, p3, plane.normal, arc2, angleArc);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (count == 0) {\r\n\t\t\tchangeCursor().default(view.domElement);\r\n\t\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\t}\r\n\t}\r\n\tfunction finishCallBack(list) {\r\n\t\tchangeCursor().default(view.domElement);\r\n\t\tsnap = workPlane.planeMesh.userData.Grid.refreshSnap();\r\n\t\tbtn.style.background = \"none\";\r\n\t\tview.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tcallback(list);\r\n\t}\r\n\r\n\tdraw();\r\n}\r\n","import { Vector2, Vector3 } from \"three\";\r\nimport { changeCursor } from \"./cast\";\r\nimport { LocationLine } from \"./Location\";\r\nimport { getLocalVectorOnFace, intersectPointPlane, snapPoint } from \"./snap\";\r\n\r\nexport function drawLine(view, unit, btn, workPlane, callback) {\r\n\tconst { plane } = workPlane;\r\n\tconst { factor } = unit;\r\n\tvar count = 2;\r\n\tvar mouse = new Vector2();\r\n\tvar p1 = new Vector3();\r\n\tvar p2 = new Vector3();\r\n\tvar line, snap;\r\n\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tif (keyCode == 27) {\r\n\t\t\tcount = 0;\r\n\t\t\tif (line) {\r\n\t\t\t\tline.removeFromParent();\r\n\t\t\t}\r\n\t\t\tfinishCallBack([]);\r\n\t\t}\r\n\t}\r\n\tfunction onMouseDown(e) {\r\n\t\tif (count == 2) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp1 = intersect.point;\r\n\t\t\tif (snap) p1 = snap;\r\n\t\t}\r\n\t\tif (count == 1) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t}\r\n\t\tcount--;\r\n\t\tif (count == 0) {\r\n\t\t\tLocationLine.initLine(view, factor, p1, p2, plane.normal, line);\r\n\t\t\tfinishCallBack([line]);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tchangeCursor().crosshair(view.domElement);\r\n\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\tvar p = intersect.point;\r\n\r\n\t\tsnap = snapPoint(workPlane, view, p);\r\n\t\tif (count == 1) {\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tvar dis = p1.distanceTo(p2);\r\n\t\t\tif (view.isOrthoLine) {\r\n\t\t\t\tvar local = getLocalVectorOnFace(plane.normal);\r\n\t\t\t\tvar dir = new Vector3(p2.x - p1.x, p2.y - p1.y, p2.z - p1.z);\r\n\t\t\t\tvar angleZ = dir.angleTo(local.z);\r\n\t\t\t\tvar angleX = dir.angleTo(local.x);\r\n\t\t\t\tif (angleZ < Math.PI / 4 || angleZ > (Math.PI * 3) / 4) {\r\n\t\t\t\t\tp2 = p1.clone().add(local.z.normalize().multiplyScalar(Math.cos(angleZ) * dis));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tp2 = p1.clone().add(local.x.normalize().multiplyScalar(Math.cos(angleX) * dis));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t\tif (!line) {\r\n\t\t\t\tline = LocationLine.createTempLine(p1, p2);\r\n\t\t\t\tview.scene.add(line);\r\n\t\t\t} else {\r\n\t\t\t\tLocationLine.updateTempLine(p1, p2, line);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (count == 0) {\r\n\t\t\tchangeCursor().default(view.domElement);\r\n\t\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\t}\r\n\t}\r\n\tfunction finishCallBack(list) {\r\n\t\tchangeCursor().default(view.domElement);\r\n\t\tsnap = workPlane.planeMesh.userData.Grid.refreshSnap();\r\n\t\tbtn.style.background = \"none\";\r\n\t\tview.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tcallback(list);\r\n\t}\r\n\r\n\tdraw();\r\n}\r\n","import { Vector2, Vector3 } from \"three\";\r\nimport { changeCursor } from \"./cast\";\r\nimport { LocationLine } from \"./Location\";\r\nimport { snapPoint, intersectPointPlane } from \"./snap\";\r\n\r\nexport function drawMultiLine(view, unit, btn, workPlane, callback) {\r\n\tconst { plane } = workPlane;\r\n\tconst { factor } = unit;\r\n\tvar count = 0;\r\n\tvar mouse = new Vector2();\r\n\tvar p1 = new Vector3(0, 0, 0);\r\n\tvar p2 = new Vector3(0, 0, 0);\r\n\tvar line, tempLine, snap;\r\n\tvar list = [];\r\n\tvar generate = false;\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tif (keyCode == 27 || keyCode == 13) {\r\n\t\t\tif (tempLine) {\r\n\t\t\t\ttempLine.removeFromParent();\r\n\t\t\t}\r\n\t\t\tfinishCallBack();\r\n\t\t}\r\n\t}\r\n\tfunction onMouseDown(e) {\r\n\t\tif (count == 0) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp1 = intersect.point;\r\n\t\t\tif (snap) p1 = snap;\r\n\t\t} else {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t\tif (!line) {\r\n\t\t\t\tline = LocationLine.createTempLine(p1, p2);\r\n\t\t\t\tview.scene.add(line);\r\n\t\t\t}\r\n\t\t\tLocationLine.initLine(view, factor, p1, p2, plane.normal, line);\r\n\t\t\tlist.push(line);\r\n\t\t\tp1 = p2;\r\n\t\t\tline = null;\r\n\t\t}\r\n\t\tcount++;\r\n\t\tgenerate = true;\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tchangeCursor().crosshair(view.domElement);\r\n\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\tvar p = intersect.point;\r\n\t\tsnap = snapPoint(workPlane, view, p);\r\n\r\n\t\tp2 = intersect.point;\r\n\t\tif (snap) p2 = snap;\r\n\r\n\t\tif (generate) {\r\n\t\t\tif (!tempLine) {\r\n\t\t\t\ttempLine = LocationLine.createTempLine(p1, p2);\r\n\t\t\t\tview.scene.add(tempLine);\r\n\t\t\t} else {\r\n\t\t\t\tLocationLine.updateTempLine(p1, p2, tempLine);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction finishCallBack() {\r\n\t\tchangeCursor().default(view.domElement);\r\n\t\tsnap = workPlane.planeMesh.userData.Grid.refreshSnap();\r\n\t\tbtn.style.background = \"none\";\r\n\t\tview.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tcallback(list);\r\n\t}\r\n\r\n\tdraw();\r\n}\r\n","import { Vector2, Vector3 } from \"three\";\r\nimport { changeCursor } from \"./cast\";\r\nimport { MIN_DIS } from \"./enum\";\r\nimport { LocationLine } from \"./Location\";\r\nimport { snapPoint, getLocalVectorOnFace, getProjectPointFromVector, intersectPointPlane } from \"./snap\";\r\n\r\nexport function drawPolygon(view, unit, btn, workPlane, callback) {\r\n\tconst { plane } = workPlane;\r\n\tconst { label, factor } = unit;\r\n\tvar count = 2;\r\n\tvar mouse = new Vector2();\r\n\tvar p1 = new Vector3();\r\n\tvar p2 = new Vector3();\r\n\tvar poly = [],\r\n\t\tsnap,\r\n\t\tedge = 3;\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tif (keyCode == 27) {\r\n\t\t\tcount = 0;\r\n\t\t\tpoly.forEach((p) => p.removeFromParent());\r\n\t\t\tpoly = [];\r\n\t\t\tfinishCallBack(poly);\r\n\t\t}\r\n\t}\r\n\tfunction onMouseDown(e) {\r\n\t\tif (count == 2) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp1 = intersect.point;\r\n\t\t\tif (snap) p1 = snap;\r\n\t\t\tedge = window.prompt(\"Enter number of edge\", edge);\r\n\t\t\tif (isNaN(parseInt(edge)) || parseInt(edge) <= 2) edge = 3;\r\n\t\t}\r\n\t\tif (count == 1) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t\tvar dis = p1.distanceTo(p2);\r\n\t\t\tvar points = generatePoints(dis);\r\n\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\tvar v1, v2;\r\n\t\t\t\tif (i == points.length - 1) {\r\n\t\t\t\t\tv1 = points[i];\r\n\t\t\t\t\tv2 = points[0];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tv1 = points[i];\r\n\t\t\t\t\tv2 = points[i + 1];\r\n\t\t\t\t}\r\n\t\t\t\tLocationLine.initLine(view, factor, v1, v2, plane.normal, poly[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcount--;\r\n\t\tif (count == 0) {\r\n\t\t\tfinishCallBack(poly);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tchangeCursor().crosshair(view.domElement);\r\n\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\tvar p = intersect.point;\r\n\r\n\t\tsnap = snapPoint(workPlane, view, p);\r\n\t\tif (count == 1) {\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t\tvar dis = p1.distanceTo(p2);\r\n\t\t\tif (dis > MIN_DIS) {\r\n\t\t\t\tvar points = generatePoints(dis);\r\n\t\t\t\tif (poly.length === 0) {\r\n\t\t\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\t\t\tvar v1, v2;\r\n\t\t\t\t\t\tif (i == points.length - 1) {\r\n\t\t\t\t\t\t\tv1 = points[i];\r\n\t\t\t\t\t\t\tv2 = points[0];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tv1 = points[i];\r\n\t\t\t\t\t\t\tv2 = points[i + 1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar l = LocationLine.createTempLine(v1, v2);\r\n\t\t\t\t\t\tview.scene.add(l);\r\n\t\t\t\t\t\tpoly.push(l);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\t\t\tvar v1, v2;\r\n\t\t\t\t\t\tif (i == points.length - 1) {\r\n\t\t\t\t\t\t\tv1 = points[i];\r\n\t\t\t\t\t\t\tv2 = points[0];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tv1 = points[i];\r\n\t\t\t\t\t\t\tv2 = points[i + 1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tLocationLine.updateTempLine(v1, v2, poly[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (count == 0) {\r\n\t\t\tchangeCursor().default(view.domElement);\r\n\t\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\t}\r\n\t}\r\n\tfunction finishCallBack(list) {\r\n\t\tchangeCursor().default(view.domElement);\r\n\t\tsnap = workPlane.planeMesh.userData.Grid.refreshSnap();\r\n\t\tbtn.style.background = \"none\";\r\n\t\tview.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tcallback(list);\r\n\t}\r\n\tfunction generatePoints(dis) {\r\n\t\tvar dir = new Vector3(p2.x - p1.x, p2.y - p1.y, p2.z - p1.z).normalize();\r\n\t\tvar per = new Vector3(0, 0, 0).crossVectors(plane.normal, dir).normalize();\r\n\t\tvar points = [];\r\n\t\tfor (let i = 0; i < edge; i++) {\r\n\t\t\tvar angle = (i * 2 * Math.PI) / edge;\r\n\t\t\tvar sin = Math.sin(angle);\r\n\t\t\tvar cos = Math.cos(angle);\r\n\t\t\tpoints.push(\r\n\t\t\t\tp1\r\n\t\t\t\t\t.clone()\r\n\t\t\t\t\t.add(dir.clone().multiplyScalar(cos * dis))\r\n\t\t\t\t\t.add(per.clone().multiplyScalar(sin * dis))\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn points;\r\n\t}\r\n\r\n\tdraw();\r\n}\r\n","import { Vector2, Vector3 } from \"three\";\r\nimport { changeCursor } from \"./cast\";\r\nimport { MIN_DIS } from \"./enum\";\r\nimport { LocationLine } from \"./Location\";\r\nimport { snapPoint, getLocalVectorOnFace, getProjectPointFromVector, intersectPointPlane } from \"./snap\";\r\n\r\nexport function drawRect(view, unit, btn, workPlane, callback) {\r\n\tconst { plane } = workPlane;\r\n\tconst { label, factor } = unit;\r\n\tvar count = 2;\r\n\tvar mouse = new Vector2();\r\n\tvar p1 = new Vector3();\r\n\tvar p2 = new Vector3();\r\n\tvar l1, l2, l3, l4, snap;\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tif (keyCode == 27) {\r\n\t\t\tcount = 0;\r\n\t\t\tif (l1 && l2 && l3 && l4) {\r\n\t\t\t\tl1.removeFromParent();\r\n\t\t\t\tl2.removeFromParent();\r\n\t\t\t\tl3.removeFromParent();\r\n\t\t\t\tl4.removeFromParent();\r\n\t\t\t}\r\n\t\t\tfinishCallBack([]);\r\n\t\t}\r\n\t}\r\n\tfunction onMouseDown(e) {\r\n\t\tif (count == 2) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp1 = intersect.point;\r\n\r\n\t\t\tif (snap) p1 = snap;\r\n\t\t\tvar length = window.prompt(\"Enter Length\", label);\r\n\t\t\tif (!isNaN(parseFloat(length * 1.0)) && length) {\r\n\t\t\t\tvar width = window.prompt(\"Enter Width\", label);\r\n\t\t\t\tif (!isNaN(parseFloat(width * 1.0))) {\r\n\t\t\t\t\tvar local = getLocalVectorOnFace(plane.normal);\r\n\t\t\t\t\tvar v1 = p1.clone();\r\n\t\t\t\t\tvar v2 = p1.clone().add(local.z.clone().multiplyScalar(width * factor));\r\n\t\t\t\t\tvar v3 = v2.clone().add(local.x.clone().multiplyScalar(length * factor));\r\n\t\t\t\t\tvar v4 = p1.clone().add(local.x.clone().multiplyScalar(length * factor));\r\n\t\t\t\t\tif (!l1 && !l2 && !l3 && !l4) {\r\n\t\t\t\t\t\tl1 = LocationLine.createTempLine(v1, v2);\r\n\t\t\t\t\t\tl2 = LocationLine.createTempLine(v2, v3);\r\n\t\t\t\t\t\tl3 = LocationLine.createTempLine(v3, v4);\r\n\t\t\t\t\t\tl4 = LocationLine.createTempLine(v4, v1);\r\n\t\t\t\t\t\tview.scene.add(l1);\r\n\t\t\t\t\t\tview.scene.add(l2);\r\n\t\t\t\t\t\tview.scene.add(l3);\r\n\t\t\t\t\t\tview.scene.add(l4);\r\n\t\t\t\t\t\tLocationLine.initLine(view, factor, v1, v2, plane.normal, l1);\r\n\t\t\t\t\t\tLocationLine.initLine(view, factor, v2, v3, plane.normal, l2);\r\n\t\t\t\t\t\tLocationLine.initLine(view, factor, v3, v4, plane.normal, l3);\r\n\t\t\t\t\t\tLocationLine.initLine(view, factor, v4, v1, plane.normal, l4);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfinishCallBack([l1, l2, l3, l4]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (count == 1) {\r\n\t\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t}\r\n\t\tcount--;\r\n\t\tif (count == 0) {\r\n\t\t\tvar local = getLocalVectorOnFace(plane.normal);\r\n\t\t\tvar v1 = p1.clone();\r\n\t\t\tvar v2 = getProjectPointFromVector(p1, p2, local.z);\r\n\t\t\tvar v3 = p2.clone();\r\n\t\t\tvar v4 = getProjectPointFromVector(p1, p2, local.x);\r\n\t\t\tLocationLine.initLine(view, factor, v1, v2, plane.normal, l1);\r\n\t\t\tLocationLine.initLine(view, factor, v2, v3, plane.normal, l2);\r\n\t\t\tLocationLine.initLine(view, factor, v3, v4, plane.normal, l3);\r\n\t\t\tLocationLine.initLine(view, factor, v4, v1, plane.normal, l4);\r\n\t\t\tfinishCallBack([l1, l2, l3, l4]);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tchangeCursor().crosshair(view.domElement);\r\n\t\tvar intersect = intersectPointPlane(e, mouse, view, null, plane);\r\n\t\tvar p = intersect.point;\r\n\r\n\t\tsnap = snapPoint(workPlane, view, p);\r\n\t\tif (count == 1) {\r\n\t\t\tp2 = intersect.point;\r\n\t\t\tif (snap) p2 = snap;\r\n\t\t\tvar dis = p1.distanceTo(p2);\r\n\t\t\tif (dis > MIN_DIS) {\r\n\t\t\t\tvar local = getLocalVectorOnFace(plane.normal);\r\n\t\t\t\tvar v1 = p1.clone();\r\n\t\t\t\tvar v2 = getProjectPointFromVector(p1, p2, local.z);\r\n\t\t\t\tvar v3 = p2.clone();\r\n\t\t\t\tvar v4 = getProjectPointFromVector(p1, p2, local.x);\r\n\t\t\t\tif (!l1 && !l2 && !l3 && !l4) {\r\n\t\t\t\t\tl1 = LocationLine.createTempLine(v1, v2);\r\n\t\t\t\t\tl2 = LocationLine.createTempLine(v2, v3);\r\n\t\t\t\t\tl3 = LocationLine.createTempLine(v3, v4);\r\n\t\t\t\t\tl4 = LocationLine.createTempLine(v4, v1);\r\n\t\t\t\t\tview.scene.add(l1);\r\n\t\t\t\t\tview.scene.add(l2);\r\n\t\t\t\t\tview.scene.add(l3);\r\n\t\t\t\t\tview.scene.add(l4);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLocationLine.updateTempLine(v1, v2, l1);\r\n\t\t\t\t\tLocationLine.updateTempLine(v2, v3, l2);\r\n\t\t\t\t\tLocationLine.updateTempLine(v3, v4, l3);\r\n\t\t\t\t\tLocationLine.updateTempLine(v4, v1, l4);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (count == 0) {\r\n\t\t\tchangeCursor().default(view.domElement);\r\n\t\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\t}\r\n\t}\r\n\tfunction finishCallBack(list) {\r\n\t\tchangeCursor().default(view.domElement);\r\n\t\tsnap = workPlane.planeMesh.userData.Grid.refreshSnap();\r\n\t\tbtn.style.background = \"none\";\r\n\t\tview.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tcallback(list);\r\n\t}\r\n\r\n\tdraw();\r\n}\r\n","import { Shape } from \"three\";\r\n\r\nexport const MAX_POINTS = 10000;\r\nexport const MAX_CIRCLE = 48;\r\nexport const MIN_DIS = 0.1;\r\nexport const ES = 1.0e-6;\r\nexport const DiaP = 0.01;\r\nexport const LINE_WIDTH = 0.008;\r\nexport const DIM_WIDTH = 0.001;\r\nexport const SNAP = 0.1;\r\nexport const SNAP_ANGLE = Math.PI / 12;\r\nexport const OFFSET_DIM = 0.1;\r\nexport const EXTEND_DIM = 0.01;\r\n\r\nexport function initShape() {\r\n\treturn new Shape()\r\n\t\t.moveTo(0, LINE_WIDTH)\r\n\t\t.quadraticCurveTo(LINE_WIDTH, LINE_WIDTH, LINE_WIDTH, 0)\r\n\t\t.quadraticCurveTo(LINE_WIDTH, -LINE_WIDTH, 0, -LINE_WIDTH)\r\n\t\t.quadraticCurveTo(-LINE_WIDTH, -LINE_WIDTH, -LINE_WIDTH, 0)\r\n\t\t.quadraticCurveTo(-LINE_WIDTH, LINE_WIDTH, 0, LINE_WIDTH);\r\n}\r\nexport const extrudeSetting = (curve) => {\r\n\treturn {\r\n\t\textrudePath: curve,\r\n\t\tsteps: curve.getPoints().length,\r\n\t};\r\n};\r\nexport const CSS = {\r\n\tintersect: \"intersect\",\r\n\tdot: \"dot\",\r\n\tmiddle: \"intersect\",\r\n\tendPoint: \"endPoint\",\r\n};\r\n\r\nexport const CATEGORY = {\r\n\tbuildingProxy: 0,\r\n\tslab: 1,\r\n\twall: 2,\r\n\tbeam: 3,\r\n\tcolumn: 4,\r\n};\r\nexport const CustomType = {\r\n\tpoint: 0,\r\n\tline: 1,\r\n\tarc: 2,\r\n\tmodel: 3,\r\n\tfilter: (mesh, type) => {\r\n\t\tif (!mesh || !mesh.userData.Type) return false;\r\n\t\treturn mesh.userData.Type == type;\r\n\t},\r\n\tisPoint: (mesh) => {\r\n\t\treturn CustomType.filter(mesh, CustomType.point);\r\n\t},\r\n\tisLine: (mesh) => {\r\n\t\treturn CustomType.filter(mesh, CustomType.line);\r\n\t},\r\n\tisArc: (mesh) => {\r\n\t\treturn CustomType.filter(mesh, CustomType.arc);\r\n\t},\r\n\tisModel: (mesh) => {\r\n\t\treturn CustomType.filter(mesh, CustomType.model);\r\n\t},\r\n\tisProfile: (mesh) => {\r\n\t\treturn mesh.userData.Profile;\r\n\t},\r\n};\r\nexport const INTERSECT_TYPE = {\r\n\tdispose: \"DISPOSE\",\r\n\tequal: \"EQUAL\",\r\n\tparallel: \"PARALLEL\",\r\n\tintersect: \"INTERSECT\",\r\n};\r\n","import { BufferGeometry, EdgesGeometry, LineSegments, Mesh, Vector3 } from \"three\";\r\nimport { MeshBVH } from \"three-mesh-bvh\";\r\nimport { customMaterial } from \"../material\";\r\nimport { typeModel } from \"../model/ModelType\";\r\nimport { setDefaultModel } from \"./setProperty\";\r\n\r\nexport function meshProfile(points, scene) {\r\n\tvar geometry = new BufferGeometry().setFromPoints(getMeshPoints(points));\r\n\tvar mesh = new Mesh(geometry, customMaterial.normalModel);\r\n\tconst edges = new EdgesGeometry(geometry);\r\n\tconst line = new LineSegments(edges, customMaterial.normalLine);\r\n\tmesh.geometry.computeBoundingBox();\r\n\tmesh.geometry.computeBoundingSphere();\r\n\tmesh.geometry.computeVertexNormals();\r\n\tmesh.geometry.boundsTree = new MeshBVH(mesh.geometry);\r\n\tscene.add(line);\r\n\tmesh.userData.OutLine = line;\r\n\tscene.add(mesh);\r\n\treturn mesh;\r\n}\r\nexport function extrudeProfile(points, offsetPs, profile, meshProfile, material, normalVector, scene) {\r\n\tvar geometry = new BufferGeometry().setFromPoints(getExtrudePoints(points, offsetPs));\r\n\tvar mesh = new Mesh(geometry, material.material);\r\n\tconst edges = new EdgesGeometry(geometry);\r\n\tconst line = new LineSegments(edges, customMaterial.normalLine);\r\n\tmesh.geometry.computeBoundingBox();\r\n\tmesh.geometry.computeBoundingSphere();\r\n\tmesh.geometry.computeVertexNormals();\r\n\tmesh.geometry.boundsTree = new MeshBVH(mesh.geometry);\r\n\tscene.add(line);\r\n\tscene.add(mesh);\r\n\tsetDefaultModel(mesh, line, profile, meshProfile, material, normalVector, typeModel.extrude, null);\r\n\treturn mesh;\r\n}\r\nfunction getMeshPoints(points) {\r\n\tvar ps = [];\r\n\tfor (let i = 0; i < points.length - 2; i++) {\r\n\t\tps.push(points[0]);\r\n\t\tps.push(points[i + 1]);\r\n\t\tps.push(points[i + 2]);\r\n\t}\r\n\r\n\treturn ps;\r\n}\r\nfunction getExtrudePoints(points, offsetPs) {\r\n\tvar ps = [];\r\n\tfor (let i = 0; i < points.length - 2; i++) {\r\n\t\tps.push(points[0]);\r\n\t\tps.push(points[i + 1]);\r\n\t\tps.push(points[i + 2]);\r\n\t}\r\n\r\n\tfor (let i = 0; i < offsetPs.length - 2; i++) {\r\n\t\tps.push(offsetPs[0]);\r\n\t\tps.push(offsetPs[i + 1]);\r\n\t\tps.push(offsetPs[i + 2]);\r\n\t}\r\n\tfor (let i = 0; i < points.length; i++) {\r\n\t\tif (i == points.length - 1) {\r\n\t\t\tps.push(points[i]);\r\n\t\t\tps.push(points[0]);\r\n\t\t\tps.push(offsetPs[0]);\r\n\t\t\tps.push(points[i]);\r\n\t\t\tps.push(offsetPs[0]);\r\n\t\t\tps.push(offsetPs[i]);\r\n\t\t} else {\r\n\t\t\tps.push(points[i]);\r\n\t\t\tps.push(points[i + 1]);\r\n\t\t\tps.push(offsetPs[i + 1]);\r\n\t\t\tps.push(points[i]);\r\n\t\t\tps.push(offsetPs[i + 1]);\r\n\t\t\tps.push(offsetPs[i]);\r\n\t\t}\r\n\t}\r\n\treturn ps;\r\n}\r\n","export * from \"./draft/drawPolyGon\";\r\nexport * from \"./drawRect\";\r\nexport * from \"./drawCircle\";\r\nexport * from \"./drawLine\";\r\nexport * from \"./drawMultiLine\";\r\nexport * from \"./drawPolygon\";\r\nexport * from \"./drawArc\";\r\nexport * from \"./modify\";\r\nexport * from \"./draft/extrude\";\r\nexport * from \"./cast\";\r\nexport * from \"./enum\";\r\nexport * from \"./setProperty\";\r\nexport * from \"./snap\";\r\nexport * from \"./Location\";\r\nexport * from \"./extrudeProfile\";\r\n","import { castElement, changeCursor, filterModel } from \"./cast\";\r\nexport function copyElement(view, btn, callback) {\r\n\tvar div;\r\n\tvar element;\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tif (keyCode == 27 || keyCode == 13) {\r\n\t\t\tfinishCallBack();\r\n\t\t}\r\n\t}\r\n\tfunction onMouseDown(e) {\r\n\t\tvar found = castElement(e, view, filterModel.model(view.scene))[0];\r\n\r\n\t\telement = found ? found.object : null;\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tif (!div) {\r\n\t\t\tdiv = document.createElement(\"div\");\r\n\t\t\tdiv.className = \"card mouseModify\";\r\n\t\t\tdiv.textContent = \"Select element\";\r\n\t\t\tdiv.style.top = e.clientY + \"px\";\r\n\t\t\tdiv.style.left = e.clientX + \"px\";\r\n\t\t\tdocument.body.appendChild(div);\r\n\t\t} else {\r\n\t\t\tdiv.style.top = e.clientY + 5 + \"px\";\r\n\t\t\tdiv.style.left = e.clientX + 5 + \"px\";\r\n\t\t}\r\n\t\tif (element) {\r\n\t\t\tchangeCursor().move(view.domElement);\r\n\t\t}\r\n\t}\r\n\tfunction finishCallBack() {\r\n\t\tif (div) {\r\n\t\t\tdiv.remove();\r\n\t\t}\r\n\t\tbtn.style.background = \"none\";\r\n\t\tview.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tcallback();\r\n\t}\r\n\r\n\tdraw();\r\n}\r\nexport function TrimElement(view, btn, callback) {\r\n\tvar div;\r\n\tvar element;\r\n\tfunction draw() {\r\n\t\tbtn.style.background = \"#aaaaa9\";\r\n\t\tview.domElement.addEventListener(\"click\", onMouseDown, false);\r\n\t\tview.domElement.addEventListener(\"mousemove\", onMouseMove, false);\r\n\t\twindow.addEventListener(\"keydown\", onkeydown, false);\r\n\t}\r\n\tfunction onkeydown(event) {\r\n\t\tvar keyCode = event.keyCode;\r\n\t\tif (keyCode == 27 || keyCode == 13) {\r\n\t\t\tfinishCallBack();\r\n\t\t}\r\n\t}\r\n\tfunction onMouseDown(e) {\r\n\t\tvar found = castElement(e, view, filterModel.model(view.scene))[0];\r\n\r\n\t\telement = found ? found.object : null;\r\n\t}\r\n\r\n\tfunction onMouseMove(e) {\r\n\t\tif (!div) {\r\n\t\t\tdiv = document.createElement(\"div\");\r\n\t\t\tdiv.className = \"card mouseModify\";\r\n\t\t\tdiv.textContent = \"Select element\";\r\n\t\t\tdiv.style.top = e.clientY + \"px\";\r\n\t\t\tdiv.style.left = e.clientX + \"px\";\r\n\t\t\tdocument.body.appendChild(div);\r\n\t\t} else {\r\n\t\t\tdiv.style.top = e.clientY + 5 + \"px\";\r\n\t\t\tdiv.style.left = e.clientX + 5 + \"px\";\r\n\t\t}\r\n\t\tif (element) {\r\n\t\t\tchangeCursor().move(view.domElement);\r\n\t\t}\r\n\t}\r\n\tfunction finishCallBack() {\r\n\t\tif (div) {\r\n\t\t\tdiv.remove();\r\n\t\t}\r\n\t\tbtn.style.background = \"none\";\r\n\t\tview.domElement.removeEventListener(\"click\", onMouseDown);\r\n\t\tview.domElement.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\twindow.removeEventListener(\"keydown\", onkeydown);\r\n\t\tcallback();\r\n\t}\r\n\r\n\tdraw();\r\n}\r\n","import { drawList } from \"../model/ModelType\";\r\nimport { castElement, filterModel, changeCursor } from \"./cast\";\r\nimport { CustomType } from \"./enum\";\r\n\r\nexport function highlightModel(event, view) {\r\n\tview.scene.children.forEach((c) => {\r\n\t\tif (c.userData.Type == CustomType.model) {\r\n\t\t\tc.userData.Selection.refresh();\r\n\t\t}\r\n\t});\r\n\tvar found = castElement(event, view, filterModel.model(view.scene))[0];\r\n\tif (found) {\r\n\t\tchangeCursor().pointer(view.domElement);\r\n\t\tif (found.object.userData.Type == CustomType.model) {\r\n\t\t\tif (view.drawing != drawList.workPlane) found.object.userData.Selection.hover();\r\n\t\t}\r\n\t} else {\r\n\t\tchangeCursor().default(view.domElement);\r\n\t}\r\n}\r\nexport function pickModel(event, view) {\r\n\tvar found = castElement(event, view, filterModel.model(view.scene))[0];\r\n\tview.scene.children.forEach((c) => {\r\n\t\tif ((c.userData.Type == CustomType.line || c.userData.Type == CustomType.arc) && c.userData.Location) {\r\n\t\t\tc.userData.Location.isSelect(view.scene, false);\r\n\t\t}\r\n\t\tif (c.userData.Type == CustomType.model) {\r\n\t\t\tc.userData.isSelected = false;\r\n\t\t\tc.userData.Selection.refresh();\r\n\t\t}\r\n\t});\r\n\tif (found) {\r\n\t\tview.selectModel = found.object;\r\n\t\tif (\r\n\t\t\t(found.object.userData.Type == CustomType.line || found.object.userData.Type == CustomType.arc) &&\r\n\t\t\tfound.object.userData.Location\r\n\t\t) {\r\n\t\t\tfound.object.userData.Location.isSelect(view.scene, true);\r\n\t\t}\r\n\r\n\t\tif (found.object.userData.Type == CustomType.model) {\r\n\t\t\tif (view.drawing != drawList.workPlane) {\r\n\t\t\t\tfound.object.userData.isSelected = true;\r\n\t\t\t\tfound.object.userData.Selection.selected();\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tview.selectModel = null;\r\n\t\tview.scene.children.forEach((c) => {\r\n\t\t\tif (c.userData.Type == CustomType.line && c.userData.Location) {\r\n\t\t\t\tc.userData.Location.isSelect(view.scene, false);\r\n\t\t\t}\r\n\t\t\tif (c.userData.Type == CustomType.model) {\r\n\t\t\t\tc.userData.isSelected = false;\r\n\t\t\t\tc.userData.Selection.refresh();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","import { Vector3 } from \"three\";\r\nimport { customMaterial } from \"../material\";\r\nimport { CSS, CustomType, ES } from \"./enum\";\r\nimport { createPoint } from \"./Location\";\r\n\r\nfunction getElementID() {\r\n\tvar elementID = window.localStorage.getItem(\"ElementID\");\r\n\tif (elementID) {\r\n\t\telementID = JSON.parse(elementID);\r\n\t} else {\r\n\t\telementID = Math.floor(Math.random() * 1e6 + 1);\r\n\t}\r\n\tif (elementID > 1e6) elementID = 0;\r\n\telementID++;\r\n\twindow.localStorage.setItem(\"ElementID\", JSON.stringify(elementID));\r\n\treturn elementID;\r\n}\r\n\r\nexport function setDefaultModel(mesh, outLine, profile, meshProfile, material, normalVector, modelGenerate, curvePath) {\r\n\tvar elementID = getElementID();\r\n\tmesh.userData.Type = CustomType.model;\r\n\tmesh.userData.OutLine = outLine;\r\n\tmesh.userData.isSelected = false;\r\n\tmesh.userData.Selection = {\r\n\t\tMaterialModel: material,\r\n\t\tNormalMaterial: material.material,\r\n\t\tonChangeMaterial: (material) => {\r\n\t\t\tmesh.userData.Selection.MaterialModel = material;\r\n\t\t\tmesh.userData.Selection.NormalMaterial = material.material;\r\n\t\t\tmesh.material = mesh.userData.Selection.NormalMaterial;\r\n\t\t\tmesh.userData.Export.elements.onChangeMaterial(material);\r\n\t\t},\r\n\t\trefresh: () => {\r\n\t\t\tmesh.material = mesh.userData.isSelected\r\n\t\t\t\t? customMaterial.selectModel\r\n\t\t\t\t: mesh.userData.Selection.NormalMaterial;\r\n\t\t},\r\n\t\tselected: () => {\r\n\t\t\tmesh.material = customMaterial.selectModel;\r\n\t\t},\r\n\t\thover: () => {\r\n\t\t\tif (!mesh.userData.isSelected) mesh.material = customMaterial.hoverModel;\r\n\t\t},\r\n\t};\r\n\tmesh.userData.Location = {\r\n\t\tProfile: profile,\r\n\t\tMeshProfile: meshProfile,\r\n\t\tTypeModel: modelGenerate,\r\n\t\tCurvePath: curvePath,\r\n\t\tNormalVector: normalVector,\r\n\t\tSnaps: getSnapPoints(mesh),\r\n\t\tSnapPoint: createPoint(new Vector3(0, 0, 0), CSS.intersect),\r\n\t};\r\n\tmesh.userData.Export = {\r\n\t\tmesh_id: elementID,\r\n\t\tcoordinates: getCoordination(mesh),\r\n\t\tindices: getIndices(mesh),\r\n\t\telements: {\r\n\t\t\tmesh_id: elementID,\r\n\t\t\tvector: {\r\n\t\t\t\tx: 0.0,\r\n\t\t\t\ty: 0.0,\r\n\t\t\t\tz: 0.0,\r\n\t\t\t},\r\n\t\t\trotation: {\r\n\t\t\t\tqx: 0.0,\r\n\t\t\t\tqy: 0.0,\r\n\t\t\t\tqz: 0.0,\r\n\t\t\t\tqw: 1.0,\r\n\t\t\t},\r\n\t\t\tguid: mesh.uuid,\r\n\t\t\ttype: \"default\",\r\n\t\t\tcolor: {\r\n\t\t\t\tr: parseInt(mesh.material.color.r * 255),\r\n\t\t\t\tg: parseInt(mesh.material.color.g * 255),\r\n\t\t\t\tb: parseInt(mesh.material.color.b * 255),\r\n\t\t\t\ta: mesh.userData.Selection.MaterialModel.alpha,\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\t// volume: getVolume(mesh.geometry).toString(),\r\n\t\t\t\t// area: getAreaSurface(mesh).toString(),\r\n\t\t\t\tlength: getBounding(mesh.geometry).length.toString(),\r\n\t\t\t\twidth: getBounding(mesh.geometry).width.toString(),\r\n\t\t\t\theight: getBounding(mesh.geometry).height.toString(),\r\n\t\t\t},\r\n\t\t\tonChangeMaterial: (material) => {\r\n\t\t\t\tmesh.userData.Export.elements.color = {\r\n\t\t\t\t\tr: parseInt(material.material.color.r * 255),\r\n\t\t\t\t\tg: parseInt(material.material.color.g * 255),\r\n\t\t\t\t\tb: parseInt(material.material.color.b * 255),\r\n\t\t\t\t\ta: material.alpha,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n}\r\nfunction getIndices(mesh) {\r\n\tvar arrIndex = mesh.geometry.index.array;\r\n\tvar indices = [];\r\n\tfor (let i = 0; i < arrIndex.length; i++) {\r\n\t\tindices.push(arrIndex[i]);\r\n\t}\r\n\treturn indices;\r\n}\r\nfunction getCoordination(mesh) {\r\n\tvar coords = [];\r\n\tvar arrIndex = mesh.geometry.index.array;\r\n\tvar pos0 = mesh.geometry.attributes.position;\r\n\tfor (let i = 0; i < arrIndex.length; i++) {\r\n\t\tcoords.push(pos0.getX(arrIndex[i]));\r\n\t\tcoords.push(pos0.getY(arrIndex[i]));\r\n\t\tcoords.push(pos0.getZ(arrIndex[i]));\r\n\t}\r\n\treturn coords;\r\n}\r\nfunction getSnapPoints(mesh) {\r\n\tvar coords = [];\r\n\tvar arrIndex = mesh.geometry.index.array;\r\n\tvar pos0 = mesh.geometry.attributes.position;\r\n\tfor (let i = 0; i < arrIndex.length; i++) {\r\n\t\tcoords.push(new Vector3(pos0.getX(arrIndex[i]), pos0.getY(arrIndex[i]), pos0.getZ(arrIndex[i])));\r\n\t}\r\n\tcoords = coords.filter((value, index, self) => self.findIndex((snap) => snap.distanceTo(value) < ES) === index);\r\n\treturn coords;\r\n}\r\nfunction getAreaSurface(mesh) {\r\n\tvar coords = [];\r\n\tvar arrIndex = mesh.geometry.index.array;\r\n\tvar pos0 = mesh.geometry.attributes.position;\r\n\tfor (let i = 0; i < arrIndex.length; i++) {\r\n\t\tcoords.push(new Vector3(pos0.getX(arrIndex[i]), pos0.getY(arrIndex[i]), pos0.getZ(arrIndex[i])));\r\n\t}\r\n\tvar sum = 0;\r\n\tfor (let i = 0; i < coords.length / 3; i++) {\r\n\t\tvar a = coords[i].distanceTo(coords[i + 1]);\r\n\t\tvar b = coords[i + 1].distanceTo(coords[i + 2]);\r\n\t\tvar c = coords[i + 2].distanceTo(coords[i]);\r\n\r\n\t\tsum += Math.sqrt((a + b + c) * (a + b - c) * (b + c - a) * (c + a - b)) / 4;\r\n\t}\r\n\treturn sum;\r\n}\r\nfunction getVolume(geometry) {\r\n\tlet position = geometry.attributes.position;\r\n\tlet faces = position.count / 3;\r\n\tlet sum = 0;\r\n\tlet p1 = new Vector3(),\r\n\t\tp2 = new Vector3(),\r\n\t\tp3 = new Vector3();\r\n\tfor (let i = 0; i < faces; i++) {\r\n\t\tp1.fromBufferAttribute(position, i * 3 + 0);\r\n\t\tp2.fromBufferAttribute(position, i * 3 + 1);\r\n\t\tp3.fromBufferAttribute(position, i * 3 + 2);\r\n\t\tsum += signedVolumeOfTriangle(p1, p2, p3);\r\n\t}\r\n\treturn sum;\r\n\tfunction signedVolumeOfTriangle(p1, p2, p3) {\r\n\t\treturn p1.dot(p2.cross(p3)) / 6.0;\r\n\t}\r\n}\r\nfunction getBounding(geometry) {\r\n\tvar max = geometry.boundingBox.max;\r\n\tvar min = geometry.boundingBox.min;\r\n\treturn {\r\n\t\tlength: Math.abs(max.x - min.x),\r\n\t\twidth: Math.abs(max.z - min.z),\r\n\t\theight: Math.abs(max.y - min.y),\r\n\t};\r\n}\r\n","import { Plane, Raycaster, Vector3 } from \"three\";\r\nimport { CustomType, ES, INTERSECT_TYPE, SNAP } from \"./enum\";\r\n\r\nexport function intersectPlaneElevation(event, mouse, view, elevation) {\r\n\tconst bounds = view.renderer.domElement.getBoundingClientRect();\r\n\tconst x1 = event.clientX - bounds.left;\r\n\tconst y1 = event.clientY - bounds.top;\r\n\tconst x2 = bounds.right - bounds.left;\r\n\tmouse.x = (x1 / x2) * 2 - 1;\r\n\tconst y2 = bounds.bottom - bounds.top;\r\n\tmouse.y = -(y1 / y2) * 2 + 1;\r\n\r\n\tconst raycaster = new Raycaster();\r\n\tvar plane = new Plane(new Vector3(0, 1, 0), 0);\r\n\r\n\traycaster.setFromCamera(mouse, view.camera);\r\n\tvar intersect = raycaster.ray.intersectPlane(plane, new Vector3());\r\n\treturn new Vector3(intersect.x, elevation, intersect.z);\r\n}\r\nexport function intersectPointOriginPlane(event, mouse, view, plane, point) {\r\n\tconst bounds = view.renderer.domElement.getBoundingClientRect();\r\n\tconst x1 = event.clientX - bounds.left;\r\n\tconst y1 = event.clientY - bounds.top;\r\n\tconst x2 = bounds.right - bounds.left;\r\n\tmouse.x = (x1 / x2) * 2 - 1;\r\n\tconst y2 = bounds.bottom - bounds.top;\r\n\tmouse.y = -(y1 / y2) * 2 + 1;\r\n\r\n\tconst raycaster = new Raycaster();\r\n\r\n\traycaster.setFromCamera(mouse, view.camera);\r\n\tvar newNormal = getLocalVectorOnFace(plane.normal).z;\r\n\tvar newPlane = new Plane(new Vector3(0, 1, 0), 0);\r\n\tnewPlane = newPlane.setFromNormalAndCoplanarPoint(newNormal, point);\r\n\treturn raycaster.ray.intersectPlane(newPlane, new Vector3());\r\n}\r\nexport function intersectPointPlane(event, mouse, view, found, plane) {\r\n\tconst bounds = view.renderer.domElement.getBoundingClientRect();\r\n\tconst x1 = event.clientX - bounds.left;\r\n\tconst y1 = event.clientY - bounds.top;\r\n\tconst x2 = bounds.right - bounds.left;\r\n\tmouse.x = (x1 / x2) * 2 - 1;\r\n\tconst y2 = bounds.bottom - bounds.top;\r\n\tmouse.y = -(y1 / y2) * 2 + 1;\r\n\r\n\tconst raycaster = new Raycaster();\r\n\tif (!plane) plane = new Plane(new Vector3(0, 1, 0), 0);\r\n\tif (found) {\r\n\t\tplane = plane.setFromNormalAndCoplanarPoint(found.face.normal, found.point);\r\n\t}\r\n\traycaster.setFromCamera(mouse, view.camera);\r\n\treturn {\r\n\t\tpoint: raycaster.ray.intersectPlane(plane, new Vector3()),\r\n\t\tplane: plane,\r\n\t};\r\n}\r\n\r\nexport function areEqual(firstValue, secondValue, tolerance = 1.0e-9) {\r\n\treturn secondValue - tolerance < firstValue && firstValue < secondValue + tolerance;\r\n}\r\nexport function areEqualVector(v1, v2) {\r\n\treturn areEqual(v1.x, v2.x, 1.0e-6) && areEqual(v1.y, v2.y, 1.0e-6) && areEqual(v1.z, v2.z, 1.0e-6);\r\n}\r\n\r\nexport function getLocalVectorOnFace(normal) {\r\n\tif (areEqual(normal.angleTo(new Vector3(0, 1, 0)), 0) || areEqual(normal.angleTo(new Vector3(0, 1, 0)), Math.PI)) {\r\n\t\treturn {\r\n\t\t\tx: new Vector3(1, 0, 0),\r\n\t\t\tz: new Vector3(0, 0, 1),\r\n\t\t};\r\n\t} else {\r\n\t\tvar z = new Vector3(0, 0, 0).crossVectors(normal, new Vector3(0, 1, 0));\r\n\t\tvar x = new Vector3(0, 0, 0).crossVectors(normal, z);\r\n\t\treturn {\r\n\t\t\tx: x,\r\n\t\t\tz: z,\r\n\t\t};\r\n\t}\r\n}\r\nexport function getProjectPointFromVector(p1, p2, v) {\r\n\tvar dis = p1.distanceTo(p2);\r\n\tvar v0 = new Vector3(p2.x - p1.x, p2.y - p1.y, p2.z - p1.z);\r\n\tvar dis1 = dis * Math.cos(v0.angleTo(v));\r\n\treturn p1.clone().add(new Vector3(v.x * dis1, v.y * dis1, v.z * dis1));\r\n}\r\nexport function getProjectPointFrom3Point(p1, p2, p3) {\r\n\tvar v1 = new Vector3(p2.x - p1.x, p2.y - p1.y, p2.z - p1.z).normalize();\r\n\tvar v2 = new Vector3(p3.x - p1.x, p3.y - p1.y, p3.z - p1.z).normalize();\r\n\treturn p1.clone().add(v1.clone().multiplyScalar(p1.distanceTo(p3) * Math.cos(v1.angleTo(v2))));\r\n}\r\n\r\nexport function getMiddlePoint(point1, point2) {\r\n\tvar vector = new Vector3(point2.x - point1.x, point2.y - point1.y, point2.z - point1.z);\r\n\tvar length = vector.length() / 2;\r\n\tvector = vector.normalize();\r\n\tvar newVector = point1.clone();\r\n\tnewVector = newVector.add(new Vector3(vector.x * length, vector.y * length, vector.z * length));\r\n\treturn newVector;\r\n}\r\nexport function getAllPointSnap(workPlane, view) {\r\n\tvar snaps = [];\r\n\tif (workPlane.show) {\r\n\t\tvar workPlaneSnaps = workPlane.planeMesh.userData.Grid.snaps;\r\n\t\tfor (let i = 0; i < workPlaneSnaps.length; i++) {\r\n\t\t\tsnaps.push({\r\n\t\t\t\tposition: workPlaneSnaps[i],\r\n\t\t\t\tpoint: workPlane.planeMesh.userData.Grid.snapPoint,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tview.scene.children.forEach((c) => {\r\n\t\tif (c.userData.Type == CustomType.line) {\r\n\t\t\tsnaps.push({\r\n\t\t\t\tposition: c.userData.Location.Start.position,\r\n\t\t\t\tpoint: c.userData.Location.Start,\r\n\t\t\t});\r\n\t\t\tsnaps.push({\r\n\t\t\t\tposition: c.userData.Location.Mid.position,\r\n\t\t\t\tpoint: c.userData.Location.Mid,\r\n\t\t\t});\r\n\t\t\tsnaps.push({\r\n\t\t\t\tposition: c.userData.Location.End.position,\r\n\t\t\t\tpoint: c.userData.Location.End,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (c.userData.Type == CustomType.arc) {\r\n\t\t\tsnaps.push({\r\n\t\t\t\tposition: c.userData.Location.Start.position,\r\n\t\t\t\tpoint: c.userData.Location.Start,\r\n\t\t\t});\r\n\t\t\tsnaps.push({\r\n\t\t\t\tposition: c.userData.Location.Center.position,\r\n\t\t\t\tpoint: c.userData.Location.Center,\r\n\t\t\t});\r\n\t\t\tsnaps.push({\r\n\t\t\t\tposition: c.userData.Location.End.position,\r\n\t\t\t\tpoint: c.userData.Location.End,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (c.userData.Type == CustomType.model) {\r\n\t\t\tc.userData.Location.Snaps.forEach((m) => {\r\n\t\t\t\tsnaps.push({\r\n\t\t\t\t\tposition: m,\r\n\t\t\t\t\tpoint: c.userData.Location.SnapPoint,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\tsnaps = snaps.filter(\r\n\t\t(value, index, self) => self.findIndex((snap) => snap.position.distanceTo(value.position) < ES) === index\r\n\t);\r\n\treturn snaps;\r\n}\r\n\r\nexport function snapPoint(workPlane, view, p) {\r\n\tvar allSnaps = getAllPointSnap(workPlane, view);\r\n\tif (allSnaps.length == 0) return null;\r\n\tvar snap = allSnaps.filter((s) => p.distanceTo(s.position) <= SNAP)[0];\r\n\tif (!snap) {\r\n\t\tallSnaps.forEach((s) => s.point.userData.visibility(view.scene, false));\r\n\t\treturn null;\r\n\t} else {\r\n\t\tsnap.point.userData.setPosition(snap.position);\r\n\t\tsnap.point.userData.visibility(view.scene, true);\r\n\t\treturn snap.position;\r\n\t}\r\n}\r\n\r\nexport function findPointFromFace(object, plane) {\r\n\tvar equalPoints = [];\r\n\tvar perPoints = [];\r\n\tvar equalIndex = [];\r\n\tvar perIndex = [];\r\n\tvar notEqualPoints = [];\r\n\tvar arrIndex = object.geometry.index.array;\r\n\tvar pos0 = object.geometry.attributes.position;\r\n\tvar normal0 = object.geometry.attributes.normal;\r\n\tfor (let i = 0; i < arrIndex.length; i++) {\r\n\t\tvar normal = new Vector3(normal0.getX(arrIndex[i]), normal0.getY(arrIndex[i]), normal0.getZ(arrIndex[i]));\r\n\t\tvar v0 = new Vector3(pos0.getX(arrIndex[i]), pos0.getY(arrIndex[i]), pos0.getZ(arrIndex[i]));\r\n\t\tif (areEqualVector(normal, plane.normal)) {\r\n\t\t\tequalPoints.push(v0);\r\n\t\t\tequalIndex.push(arrIndex[i]);\r\n\t\t} else {\r\n\t\t\tnotEqualPoints.push(arrIndex[i]);\r\n\t\t\tvar dis = plane.distanceToPoint(v0);\r\n\t\t\tif (areEqual(dis, 0.0, 1.0e-6) && areEqual(normal.angleTo(plane.normal), Math.PI / 2, 1.0e-6)) {\r\n\t\t\t\tperIndex.push(arrIndex[i]);\r\n\t\t\t\tperPoints.push(v0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tequalPoints: equalPoints,\r\n\t\tequalIndex: equalIndex,\r\n\t\tperPoints: perPoints,\r\n\t\tperIndex: perIndex,\r\n\t\tnotEqualPoints: notEqualPoints,\r\n\t};\r\n}\r\nexport function findFacePoints(object, plane) {\r\n\tvar equalPoints = [];\r\n\tvar arrIndex = object.geometry.index.array;\r\n\tvar pos0 = object.geometry.attributes.position;\r\n\tvar normal0 = object.geometry.attributes.normal;\r\n\tfor (let i = 0; i < arrIndex.length; i++) {\r\n\t\tvar normal = new Vector3(normal0.getX(arrIndex[i]), normal0.getY(arrIndex[i]), normal0.getZ(arrIndex[i]));\r\n\t\tvar v0 = new Vector3(pos0.getX(arrIndex[i]), pos0.getY(arrIndex[i]), pos0.getZ(arrIndex[i]));\r\n\t\tvar dis = plane.distanceToPoint(v0);\r\n\t\tif (areEqualVector(normal, plane.normal) && areEqual(dis, 0.0, 1.0e-6)) {\r\n\t\t\tequalPoints.push(v0);\r\n\t\t}\r\n\t}\r\n\r\n\treturn equalPoints;\r\n}\r\n\r\nexport function getOldPoints(object) {\r\n\tvar points = [];\r\n\tvar arrIndex = object.geometry.index.array;\r\n\tvar pos0 = object.geometry.attributes.position;\r\n\tfor (let i = 0; i < arrIndex.length; i++) {\r\n\t\tvar v0 = new Vector3(pos0.getX(arrIndex[i]), pos0.getY(arrIndex[i]), pos0.getZ(arrIndex[i]));\r\n\t\tpoints.push(v0);\r\n\t}\r\n\treturn points;\r\n}\r\n\r\nexport function getIntersectTypeLines(l1, l2) {}\r\nexport function getIntersectLines(l1, l2) {}\r\n","import {\r\n\tAmbientLight,\r\n\tAxesHelper,\r\n\tDirectionalLight,\r\n\tGridHelper,\r\n\tOrthographicCamera,\r\n\tPerspectiveCamera,\r\n\tWebGLRenderer,\r\n\tRaycaster,\r\n\tVector2,\r\n\tMesh,\r\n\tSphereGeometry,\r\n\tPlaneGeometry,\r\n\tsRGBEncoding,\r\n\tBufferGeometry,\r\n} from \"three\";\r\nimport { computeBoundsTree, disposeBoundsTree, acceleratedRaycast } from \"three-mesh-bvh\";\r\nimport { CSS2DRenderer } from \"three/examples/jsm/renderers/CSS2DRenderer\";\r\nimport * as TWEEN from \"@tweenjs/tween.js\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { LightColor, CubeControlMaterial, customMaterial } from \"../material\";\r\nimport { CubeControls } from \"./CubeControl\";\r\nimport { CustomType } from \"./../modeling\";\r\n\r\nexport class BaseView {\r\n\tshowDimension = false;\r\n\tisOrthoLine = false;\r\n\tdrawing = 0;\r\n\tconstructor(scene, container, canvas, width, height, alpha = true) {\r\n\t\tthis.scene = scene;\r\n\t\tthis.container = container;\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.alpha = alpha;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.initMeshBVH();\r\n\t\tthis.initGrid();\r\n\t\tthis.initAxes();\r\n\t\tthis.initLight();\r\n\t\tthis.initRayCaster();\r\n\t\tthis.initCamera(false);\r\n\t\tthis.initRenderer();\r\n\t\tthis.initOrbitControls();\r\n\t\tthis.setDomElement();\r\n\t\tthis.initDefineAlpha();\r\n\t\tthis.initOrthoLine();\r\n\t\t// this.initPivot();\r\n\t}\r\n\tinitOrthoLine() {\r\n\t\tvar _this = this;\r\n\r\n\t\twindow.addEventListener(\r\n\t\t\t\"keydown\",\r\n\t\t\tfunction (e) {\r\n\t\t\t\tif (e.keyCode == 79) _this.isOrthoLine = !_this.isOrthoLine;\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t}\r\n\tinitMeshBVH() {\r\n\t\tBufferGeometry.prototype.computeBoundsTree = computeBoundsTree;\r\n\t\tBufferGeometry.prototype.disposeBoundsTree = disposeBoundsTree;\r\n\t\tMesh.prototype.raycast = acceleratedRaycast;\r\n\t}\r\n\tinitGrid() {\r\n\t\tthis.grid = new GridHelper(10, 10);\r\n\t\tthis.grid.visible = false;\r\n\t\tthis.scene.add(this.grid);\r\n\t}\r\n\tinitAxes() {\r\n\t\tthis.axes = new AxesHelper(3);\r\n\t\tthis.axes.material.depthTest = false;\r\n\t\tthis.axes.renderOrder = 1;\r\n\t\tthis.scene.add(this.axes);\r\n\t}\r\n\r\n\tinitRayCaster() {\r\n\t\tthis.rayCaster = new Raycaster();\r\n\t\tthis.rayCaster.firstHitOnly = true;\r\n\t\tthis.rayCaster.params.Points.threshold = 50;\r\n\t\tthis.mouse = new Vector2();\r\n\t\tthis.tabKey = false;\r\n\t\tthis.highlightModel = null;\r\n\t\tthis.selectModel = null;\r\n\t}\r\n\r\n\tinitLight() {\r\n\t\tthis.ambientLight = new AmbientLight(LightColor.light, 2);\r\n\t\tthis.scene.add(this.ambientLight);\r\n\r\n\t\tthis.directionalLight = new DirectionalLight(LightColor.light, 2);\r\n\t\tthis.directionalLight.position.set(0, 10, 0);\r\n\t\tthis.directionalLight.target.position.set(-5, 0, 0);\r\n\t\tthis.directionalLight.castShadow = true;\r\n\t\tthis.directionalLight.shadow.bias = -0.001;\r\n\t\tthis.directionalLight.shadow.mapSize.width = 2048;\r\n\t\tthis.directionalLight.shadow.mapSize.height = 2048;\r\n\t\tthis.directionalLight.shadow.camera.near = 0.1;\r\n\t\tthis.directionalLight.shadow.camera.far = 500.0;\r\n\t\tthis.directionalLight.shadow.camera.near = 0.5;\r\n\t\tthis.directionalLight.shadow.camera.far = 500.0;\r\n\t\tthis.directionalLight.shadow.camera.left = 100;\r\n\t\tthis.directionalLight.shadow.camera.right = -100;\r\n\t\tthis.directionalLight.shadow.camera.top = 100;\r\n\t\tthis.directionalLight.shadow.camera.bottom = -100;\r\n\t\tthis.scene.add(this.directionalLight);\r\n\t}\r\n\tinitPerspectiveCamera() {\r\n\t\tvar camera = new PerspectiveCamera(45, this.width / this.height, 0.1, 1000);\r\n\t\tcamera.position.z = 40;\r\n\t\tcamera.position.y = 40;\r\n\t\tcamera.position.x = 40;\r\n\t\tcamera.lookAt(this.scene.position);\r\n\t\tcamera.userData.pos = 40;\r\n\t\tcamera.layers.enableAll();\r\n\t\tcamera.layers.toggle(1);\r\n\t\treturn camera;\r\n\t}\r\n\tinitOrthographicCamera() {\r\n\t\tvar camera = new OrthographicCamera(\r\n\t\t\tthis.width / -50,\r\n\t\t\tthis.width / 50,\r\n\t\t\tthis.height / 50,\r\n\t\t\tthis.height / -50,\r\n\t\t\t0.1,\r\n\t\t\t1000\r\n\t\t);\r\n\t\tcamera.position.z = 40;\r\n\t\tcamera.position.y = 40;\r\n\t\tcamera.position.x = 40;\r\n\t\tcamera.lookAt(this.scene.position);\r\n\t\tcamera.userData.pos = 40;\r\n\t\tcamera.layers.enableAll();\r\n\t\tcamera.layers.toggle(1);\r\n\t\treturn camera;\r\n\t}\r\n\r\n\tinitCamera(isPerspectiveCamera) {\r\n\t\tthis.isPerspectiveCamera = isPerspectiveCamera;\r\n\t\tthis.perspectiveCamera = this.initPerspectiveCamera();\r\n\t\tthis.orthographicCamera = this.initOrthographicCamera();\r\n\t\tthis.camera = this.isPerspectiveCamera ? this.perspectiveCamera : this.orthographicCamera;\r\n\t}\r\n\r\n\tinitRenderer() {\r\n\t\tthis.renderer = new WebGLRenderer({ canvas: this.canvas, alpha: this.alpha, antialias: true });\r\n\t\tthis.renderer.setSize(this.width, this.height);\r\n\t\tthis.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\n\t\tthis.renderer.domElement.setAttribute(\"tabindex\", 1);\r\n\t\tthis.renderer.localClippingEnabled = true;\r\n\t\tthis.renderer.outputEncoding = sRGBEncoding;\r\n\t\tthis.renderer.gammaFactor = 2.2;\r\n\t\tthis.labelRenderer = new CSS2DRenderer();\r\n\t\tthis.labelRenderer.setSize(this.width, this.height);\r\n\r\n\t\tthis.labelRenderer.domElement.style.position = \"absolute\";\r\n\t\tthis.labelRenderer.domElement.style.top = 0;\r\n\t\tthis.labelRenderer.domElement.setAttribute(\"tabindex\", 1);\r\n\t\tthis.container.appendChild(this.labelRenderer.domElement);\r\n\t}\r\n\r\n\tinitOrbitControls() {\r\n\t\tthis.controls = new OrbitControls(this.camera, this.labelRenderer.domElement);\r\n\t\tthis.controls.enableDamping = true;\r\n\t\tthis.controls.dampingFactor = 0.2;\r\n\t\tthis.controls.target.set(-0, 0, 0);\r\n\t\tthis.controls.mouseButtons.MIDDLE = 2;\r\n\t\tthis.controls.mouseButtons.RIGHT = -1;\r\n\t\tthis.controls.listenToKeyEvents(this.labelRenderer.domElement);\r\n\t}\r\n\r\n\ttoggleCamera3D(isPerspectiveCamera) {\r\n\t\tvar pos = this.camera.position;\r\n\t\tvar zoom = this.camera.zoom;\r\n\t\tthis.isPerspectiveCamera = isPerspectiveCamera;\r\n\t\tthis.camera = isPerspectiveCamera ? this.perspectiveCamera : this.orthographicCamera;\r\n\t\tthis.camera.position.set(pos.x, pos.y, pos.z);\r\n\t\tthis.camera.zoom = zoom;\r\n\t\tthis.controls.object = isPerspectiveCamera ? this.perspectiveCamera : this.orthographicCamera;\r\n\t\tthis.cubeControl.onToggleCamera(isPerspectiveCamera);\r\n\t}\r\n\r\n\tsetDomElement() {\r\n\t\tthis.domElement = this.labelRenderer.domElement;\r\n\t}\r\n\tinitResize(container, canvas) {\r\n\t\tvar _this = this;\r\n\t\twindow.addEventListener(\"resize\", resize, false);\r\n\t\tfunction resize(e) {\r\n\t\t\t_this.container = container;\r\n\t\t\t_this.canvas = canvas;\r\n\t\t\t_this.width = _this.container.clientWidth;\r\n\t\t\t_this.height = _this.container.clientHeight;\r\n\t\t\t_this.camera.left = _this.width / -50;\r\n\t\t\t_this.camera.right = _this.width / 50;\r\n\t\t\t_this.camera.updateProjectionMatrix();\r\n\t\t\t_this.renderer.setSize(_this.width, _this.height, true);\r\n\t\t\t_this.labelRenderer.setSize(_this.width, _this.height, true);\r\n\t\t}\r\n\t\t_this.domElement.addEventListener(\"wheel\", onWheel, false);\r\n\t\tfunction onWheel(e) {\r\n\t\t\t// _this.scene.children.forEach((c) => {\r\n\t\t\t// \tif (c.userData.Type == CustomType.line) {\r\n\t\t\t// \t\tc.scale.set(1 / _this.camera.zoom, 1 / _this.camera.zoom, 1 / _this.camera.zoom);\r\n\t\t\t// \t}\r\n\t\t\t// });\r\n\t\t}\r\n\t}\r\n\r\n\tinitDefineAlpha() {\r\n\t\tvar _this = this;\r\n\t\tObject.defineProperty(_this, \"alphaFactor\", {\r\n\t\t\tget: () => {\r\n\t\t\t\treturn _this.renderer.getClearAlpha();\r\n\t\t\t},\r\n\t\t\tset: (value) => {\r\n\t\t\t\t_this.renderer.setClearAlpha(value);\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tinitCubeControls(container, canvas) {\r\n\t\tthis.cubeControl = new CubeControls(container, canvas, this.isPerspectiveCamera);\r\n\t\tvar _this = this;\r\n\t\t_this.cubeControl.renderer.domElement.onclick = function (event) {\r\n\t\t\t_this.cubeControl.onPick(_this.camera, _this.controls);\r\n\t\t};\r\n\t\tvar goHome = document.getElementById(\"cubeViewHome\");\r\n\t\tgoHome.addEventListener(\r\n\t\t\t\"click\",\r\n\t\t\tfunction () {\r\n\t\t\t\t_this.cubeControl.onGoHome(_this.camera, _this.controls);\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t}\r\n\tinitPivot() {\r\n\t\tconst geometry = new SphereGeometry(0.2, 32, 16);\r\n\t\tthis.pivot = new Mesh(geometry, CubeControlMaterial.hoverCube);\r\n\t\tthis.pivot.userData.CustomModel = true;\r\n\t\tthis.pivot.userData.Hover = customMaterial.hoverModel;\r\n\t\tthis.pivot.userData.Normal = customMaterial.normalModel;\r\n\t\tthis.pivot.userData.Select = customMaterial.selectModel;\r\n\t\tthis.scene.add(this.pivot);\r\n\t}\r\n\tonShowDimension(visible) {\r\n\t\tvar _this = this;\r\n\t\tvar lines = _this.scene.children.filter((c) => CustomType.isLine(c) && c.userData.Location.Dimension);\r\n\t\tvar arcs = _this.scene.children.filter((c) => CustomType.isArc(c) && c.userData.Location.Dimension);\r\n\t\tlines.forEach((c) => {\r\n\t\t\tc.userData.Location.Dimension.userData.visibility(_this.scene, visible);\r\n\t\t});\r\n\t\tarcs.forEach((c) => {\r\n\t\t\tc.userData.Location.Dimension.userData.visibility(_this.scene, visible);\r\n\t\t\tc.userData.Location.AngleDimension.userData.visibility(_this.scene, visible);\r\n\t\t});\r\n\t}\r\n\tonChangeDimensionLabel(factor) {\r\n\t\tvar _this = this;\r\n\t\tvar lines = _this.scene.children.filter((c) => CustomType.isLine(c) && c.userData.Location.Dimension);\r\n\t\tvar arcs = _this.scene.children.filter((c) => CustomType.isArc(c) && c.userData.Location.Dimension);\r\n\t\tlines.forEach((c) => {\r\n\t\t\tc.userData.Location.Dimension.userData.onChangeLabel(factor);\r\n\t\t});\r\n\t\tarcs.forEach((c) => {\r\n\t\t\tc.userData.Location.Dimension.userData.onChangeLabel(factor);\r\n\t\t\tc.userData.Location.AngleDimension.userData.onChangeLabel(factor);\r\n\t\t});\r\n\t}\r\n\tonAnimate() {\r\n\t\tvar _this = this;\r\n\t\tfunction animate() {\r\n\t\t\t_this.camera.updateProjectionMatrix();\r\n\t\t\t_this.controls.update();\r\n\t\t\tTWEEN.update();\r\n\t\t\t_this.renderer.render(_this.scene, _this.camera);\r\n\t\t\t_this.labelRenderer.render(_this.scene, _this.camera);\r\n\t\t\t_this.cubeControl.animate(_this.camera, _this.controls);\r\n\t\t\trequestAnimationFrame(animate);\r\n\t\t}\r\n\t\tanimate();\r\n\t}\r\n}\r\n","import fontJSON from \"../../assets/font/droid_sans_bold.typeface.json\";\r\nimport { BoxGeometry, Mesh, RingGeometry, Vector3 } from \"three\";\r\nimport { FontLoader } from \"three/examples/jsm/loaders/FontLoader.js\";\r\nimport { TextGeometry } from \"three/examples/jsm/geometries/TextGeometry.js\";\r\nimport { Tween } from \"@tweenjs/tween.js\";\r\n\r\nimport { CubeControlMaterial } from \"../material/CubeControlMaterial\";\r\nexport class BoxCube {\r\n\tconstructor(scene) {\r\n\t\tthis.scene = scene;\r\n\t\tthis.left = this.initItem(\"left\", 96, 96, 16, 0, 0, 56);\r\n\t\tinitText3D(this.scene, \"left\", -46, -18, 64);\r\n\t\tthis.right = this.initItem(\"right\", 96, 96, 16, 0, 0, -56);\r\n\t\tinitText3D(this.scene, \"right\", -56, -18, 64);\r\n\r\n\t\tthis.top = this.initItem(\"top\", 96, 16, 96, 0, 56, 0);\r\n\t\tinitText3D(this.scene, \"top\", -46, -18, 64);\r\n\r\n\t\tthis.bottom = this.initItem(\"bottom\", 96, 16, 96, 0, -56, 0);\r\n\t\tinitText3D(this.scene, \"bottom\", -46, -18, 64);\r\n\r\n\t\tthis.front = this.initItem(\"front\", 16, 96, 96, 56, 0, 0);\r\n\t\tinitText3D(this.scene, \"front\", -58, -18, 64);\r\n\t\tthis.back = this.initItem(\"back\", 16, 96, 96, -56, 0, 0);\r\n\t\tinitText3D(this.scene, \"back\", -58, -18, 64);\r\n\r\n\t\tinitTextRing(this.scene, \"W\", -32, -57, 75);\r\n\t\tinitTextRing(this.scene, \"E\", -16, -57, -75);\r\n\t\tinitTextRing(this.scene, \"N\", -75, -57, 20);\r\n\t\tinitTextRing(this.scene, \"S\", 75, -57, 20);\r\n\r\n\t\tthis.left_front = this.initItem(\"left_front\", 16, 96, 16, 56, 0, 56);\r\n\t\tthis.left_back = this.initItem(\"left_back\", 16, 96, 16, -56, 0, 56);\r\n\t\tthis.right_front = this.initItem(\"right_front\", 16, 96, 16, 56, 0, -56);\r\n\t\tthis.right_back = this.initItem(\"right_back\", 16, 96, 16, -56, 0, -56);\r\n\r\n\t\tthis.top_left = this.initItem(\"top_left\", 96, 16, 16, 0, 56, 56);\r\n\t\tthis.top_right = this.initItem(\"top_right\", 96, 16, 16, 0, 56, -56);\r\n\t\tthis.top_front = this.initItem(\"top_front\", 16, 16, 96, 56, 56, 0);\r\n\t\tthis.top_back = this.initItem(\"top_back\", 16, 16, 96, -56, 56, 0);\r\n\r\n\t\tthis.bottom_left = this.initItem(\"bottom_left\", 96, 16, 16, 0, -56, 56);\r\n\t\tthis.bottom_right = this.initItem(\"bottom_right\", 96, 16, 16, 0, -56, -56);\r\n\t\tthis.bottom_front = this.initItem(\"bottom_front\", 16, 16, 96, 56, -56, 0);\r\n\t\tthis.bottom_back = this.initItem(\"bottom_back\", 16, 16, 96, -56, -56, 0);\r\n\r\n\t\tthis.top_left_front = this.initItem(\"top_left_front\", 16, 16, 16, 56, 56, 56);\r\n\t\tthis.top_left_back = this.initItem(\"top_left_back\", 16, 16, 16, -56, 56, 56);\r\n\t\tthis.top_right_front = this.initItem(\"top_right_front\", 16, 16, 16, 56, 56, -56);\r\n\t\tthis.top_right_back = this.initItem(\"top_right_back\", 16, 16, 16, -56, 56, -56);\r\n\r\n\t\tthis.bottom_left_front = this.initItem(\"bottom_left_front\", 16, 16, 16, 56, -56, 56);\r\n\t\tthis.bottom_left_back = this.initItem(\"bottom_left_back\", 16, 16, 16, -56, -56, 56);\r\n\t\tthis.bottom_right_front = this.initItem(\"bottom_right_front\", 16, 16, 16, 56, -56, -56);\r\n\t\tthis.bottom_right_back = this.initItem(\"bottom_right_back\", 16, 16, 16, -56, -56, -56);\r\n\t\t// this.floor = this.initFloor(\"floor\", 400, 2, 400, 0, -68, 0)\r\n\t\tthis.initRing();\r\n\t}\r\n\tinitItem(name, x0, y0, z0, x1, y1, z1) {\r\n\t\tvar geometry = new BoxGeometry(x0, y0, z0);\r\n\t\tgeometry.translate(x1, y1, z1);\r\n\t\tvar mesh = new Mesh(geometry, CubeControlMaterial.normalCube);\r\n\t\tthis.scene.add(mesh);\r\n\t\tmesh.name = name;\r\n\t\treturn mesh;\r\n\t}\r\n\r\n\tinitRing() {\r\n\t\tvar geometry = new RingGeometry(80, 130, 30);\r\n\t\tgeometry.rotateX(-Math.PI / 2);\r\n\t\tgeometry.translate(0, -60, 0);\r\n\t\tvar mesh = new Mesh(geometry, CubeControlMaterial.ring);\r\n\t\tmesh.name = \"W\" + \"TextCube\";\r\n\t\tmesh.textCube = \"W\";\r\n\t\tthis.scene.add(mesh);\r\n\t\treturn mesh;\r\n\t}\r\n}\r\n\r\nfunction initText3D(scene, name, x1, y1, z1) {\r\n\tconst loader = new FontLoader();\r\n\tconst fontLoader = loader.load(fontJSON, (font) => {\r\n\t\tconst parameters = {\r\n\t\t\tfont: font,\r\n\t\t\tsize: 36,\r\n\t\t\theight: 2,\r\n\t\t};\r\n\t\tif (name === \"bottom\") {\r\n\t\t\tvar textCube = new TextGeometry(\"bot\", parameters);\r\n\t\t} else {\r\n\t\t\tvar textCube = new TextGeometry(name, parameters);\r\n\t\t}\r\n\t\ttextCube.translate(x1, y1, z1);\r\n\t\thasRotate(name, textCube);\r\n\t\tvar meshCube = new Mesh(textCube, CubeControlMaterial.textCube);\r\n\t\tmeshCube.name = name + \"TextCube\";\r\n\t\tmeshCube.textCube = name;\r\n\t\tscene.add(meshCube);\r\n\t});\r\n}\r\nfunction initTextRing(scene, name, x1, y1, z1) {\r\n\tconst loader = new FontLoader();\r\n\tconst fontLoader = loader.load(fontJSON, (font) => {\r\n\t\tconst parameters = {\r\n\t\t\tfont: font,\r\n\t\t\tsize: 50,\r\n\t\t\theight: 2,\r\n\t\t};\r\n\t\tvar textCube = new TextGeometry(name, parameters);\r\n\t\trotateRing(name, textCube);\r\n\t\ttextCube.translate(x1, y1, z1);\r\n\t\tvar meshCube = new Mesh(textCube, CubeControlMaterial.textRing);\r\n\t\tmeshCube.name = name + \"TextCube\";\r\n\t\tmeshCube.textCube = name;\r\n\t\tscene.add(meshCube);\r\n\t});\r\n}\r\nfunction rotateRing(name, textCube) {\r\n\tswitch (name) {\r\n\t\tcase \"W\":\r\n\t\t\ttextCube.rotateX(Math.PI / 2);\r\n\t\t\tbreak;\r\n\t\tcase \"E\":\r\n\t\t\ttextCube.rotateX(-Math.PI / 2);\r\n\t\t\tbreak;\r\n\t\tcase \"S\":\r\n\t\t\ttextCube.rotateY(Math.PI / 2);\r\n\t\t\ttextCube.rotateZ(-Math.PI / 2);\r\n\t\t\tbreak;\r\n\t\tcase \"N\":\r\n\t\t\ttextCube.rotateY(Math.PI / 2);\r\n\t\t\ttextCube.rotateZ(Math.PI / 2);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n}\r\nfunction hasRotate(name, textCube) {\r\n\tswitch (name) {\r\n\t\tcase \"left\":\r\n\t\t\tbreak;\r\n\t\tcase \"right\":\r\n\t\t\ttextCube.rotateY(Math.PI);\r\n\t\t\tbreak;\r\n\t\tcase \"top\":\r\n\t\t\ttextCube.rotateY(Math.PI / 2);\r\n\t\t\ttextCube.rotateZ(Math.PI / 2);\r\n\t\t\tbreak;\r\n\t\tcase \"bottom\":\r\n\t\t\ttextCube.rotateX(Math.PI / 2);\r\n\t\t\tbreak;\r\n\t\tcase \"front\":\r\n\t\t\ttextCube.rotateY(Math.PI / 2);\r\n\t\t\tbreak;\r\n\t\tcase \"back\":\r\n\t\t\ttextCube.rotateY(-Math.PI / 2);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n}\r\nconst speedTween = 500;\r\n\r\nexport function switchPick(camera0, controls0, name) {\r\n\tvar x = camera0.position.x;\r\n\tvar y = camera0.position.y;\r\n\tvar z = camera0.position.z;\r\n\tvar rX = camera0.rotation.x;\r\n\tvar rY = camera0.rotation.y;\r\n\tvar rZ = camera0.rotation.z;\r\n\tconst tween = new Tween({ pos: { x: x, y: y, z: z } });\r\n\tconst pos = camera0.userData.pos;\r\n\tswitch (name) {\r\n\t\tcase \"left\":\r\n\t\t\ttween.to({ pos: { x: 0, y: 0, z: pos } }, speedTween);\r\n\r\n\t\t\tbreak;\r\n\t\tcase \"right\":\r\n\t\t\ttween.to({ pos: { x: 0, y: 0, z: -pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"top\":\r\n\t\t\ttween.to({ pos: { x: 0, y: pos, z: 0 } }, speedTween);\r\n\r\n\t\t\tbreak;\r\n\t\tcase \"bottom\":\r\n\t\t\ttween.to({ pos: { x: 0, y: -pos, z: 0 } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"front\":\r\n\t\t\ttween.to({ pos: { x: pos, y: 0, z: 0 } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"back\":\r\n\t\t\ttween.to({ pos: { x: -pos, y: 0, z: 0 } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"left_front\":\r\n\t\t\ttween.to({ pos: { x: pos, y: 0, z: pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"left_back\":\r\n\t\t\ttween.to({ pos: { x: -pos, y: 0, z: pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"right_front\":\r\n\t\t\ttween.to({ pos: { x: pos, y: 0, z: -pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"right_back\":\r\n\t\t\ttween.to({ pos: { x: -pos, y: 0, z: -pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"top_left\":\r\n\t\t\ttween.to({ pos: { x: 0, y: pos, z: pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"top_right\":\r\n\t\t\ttween.to({ pos: { x: 0, y: pos, z: -pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"top_front\":\r\n\t\t\ttween.to({ pos: { x: pos, y: pos, z: 0 } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"top_back\":\r\n\t\t\ttween.to({ pos: { x: -pos, y: pos, z: 0 } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"bottom_left\":\r\n\t\t\ttween.to({ pos: { x: 0, y: -pos, z: pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"bottom_right\":\r\n\t\t\ttween.to({ pos: { x: 0, y: -pos, z: -pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"bottom_front\":\r\n\t\t\ttween.to({ pos: { x: pos, y: -pos, z: 0 } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"bottom_back\":\r\n\t\t\ttween.to({ pos: { x: -pos, y: -pos, z: 0 } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"top_left_front\":\r\n\t\t\ttween.to({ pos: { x: pos, y: pos, z: pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"top_left_back\":\r\n\t\t\ttween.to({ pos: { x: -pos, y: pos, z: pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"top_right_front\":\r\n\t\t\ttween.to({ pos: { x: pos, y: pos, z: -pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"top_right_back\":\r\n\t\t\ttween.to({ pos: { x: -pos, y: pos, z: -pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"bottom_left_front\":\r\n\t\t\ttween.to({ pos: { x: pos, y: -pos, z: pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"bottom_left_back\":\r\n\t\t\ttween.to({ pos: { x: -pos, y: -pos, z: pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"bottom_right_front\":\r\n\t\t\ttween.to({ pos: { x: pos, y: -pos, z: -pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tcase \"bottom_right_back\":\r\n\t\t\ttween.to({ pos: { x: -pos, y: -pos, z: -pos } }, speedTween);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\ttween.onUpdate((coords) => {\r\n\t\tcamera0.position.x = coords.pos.x;\r\n\t\tcamera0.position.y = coords.pos.y;\r\n\t\tcamera0.position.z = coords.pos.z;\r\n\t});\r\n\tcamera0.lookAt(0, 0, 0);\r\n\tcontrols0.target = new Vector3(0, 0, 0);\r\n\ttween.start();\r\n}\r\n","import {\r\n\tAmbientLight,\r\n\tDirectionalLight,\r\n\tScene,\r\n\tWebGLRenderer,\r\n\tOrthographicCamera,\r\n\tPerspectiveCamera,\r\n\tRaycaster,\r\n\tVector2,\r\n\tVector3,\r\n} from \"three\";\r\nimport { Tween } from \"@tweenjs/tween.js\";\r\nimport { CubeControlMaterial, LightColor } from \"../material\";\r\nimport { BoxCube, switchPick } from \"./BoxCube.js\";\r\nexport class CubeControls {\r\n\tconstructor(container, canvas, isPerspectiveCamera) {\r\n\t\tthis.scene = new Scene();\r\n\t\tthis.container = container;\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.width = this.container.clientWidth;\r\n\t\tthis.height = this.container.clientHeight;\r\n\r\n\t\tthis.initCamera(isPerspectiveCamera);\r\n\t\tthis.initLight();\r\n\t\tthis.initRenderer();\r\n\t\tthis.initRayCaster();\r\n\t\tthis.boxCube = new BoxCube(this.scene);\r\n\t\tthis.onHover();\r\n\t}\r\n\tinitPerspectiveCamera() {\r\n\t\tvar camera = new PerspectiveCamera(45, this.width / this.height, 0.1, 1000);\r\n\t\tcamera.position.z = 400;\r\n\t\tcamera.position.y = 400;\r\n\t\tcamera.position.x = 400;\r\n\t\tcamera.lookAt(this.scene.position);\r\n\t\tcamera.userData.pos = 400;\r\n\t\tcamera.layers.enableAll();\r\n\t\tcamera.layers.toggle(1);\r\n\t\treturn camera;\r\n\t}\r\n\tinitOrthographicCamera() {\r\n\t\tvar camera = new OrthographicCamera(\r\n\t\t\tthis.width / -1,\r\n\t\t\tthis.width / 1,\r\n\t\t\tthis.height / 1,\r\n\t\t\tthis.height / -1,\r\n\t\t\t-1000,\r\n\t\t\t1000\r\n\t\t);\r\n\t\tcamera.position.z = 100;\r\n\t\tcamera.position.y = 100;\r\n\t\tcamera.position.x = 100;\r\n\t\tcamera.lookAt(0, 0, 0);\r\n\t\tcamera.userData.pos = 100;\r\n\t\tcamera.layers.enableAll();\r\n\t\tcamera.layers.toggle(1);\r\n\t\treturn camera;\r\n\t}\r\n\tinitCamera(isPerspectiveCamera) {\r\n\t\tthis.perspectiveCamera = this.initPerspectiveCamera();\r\n\t\tthis.orthographicCamera = this.initOrthographicCamera();\r\n\t\tthis.camera = isPerspectiveCamera ? this.perspectiveCamera : this.orthographicCamera;\r\n\t}\r\n\tinitLight() {\r\n\t\tthis.ambientLight = new AmbientLight(LightColor.light, 2);\r\n\t\tthis.scene.add(this.ambientLight);\r\n\t\tthis.directionalLight = new DirectionalLight(LightColor.light, 2);\r\n\t\tthis.directionalLight.position.set(0, 10, 0);\r\n\t\tthis.directionalLight.target.position.set(-5, 0, 0);\r\n\t\tthis.scene.add(this.directionalLight);\r\n\t\tthis.scene.add(this.directionalLight.target);\r\n\t}\r\n\tinitRenderer() {\r\n\t\tthis.renderer = new WebGLRenderer({ canvas: this.canvas, alpha: true, antialias: true });\r\n\t\tthis.renderer.setSize(this.width, this.height);\r\n\t\tthis.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\n\t\tthis.renderer.localClippingEnabled = true;\r\n\t\tthis.renderer.domElement.setAttribute(\"tabindex\", 1);\r\n\t}\r\n\tinitRayCaster() {\r\n\t\tthis.rayCaster = new Raycaster();\r\n\t\tthis.rayCaster.firstHitOnly = true;\r\n\t\tthis.mouse = new Vector2();\r\n\t}\r\n\tcast(event) {\r\n\t\tconst bounds = this.renderer.domElement.getBoundingClientRect();\r\n\t\tconst x1 = event.clientX - bounds.left;\r\n\t\tconst y1 = event.clientY - bounds.top;\r\n\t\tconst x2 = bounds.right - bounds.left;\r\n\t\tthis.mouse.x = (x1 / x2) * 2 - 1;\r\n\t\tconst y2 = bounds.bottom - bounds.top;\r\n\t\tthis.mouse.y = -(y1 / y2) * 2 + 1;\r\n\t}\r\n\tonHover() {\r\n\t\tthis.mouseOn = false;\r\n\t\tvar _this = this;\r\n\t\t_this.renderer.domElement.addEventListener(\"mousemove\", function (event) {\r\n\t\t\t_this.cast(event);\r\n\t\t\t_this.mouseOn = true;\r\n\t\t});\r\n\t\t_this.renderer.domElement.addEventListener(\"mouseout\", function (event) {\r\n\t\t\t_this.mouseOn = false;\r\n\t\t});\r\n\t}\r\n\thover() {\r\n\t\tvar _this = this;\r\n\t\tif (_this.mouseOn) {\r\n\t\t\t_this.rayCaster.setFromCamera(_this.mouse, _this.camera);\r\n\t\t\tconst intersects = _this.rayCaster.intersectObjects(_this.scene.children);\r\n\t\t\tconst found = intersects[0];\r\n\t\t\tif (found) {\r\n\t\t\t\tif (!found.object.textCube) {\r\n\t\t\t\t\t_this.renderer.domElement.style.cursor = \"pointer\";\r\n\t\t\t\t\tfound.object.material = CubeControlMaterial.hoverCube;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_this.renderer.domElement.style.cursor = \"default\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tonPick(camera, controls) {\r\n\t\tif (this.mouse.x !== 0 || this.mouse.y !== 0) {\r\n\t\t\tthis.rayCaster.setFromCamera(this.mouse, this.camera);\r\n\t\t\tconst intersects = this.rayCaster.intersectObjects(this.scene.children);\r\n\t\t\tconst found = intersects[0];\r\n\t\t\tif (found) {\r\n\t\t\t\tswitchPick(camera, controls, found.object.name.trim());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tonGoHome(camera0, controls0) {\r\n\t\tvar x = camera0.position.x;\r\n\t\tvar y = camera0.position.y;\r\n\t\tvar z = camera0.position.z;\r\n\t\tvar pos = camera0.userData.pos;\r\n\t\tconst tween = new Tween({ pos: { x: x, y: y, z: z } });\r\n\t\ttween.to({ pos: { x: pos, y: pos, z: pos } }, 500);\r\n\t\ttween.onUpdate((coords) => {\r\n\t\t\tcamera0.position.x = coords.pos.x;\r\n\t\t\tcamera0.position.y = coords.pos.y;\r\n\t\t\tcamera0.position.z = coords.pos.z;\r\n\t\t});\r\n\t\tcamera0.lookAt(0, 0, 0);\r\n\t\tcamera0.zoom = 1;\r\n\t\tcontrols0.target = new Vector3(0, 0, 0);\r\n\t\ttween.start();\r\n\t}\r\n\tonToggleCamera(isPerspectiveCamera) {\r\n\t\tthis.camera = isPerspectiveCamera ? this.perspectiveCamera : this.orthographicCamera;\r\n\t}\r\n\tonVisibility(visible) {\r\n\t\tthis.container.style.display = visible ? \"block\" : \"none\";\r\n\t}\r\n\tresetMaterial() {\r\n\t\tfor (let i = 0; i < this.scene.children.length; i++) {\r\n\t\t\tif (this.scene.children[i].material) {\r\n\t\t\t\tif (!this.scene.children[i].textCube) {\r\n\t\t\t\t\tthis.scene.children[i].material = CubeControlMaterial.normalCube;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tanimate(camera, controls) {\r\n\t\t// caemera: camera\r\n\t\tvar vector = new Vector3(\r\n\t\t\tcamera.position.x - controls.target.x,\r\n\t\t\tcamera.position.y - controls.target.y,\r\n\t\t\tcamera.position.z - controls.target.z\r\n\t\t);\r\n\t\tvar pos = this.camera.userData.pos;\r\n\t\tvector = vector.normalize();\r\n\t\tvar Vector2 = new Vector3(vector.x * pos, vector.y * pos, vector.z * pos);\r\n\t\tvar newV = new Vector3(0, 0, 0).add(Vector2);\r\n\r\n\t\tthis.camera.position.x = newV.x;\r\n\t\tthis.camera.position.y = newV.y;\r\n\t\tthis.camera.position.z = newV.z;\r\n\r\n\t\tthis.camera.rotation.x = camera.rotation.x;\r\n\t\tthis.camera.rotation.y = camera.rotation.y;\r\n\t\tthis.camera.rotation.z = camera.rotation.z;\r\n\r\n\t\tthis.resetMaterial();\r\n\t\tthis.hover();\r\n\r\n\t\tthis.renderer.render(this.scene, this.camera);\r\n\t}\r\n}\r\n","export * from \"./BaseView\";\r\nexport * from \"./viewStyle\";\r\n","export function setMainViewStyle(div) {\r\n\tdiv.style.width = \"100%\";\r\n\tdiv.style.height = \"100%\";\r\n\tdiv.style.position = \"absolute\";\r\n\tdiv.style.left = 0;\r\n\tdiv.style.top = 0;\r\n\tdiv.style.outline = \"none\";\r\n}\r\n\r\nexport function setCubeViewStyle(div, config) {\r\n\tdiv.style.position = \"absolute\";\r\n\tdiv.style.top = 0;\r\n\tdiv.style.right = 0;\r\n\tdiv.style.zIndex = 999;\r\n\tif (!config) {\r\n\t\tdiv.style.width = \"140px\";\r\n\t\tdiv.style.height = \"140px\";\r\n\t} else {\r\n\t\tdiv.style.width = config.width ? config.width + \"px\" : \"140px\";\r\n\t\tdiv.style.height = config.height ? config.height + \"px\" : \"140px\";\r\n\t}\r\n}\r\nexport function setViewCanvasStyle(canvas) {\r\n\tcanvas.style.width = \"100%\";\r\n\tcanvas.style.height = \"100%\";\r\n}\r\nexport function setOverLayStyle(dom) {\r\n\tdom.style.width = \"600px\";\r\n\tdom.style.height = \"600px\";\r\n}\r\nexport function createDomElementView3D(parentContainer) {\r\n\tvar mainContainer = document.createElement(\"div\");\r\n\tvar mainCanvas = document.createElement(\"canvas\");\r\n\tvar cubeContainer = document.createElement(\"div\");\r\n\tvar cubeCanvas = document.createElement(\"canvas\");\r\n\tif (parentContainer) {\r\n\t\tparentContainer.appendChild(mainContainer);\r\n\t\tparentContainer.appendChild(cubeContainer);\r\n\t} else {\r\n\t\tdocument.body.appendChild(mainContainer);\r\n\t\tdocument.body.appendChild(cubeContainer);\r\n\t}\r\n\tmainContainer.appendChild(mainCanvas);\r\n\tcubeContainer.appendChild(cubeCanvas);\r\n\tsetMainViewStyle(mainContainer);\r\n\tsetViewCanvasStyle(mainCanvas);\r\n\tsetCubeViewStyle(cubeContainer);\r\n\tsetViewCanvasStyle(cubeCanvas);\r\n\treturn {\r\n\t\tmainContainer: mainContainer,\r\n\t\tmainCanvas: mainCanvas,\r\n\t\tcubeContainer: cubeContainer,\r\n\t\tcubeCanvas: cubeCanvas,\r\n\t};\r\n}\r\nexport function setGuiStyle(div) {\r\n\tdiv.style.position = \"fixed\";\r\n\tdiv.style.top = \"140px\";\r\n\tdiv.style.right = 0;\r\n\tdiv.style.height = \"calc(100vh - 140px)\";\r\n\tdiv.style.maxHeight = \"100vh%\";\r\n\tdiv.style.overflowY = \"auto\";\r\n\tdiv.style.display = \"none\";\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.bundle.min\";\r\n\r\nimport \"./assets/css/styles.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(<App />);\r\nreportWebVitals();\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nconst modelSlice = createSlice({\r\n\tname: \"model\",\r\n\tinitialState: {\r\n\t\tdrawing: 0,\r\n\t\tisModeling: false,\r\n\t},\r\n\treducers: {\r\n\t\tsetModelType: (state, action) => {\r\n\t\t\tconst { drawing, isModeling } = action.payload;\r\n\t\t\tstate.drawing = drawing;\r\n\t\t\tstate.isModeling = isModeling;\r\n\t\t},\r\n\t},\r\n});\r\nexport const { setModelType } = modelSlice.actions;\r\nexport default modelSlice.reducer;\r\n","import { combineReducers, configureStore } from \"@reduxjs/toolkit\";\r\nimport { persistStore, persistReducer, FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport modelReducer from \"./modelSlice\";\r\nconst reducer = {\r\n\tmodel: modelReducer,\r\n};\r\nconst appReducer = combineReducers(reducer);\r\nconst persistConfig = {\r\n\tkey: \"root\",\r\n\tversion: 1,\r\n\tstorage,\r\n\t// whiteList : reducer key wanna storage\r\n\t// blackList : reducer key don't wanna storage\r\n\twhitelist: [],\r\n};\r\nconst rootReducer = (state, action) => {\r\n\treturn appReducer(state, action);\r\n};\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nexport const store = configureStore({\r\n\treducer: persistedReducer,\r\n\tmiddleware: (getDefaultMiddleware) =>\r\n\t\tgetDefaultMiddleware({\r\n\t\t\tserializableCheck: {\r\n\t\t\t\tignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n\t\t\t},\r\n\t\t}),\r\n});\r\nexport const persistor = persistStore(store);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../img/pencil.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"../img/gimpBrush.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\r\\n    --offset-cubeControl: 140px;\\r\\n    --tabHeight: 67px;\\r\\n    --snap: 20px;\\r\\n}\\r\\n\\r\\n* {\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    font-size: 12px;\\r\\n    line-height: 12px;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody {\\r\\n    overflow: hidden;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nbutton,\\r\\ntextarea {\\r\\n    margin: 0!important;\\r\\n    padding: 0!important;\\r\\n}\\r\\n\\r\\nselect,\\r\\ninput {\\r\\n    margin: 0!important;\\r\\n    padding: 0 0 5px 0!important;\\r\\n}\\r\\n\\r\\n.btn-primary,\\r\\n.btn-secondary,\\r\\n.btn-warning,\\r\\n.btn-success {\\r\\n    margin: 0 5px!important;\\r\\n    padding: 5px!important\\r\\n}\\r\\n\\r\\n.btn-level {\\r\\n    color: #e2d9d9;\\r\\n    margin: 0 10px!important;\\r\\n}\\r\\n\\r\\n.btn-pin {\\r\\n    margin: 0 5px!important;\\r\\n    width: 40px!important;\\r\\n}\\r\\n\\r\\n\\r\\n/* Link */\\r\\n\\r\\n.linkTab {\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    height: 26px;\\r\\n    background: #52ecec;\\r\\n}\\r\\n\\r\\n.linkTab .btn {\\r\\n    width: 25px;\\r\\n    height: 25px;\\r\\n    padding: 2px !important;\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.linkTab.linkTab .unit {\\r\\n    background: rgb(188, 168, 168);\\r\\n}\\r\\n\\r\\n.unit .unit-label {\\r\\n    line-height: 25px;\\r\\n    margin: 0 5px;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n\\r\\n/* general */\\r\\n\\r\\n.card {\\r\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\r\\n}\\r\\n\\r\\n.card-menu {\\r\\n    padding: 2px;\\r\\n    margin: 0 5px;\\r\\n    display: inline-flex;\\r\\n    flex-direction: row;\\r\\n}\\r\\n\\r\\n.card-body {\\r\\n    padding: 0px;\\r\\n}\\r\\n\\r\\n.card-menu .input-payment div,\\r\\n.card-menu .input-payment input {\\r\\n    font-size: 16px;\\r\\n    height: 32px;\\r\\n    line-height: 32px;\\r\\n    margin: 0 10px;\\r\\n}\\r\\n\\r\\n.input-payment input {\\r\\n    width: 80px;\\r\\n    text-align: right;\\r\\n    padding-right: 5px!important;\\r\\n}\\r\\n\\r\\n\\r\\n/* View */\\r\\n\\r\\n.mainView {\\r\\n    width: 100%;\\r\\n    height: calc(100vh - (var(--tabHeight)));\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: var(--tabHeight);\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.cubeView {\\r\\n    position: absolute;\\r\\n    width: 140px;\\r\\n    height: 140px;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    z-index: 999;\\r\\n}\\r\\n\\r\\n.cubeViewHome {\\r\\n    position: absolute;\\r\\n    width: 20px;\\r\\n    top: 0;\\r\\n    left: -20px;\\r\\n}\\r\\n\\r\\n.cubeViewSetting {\\r\\n    position: absolute;\\r\\n    width: 20px;\\r\\n    bottom: 0;\\r\\n    left: -20px;\\r\\n}\\r\\n\\r\\n.cubeToggleCamera {\\r\\n    position: absolute;\\r\\n    width: 20px;\\r\\n    bottom: 0;\\r\\n    left: -20px;\\r\\n}\\r\\n\\r\\n.mainView canvas,\\r\\n.cubeView canvas {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.nav.nav-tabs {\\r\\n    margin-bottom: 0!important;\\r\\n    height: 25px!important;\\r\\n}\\r\\n\\r\\n.nav-item button {\\r\\n    padding: 5px!important;\\r\\n    margin: 0 2px!important;\\r\\n    text-align: center;\\r\\n    max-width: 200px;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n    min-width: 80px;\\r\\n    background-color: rgb(190, 185, 154)!important;\\r\\n    color: rgb(10, 17, 18)!important;\\r\\n    border-radius: 5px!important;\\r\\n}\\r\\n\\r\\n.nav-link.active {\\r\\n    background-color: rgb(79, 169, 239)!important;\\r\\n    color: rgb(235, 241, 230)!important;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.tab-content {\\r\\n    height: 40px!important;\\r\\n    background: #7f8080;\\r\\n}\\r\\n\\r\\n.fade.tab-pane {\\r\\n    height: 100%;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n\\r\\n/* Menu */\\r\\n\\r\\n.menuItemBtn {\\r\\n    padding: 0px!important;\\r\\n    margin: 2px!important;\\r\\n    width: 30px;\\r\\n    height: 30px\\r\\n}\\r\\n\\r\\n.menuItemBtn-active,\\r\\n.menuItemBtn:hover {\\r\\n    background: #aaaaa9!important\\r\\n}\\r\\n\\r\\n.menuItemBtn img {\\r\\n    width: 26px;\\r\\n    height: 26px\\r\\n}\\r\\n\\r\\n\\r\\n/* Chart */\\r\\n\\r\\n.chartContent {\\r\\n    width: 450px;\\r\\n    height: 450px;\\r\\n}\\r\\n\\r\\n.chartContent canvas {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.form-select {\\r\\n    padding: 0 5px!important\\r\\n}\\r\\n\\r\\n\\r\\n/* mouseRight */\\r\\n\\r\\n.mouseModify {\\r\\n    position: absolute;\\r\\n    padding: 2px!important;\\r\\n}\\r\\n\\r\\n.mouseRight {\\r\\n    position: absolute;\\r\\n    background: rgb(37, 35, 35);\\r\\n}\\r\\n\\r\\n.mouseRight-filter {\\r\\n    background: rgb(37, 35, 35);\\r\\n    position: absolute;\\r\\n    max-height: 300px;\\r\\n    overflow-y: auto;\\r\\n    overflow-x: hidden;\\r\\n}\\r\\n\\r\\n.comment {\\r\\n    position: absolute;\\r\\n    display: none;\\r\\n    top: 20%;\\r\\n    left: 20%;\\r\\n    padding: 1px;\\r\\n}\\r\\n\\r\\n.comment .form-control {\\r\\n    width: 200px;\\r\\n}\\r\\n\\r\\n.comment-header {\\r\\n    padding: 2px 0!important;\\r\\n}\\r\\n\\r\\n.btn-comment {\\r\\n    padding: 2px!important;\\r\\n}\\r\\n\\r\\n.mouseRight-filter .card-body,\\r\\n.mouseRight .card-body {\\r\\n    padding: 5px 0 !important;\\r\\n    max-width: 200px;\\r\\n    min-width: 150px;\\r\\n}\\r\\n\\r\\n.mouseRight-filter .btn,\\r\\n.mouseRight .btn {\\r\\n    width: 100%;\\r\\n    color: white;\\r\\n    margin: 5px 0;\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n.mouseRight-filter .btn:hover,\\r\\n.mouseRight .btn:hover {\\r\\n    background: rgb(175, 171, 171);\\r\\n    color: rgb(37, 35, 35);\\r\\n}\\r\\n\\r\\n.mouseRight-filter {\\r\\n    left: 100%;\\r\\n    top: 0\\r\\n}\\r\\n\\r\\n\\r\\n/* v2 */\\r\\n\\r\\n.side-menu {\\r\\n    z-index: 1;\\r\\n    position: fixed;\\r\\n    height: 100vh;\\r\\n}\\r\\n\\r\\n\\r\\n/* PROPERTY */\\r\\n\\r\\n.property {\\r\\n    width: 100%;\\r\\n    /* height: 100%; */\\r\\n    border-radius: 0!important;\\r\\n    margin: 0 !important;\\r\\n    padding: 0!important;\\r\\n}\\r\\n\\r\\n.property .property-item {\\r\\n    width: 100%;\\r\\n    height: 50%;\\r\\n    border: 1px solid #7f8080;\\r\\n    max-height: 100vh;\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.property-title,\\r\\n.property-group-title {\\r\\n    background: rgb(192, 189, 189);\\r\\n    padding: 2px;\\r\\n    margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.property-select-type {\\r\\n    width: 100%;\\r\\n    height: 50px;\\r\\n    margin: 0!important;\\r\\n    padding: 0!important;\\r\\n}\\r\\n\\r\\n.property-group .table-responsive,\\r\\n.property-group table {\\r\\n    margin: 0!important;\\r\\n    padding: 0!important;\\r\\n}\\r\\n\\r\\n.propBody tr td,\\r\\n.propBody tr td div {\\r\\n    padding: 2px!important;\\r\\n    font-size: 14px!important;\\r\\n    line-height: 18px!important;\\r\\n}\\r\\n\\r\\n.paraName {\\r\\n    margin: 0!important;\\r\\n    padding: 0!important;\\r\\n    align-items: left;\\r\\n    justify-content: center;\\r\\n    text-align: left;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n    max-width: 150px;\\r\\n    width: 80px;\\r\\n    min-width: 80px;\\r\\n}\\r\\n\\r\\n.propBody tr td select,\\r\\n.propBody tr td button,\\r\\n.propBody tr td input {\\r\\n    margin: 0!important;\\r\\n    padding: 2px!important;\\r\\n    font-size: 14px!important;\\r\\n    line-height: 14px!important;\\r\\n    /* width: 100%; */\\r\\n}\\r\\n\\r\\n.propertyContent {\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n    width: auto;\\r\\n    max-width: 500px;\\r\\n    max-height: 600px;\\r\\n    padding: 2px;\\r\\n}\\r\\n\\r\\n.propertyContent-tool {\\r\\n    margin: 2px 0!important;\\r\\n    padding: 2px 0!important;\\r\\n    border: black dashed 1px;\\r\\n}\\r\\n\\r\\n.titlePN {\\r\\n    font-size: 16px;\\r\\n    line-height: 20px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n\\r\\n/* multiselect */\\r\\n\\r\\n.multiSelect {\\r\\n    position: fixed;\\r\\n    border: 1px dashed black;\\r\\n    z-index: 10;\\r\\n    background: transparent;\\r\\n}\\r\\n\\r\\n\\r\\n/* explore */\\r\\n\\r\\n.explore {\\r\\n    position: absolute;\\r\\n    top: -30px;\\r\\n    width: 150px;\\r\\n}\\r\\n\\r\\n.floorPlane {\\r\\n    position: absolute;\\r\\n    width: 150px;\\r\\n}\\r\\n\\r\\n\\r\\n/* Filter */\\r\\n\\r\\n.filter td {\\r\\n    padding: 0px!important;\\r\\n    line-height: 30px!important;\\r\\n    font-weight: 700;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.filter tr th:nth-child(1),\\r\\n.filter tr th:nth-child(2),\\r\\n.filter tr th:nth-child(3) {\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n.filter tr th:nth-child(4) {\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n.filterItemName {\\r\\n    text-align: left;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n    max-width: 70px;\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.filterName {\\r\\n    width: 40%;\\r\\n    padding-left: 5px!important;\\r\\n    margin: 0 5px!important;\\r\\n}\\r\\n\\r\\n.filterSwitch {\\r\\n    height: 100%!important;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.filterSwitch button {\\r\\n    margin-left: 0!important;\\r\\n    margin-right: 0!important;\\r\\n    margin-top: 100%!important;\\r\\n    margin-bottom: 100%!important;\\r\\n}\\r\\n\\r\\n\\r\\n/* .filter td input,\\r\\n.filter td select {\\r\\n    height: 30px;\\r\\n    margin: 0!important;\\r\\n    padding: 0 5px !important\\r\\n} */\\r\\n\\r\\n.listFilterItem {\\r\\n    width: 100%;\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n    height: 100px;\\r\\n    min-height: 120px;\\r\\n    max-height: 800px;\\r\\n}\\r\\n\\r\\n.expressIDFilter {\\r\\n    text-align: center;\\r\\n    width: 100%;\\r\\n    color: blue;\\r\\n    padding: 2px 0 !important;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.filterStorage {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.filterStorage:hover,\\r\\n.expressIDFilter-active,\\r\\n.expressIDFilter:hover {\\r\\n    background: rgb(175, 171, 171);\\r\\n    color: rgb(37, 35, 35);\\r\\n}\\r\\n\\r\\n\\r\\n/* setting */\\r\\n\\r\\n.guiID {\\r\\n    position: fixed;\\r\\n    top: 210px;\\r\\n    right: 0;\\r\\n    max-height: calc(100vh - (var(--offset-cubeControl))- (var(--tabHeight)));\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.guiID div,\\r\\n.guiID span,\\r\\n.guiID .cr,\\r\\n.guiID input {\\r\\n    line-height: 27px!important;\\r\\n}\\r\\n\\r\\nspan.property-name {\\r\\n    align-items: left;\\r\\n    text-align: left;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n    max-width: 150px;\\r\\n}\\r\\n\\r\\n.labelDimension {\\r\\n    color: rgb(25, 24, 24);\\r\\n    font-family: sans-serif;\\r\\n    background: rgba(193, 13, 13, 0.6);\\r\\n    font-size: 12px;\\r\\n    line-height: 12px;\\r\\n    margin-top: -6px;\\r\\n    z-index: -1;\\r\\n}\\r\\n\\r\\n.dimension {\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: -24px;\\r\\n    font-family: monospace;\\r\\n    font-size: 16px;\\r\\n    width: 60px;\\r\\n    max-width: 80px;\\r\\n    height: 16px;\\r\\n    text-align: center;\\r\\n    border: none;\\r\\n    background: white;\\r\\n    border-radius: 2px;\\r\\n    padding: 1px 2px;\\r\\n    background: transparent;\\r\\n}\\r\\n\\r\\n.angle {\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 24px;\\r\\n    font-family: monospace;\\r\\n    font-size: 16px;\\r\\n    width: 60px;\\r\\n    max-width: 80px;\\r\\n    height: 16px;\\r\\n    text-align: center;\\r\\n    border: none;\\r\\n    background: white;\\r\\n    border-radius: 2px;\\r\\n    padding: 1px 2px;\\r\\n    background: transparent;\\r\\n}\\r\\n\\r\\n\\r\\n/* modify action */\\r\\n\\r\\n.pencil {\\r\\n    cursor: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \"), crosshair!important;\\r\\n}\\r\\n\\r\\n.maskDrop {\\r\\n    cursor: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \"), crosshair!important;\\r\\n}\\r\\n\\r\\n\\r\\n/* label */\\r\\n\\r\\n.dot {\\r\\n    height: var(--snap);\\r\\n    width: var(--snap);\\r\\n    border-radius: 50%;\\r\\n    display: inline-block;\\r\\n    border: #7f8080 solid 2px;\\r\\n}\\r\\n\\r\\n.endPoint {\\r\\n    width: var(--snap);\\r\\n    height: var(--snap);\\r\\n    border: black 1px solid;\\r\\n}\\r\\n\\r\\n.middle {\\r\\n    background: transparent;\\r\\n    width: 0px;\\r\\n    height: 0px;\\r\\n    border-left: var(--snap) solid transparent;\\r\\n    border-right: var(--snap) solid transparent;\\r\\n    border-bottom: var(--snap) solid black;\\r\\n    border-top: var(--snap) solid transparent;\\r\\n    position: absolute;\\r\\n    bottom: 0!important;\\r\\n}\\r\\n\\r\\n.intersect {\\r\\n    position: relative;\\r\\n    height: var(--snap);\\r\\n    /* this can be anything */\\r\\n    width: var(--snap);\\r\\n    /* ...but maintain 1:1 aspect ratio */\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.intersect::before,\\r\\n.intersect::after {\\r\\n    position: absolute;\\r\\n    content: '';\\r\\n    width: 100%;\\r\\n    height: 1px;\\r\\n    /* cross thickness */\\r\\n    background-color: black;\\r\\n}\\r\\n\\r\\n.intersect::before {\\r\\n    transform: rotate(45deg);\\r\\n}\\r\\n\\r\\n.intersect::after {\\r\\n    transform: rotate(-45deg);\\r\\n}\\r\\n\\r\\n\\r\\n/* tab */\\r\\n\\r\\n.toolTab {\\r\\n    border: 1px solid #7f8080;\\r\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/assets/css/styles.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\":root {\\r\\n    --offset-cubeControl: 140px;\\r\\n    --tabHeight: 67px;\\r\\n    --snap: 20px;\\r\\n}\\r\\n\\r\\n* {\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    font-size: 12px;\\r\\n    line-height: 12px;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody {\\r\\n    overflow: hidden;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nbutton,\\r\\ntextarea {\\r\\n    margin: 0!important;\\r\\n    padding: 0!important;\\r\\n}\\r\\n\\r\\nselect,\\r\\ninput {\\r\\n    margin: 0!important;\\r\\n    padding: 0 0 5px 0!important;\\r\\n}\\r\\n\\r\\n.btn-primary,\\r\\n.btn-secondary,\\r\\n.btn-warning,\\r\\n.btn-success {\\r\\n    margin: 0 5px!important;\\r\\n    padding: 5px!important\\r\\n}\\r\\n\\r\\n.btn-level {\\r\\n    color: #e2d9d9;\\r\\n    margin: 0 10px!important;\\r\\n}\\r\\n\\r\\n.btn-pin {\\r\\n    margin: 0 5px!important;\\r\\n    width: 40px!important;\\r\\n}\\r\\n\\r\\n\\r\\n/* Link */\\r\\n\\r\\n.linkTab {\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    height: 26px;\\r\\n    background: #52ecec;\\r\\n}\\r\\n\\r\\n.linkTab .btn {\\r\\n    width: 25px;\\r\\n    height: 25px;\\r\\n    padding: 2px !important;\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.linkTab.linkTab .unit {\\r\\n    background: rgb(188, 168, 168);\\r\\n}\\r\\n\\r\\n.unit .unit-label {\\r\\n    line-height: 25px;\\r\\n    margin: 0 5px;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n\\r\\n/* general */\\r\\n\\r\\n.card {\\r\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\r\\n}\\r\\n\\r\\n.card-menu {\\r\\n    padding: 2px;\\r\\n    margin: 0 5px;\\r\\n    display: inline-flex;\\r\\n    flex-direction: row;\\r\\n}\\r\\n\\r\\n.card-body {\\r\\n    padding: 0px;\\r\\n}\\r\\n\\r\\n.card-menu .input-payment div,\\r\\n.card-menu .input-payment input {\\r\\n    font-size: 16px;\\r\\n    height: 32px;\\r\\n    line-height: 32px;\\r\\n    margin: 0 10px;\\r\\n}\\r\\n\\r\\n.input-payment input {\\r\\n    width: 80px;\\r\\n    text-align: right;\\r\\n    padding-right: 5px!important;\\r\\n}\\r\\n\\r\\n\\r\\n/* View */\\r\\n\\r\\n.mainView {\\r\\n    width: 100%;\\r\\n    height: calc(100vh - (var(--tabHeight)));\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: var(--tabHeight);\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.cubeView {\\r\\n    position: absolute;\\r\\n    width: 140px;\\r\\n    height: 140px;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    z-index: 999;\\r\\n}\\r\\n\\r\\n.cubeViewHome {\\r\\n    position: absolute;\\r\\n    width: 20px;\\r\\n    top: 0;\\r\\n    left: -20px;\\r\\n}\\r\\n\\r\\n.cubeViewSetting {\\r\\n    position: absolute;\\r\\n    width: 20px;\\r\\n    bottom: 0;\\r\\n    left: -20px;\\r\\n}\\r\\n\\r\\n.cubeToggleCamera {\\r\\n    position: absolute;\\r\\n    width: 20px;\\r\\n    bottom: 0;\\r\\n    left: -20px;\\r\\n}\\r\\n\\r\\n.mainView canvas,\\r\\n.cubeView canvas {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.nav.nav-tabs {\\r\\n    margin-bottom: 0!important;\\r\\n    height: 25px!important;\\r\\n}\\r\\n\\r\\n.nav-item button {\\r\\n    padding: 5px!important;\\r\\n    margin: 0 2px!important;\\r\\n    text-align: center;\\r\\n    max-width: 200px;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n    min-width: 80px;\\r\\n    background-color: rgb(190, 185, 154)!important;\\r\\n    color: rgb(10, 17, 18)!important;\\r\\n    border-radius: 5px!important;\\r\\n}\\r\\n\\r\\n.nav-link.active {\\r\\n    background-color: rgb(79, 169, 239)!important;\\r\\n    color: rgb(235, 241, 230)!important;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.tab-content {\\r\\n    height: 40px!important;\\r\\n    background: #7f8080;\\r\\n}\\r\\n\\r\\n.fade.tab-pane {\\r\\n    height: 100%;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n\\r\\n/* Menu */\\r\\n\\r\\n.menuItemBtn {\\r\\n    padding: 0px!important;\\r\\n    margin: 2px!important;\\r\\n    width: 30px;\\r\\n    height: 30px\\r\\n}\\r\\n\\r\\n.menuItemBtn-active,\\r\\n.menuItemBtn:hover {\\r\\n    background: #aaaaa9!important\\r\\n}\\r\\n\\r\\n.menuItemBtn img {\\r\\n    width: 26px;\\r\\n    height: 26px\\r\\n}\\r\\n\\r\\n\\r\\n/* Chart */\\r\\n\\r\\n.chartContent {\\r\\n    width: 450px;\\r\\n    height: 450px;\\r\\n}\\r\\n\\r\\n.chartContent canvas {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.form-select {\\r\\n    padding: 0 5px!important\\r\\n}\\r\\n\\r\\n\\r\\n/* mouseRight */\\r\\n\\r\\n.mouseModify {\\r\\n    position: absolute;\\r\\n    padding: 2px!important;\\r\\n}\\r\\n\\r\\n.mouseRight {\\r\\n    position: absolute;\\r\\n    background: rgb(37, 35, 35);\\r\\n}\\r\\n\\r\\n.mouseRight-filter {\\r\\n    background: rgb(37, 35, 35);\\r\\n    position: absolute;\\r\\n    max-height: 300px;\\r\\n    overflow-y: auto;\\r\\n    overflow-x: hidden;\\r\\n}\\r\\n\\r\\n.comment {\\r\\n    position: absolute;\\r\\n    display: none;\\r\\n    top: 20%;\\r\\n    left: 20%;\\r\\n    padding: 1px;\\r\\n}\\r\\n\\r\\n.comment .form-control {\\r\\n    width: 200px;\\r\\n}\\r\\n\\r\\n.comment-header {\\r\\n    padding: 2px 0!important;\\r\\n}\\r\\n\\r\\n.btn-comment {\\r\\n    padding: 2px!important;\\r\\n}\\r\\n\\r\\n.mouseRight-filter .card-body,\\r\\n.mouseRight .card-body {\\r\\n    padding: 5px 0 !important;\\r\\n    max-width: 200px;\\r\\n    min-width: 150px;\\r\\n}\\r\\n\\r\\n.mouseRight-filter .btn,\\r\\n.mouseRight .btn {\\r\\n    width: 100%;\\r\\n    color: white;\\r\\n    margin: 5px 0;\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n.mouseRight-filter .btn:hover,\\r\\n.mouseRight .btn:hover {\\r\\n    background: rgb(175, 171, 171);\\r\\n    color: rgb(37, 35, 35);\\r\\n}\\r\\n\\r\\n.mouseRight-filter {\\r\\n    left: 100%;\\r\\n    top: 0\\r\\n}\\r\\n\\r\\n\\r\\n/* v2 */\\r\\n\\r\\n.side-menu {\\r\\n    z-index: 1;\\r\\n    position: fixed;\\r\\n    height: 100vh;\\r\\n}\\r\\n\\r\\n\\r\\n/* PROPERTY */\\r\\n\\r\\n.property {\\r\\n    width: 100%;\\r\\n    /* height: 100%; */\\r\\n    border-radius: 0!important;\\r\\n    margin: 0 !important;\\r\\n    padding: 0!important;\\r\\n}\\r\\n\\r\\n.property .property-item {\\r\\n    width: 100%;\\r\\n    height: 50%;\\r\\n    border: 1px solid #7f8080;\\r\\n    max-height: 100vh;\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.property-title,\\r\\n.property-group-title {\\r\\n    background: rgb(192, 189, 189);\\r\\n    padding: 2px;\\r\\n    margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.property-select-type {\\r\\n    width: 100%;\\r\\n    height: 50px;\\r\\n    margin: 0!important;\\r\\n    padding: 0!important;\\r\\n}\\r\\n\\r\\n.property-group .table-responsive,\\r\\n.property-group table {\\r\\n    margin: 0!important;\\r\\n    padding: 0!important;\\r\\n}\\r\\n\\r\\n.propBody tr td,\\r\\n.propBody tr td div {\\r\\n    padding: 2px!important;\\r\\n    font-size: 14px!important;\\r\\n    line-height: 18px!important;\\r\\n}\\r\\n\\r\\n.paraName {\\r\\n    margin: 0!important;\\r\\n    padding: 0!important;\\r\\n    align-items: left;\\r\\n    justify-content: center;\\r\\n    text-align: left;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n    max-width: 150px;\\r\\n    width: 80px;\\r\\n    min-width: 80px;\\r\\n}\\r\\n\\r\\n.propBody tr td select,\\r\\n.propBody tr td button,\\r\\n.propBody tr td input {\\r\\n    margin: 0!important;\\r\\n    padding: 2px!important;\\r\\n    font-size: 14px!important;\\r\\n    line-height: 14px!important;\\r\\n    /* width: 100%; */\\r\\n}\\r\\n\\r\\n.propertyContent {\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n    width: auto;\\r\\n    max-width: 500px;\\r\\n    max-height: 600px;\\r\\n    padding: 2px;\\r\\n}\\r\\n\\r\\n.propertyContent-tool {\\r\\n    margin: 2px 0!important;\\r\\n    padding: 2px 0!important;\\r\\n    border: black dashed 1px;\\r\\n}\\r\\n\\r\\n.titlePN {\\r\\n    font-size: 16px;\\r\\n    line-height: 20px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n\\r\\n/* multiselect */\\r\\n\\r\\n.multiSelect {\\r\\n    position: fixed;\\r\\n    border: 1px dashed black;\\r\\n    z-index: 10;\\r\\n    background: transparent;\\r\\n}\\r\\n\\r\\n\\r\\n/* explore */\\r\\n\\r\\n.explore {\\r\\n    position: absolute;\\r\\n    top: -30px;\\r\\n    width: 150px;\\r\\n}\\r\\n\\r\\n.floorPlane {\\r\\n    position: absolute;\\r\\n    width: 150px;\\r\\n}\\r\\n\\r\\n\\r\\n/* Filter */\\r\\n\\r\\n.filter td {\\r\\n    padding: 0px!important;\\r\\n    line-height: 30px!important;\\r\\n    font-weight: 700;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.filter tr th:nth-child(1),\\r\\n.filter tr th:nth-child(2),\\r\\n.filter tr th:nth-child(3) {\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n.filter tr th:nth-child(4) {\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n.filterItemName {\\r\\n    text-align: left;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n    max-width: 70px;\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.filterName {\\r\\n    width: 40%;\\r\\n    padding-left: 5px!important;\\r\\n    margin: 0 5px!important;\\r\\n}\\r\\n\\r\\n.filterSwitch {\\r\\n    height: 100%!important;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.filterSwitch button {\\r\\n    margin-left: 0!important;\\r\\n    margin-right: 0!important;\\r\\n    margin-top: 100%!important;\\r\\n    margin-bottom: 100%!important;\\r\\n}\\r\\n\\r\\n\\r\\n/* .filter td input,\\r\\n.filter td select {\\r\\n    height: 30px;\\r\\n    margin: 0!important;\\r\\n    padding: 0 5px !important\\r\\n} */\\r\\n\\r\\n.listFilterItem {\\r\\n    width: 100%;\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n    height: 100px;\\r\\n    min-height: 120px;\\r\\n    max-height: 800px;\\r\\n}\\r\\n\\r\\n.expressIDFilter {\\r\\n    text-align: center;\\r\\n    width: 100%;\\r\\n    color: blue;\\r\\n    padding: 2px 0 !important;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.filterStorage {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.filterStorage:hover,\\r\\n.expressIDFilter-active,\\r\\n.expressIDFilter:hover {\\r\\n    background: rgb(175, 171, 171);\\r\\n    color: rgb(37, 35, 35);\\r\\n}\\r\\n\\r\\n\\r\\n/* setting */\\r\\n\\r\\n.guiID {\\r\\n    position: fixed;\\r\\n    top: 210px;\\r\\n    right: 0;\\r\\n    max-height: calc(100vh - (var(--offset-cubeControl))- (var(--tabHeight)));\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.guiID div,\\r\\n.guiID span,\\r\\n.guiID .cr,\\r\\n.guiID input {\\r\\n    line-height: 27px!important;\\r\\n}\\r\\n\\r\\nspan.property-name {\\r\\n    align-items: left;\\r\\n    text-align: left;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n    max-width: 150px;\\r\\n}\\r\\n\\r\\n.labelDimension {\\r\\n    color: rgb(25, 24, 24);\\r\\n    font-family: sans-serif;\\r\\n    background: rgba(193, 13, 13, 0.6);\\r\\n    font-size: 12px;\\r\\n    line-height: 12px;\\r\\n    margin-top: -6px;\\r\\n    z-index: -1;\\r\\n}\\r\\n\\r\\n.dimension {\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: -24px;\\r\\n    font-family: monospace;\\r\\n    font-size: 16px;\\r\\n    width: 60px;\\r\\n    max-width: 80px;\\r\\n    height: 16px;\\r\\n    text-align: center;\\r\\n    border: none;\\r\\n    background: white;\\r\\n    border-radius: 2px;\\r\\n    padding: 1px 2px;\\r\\n    background: transparent;\\r\\n}\\r\\n\\r\\n.angle {\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 24px;\\r\\n    font-family: monospace;\\r\\n    font-size: 16px;\\r\\n    width: 60px;\\r\\n    max-width: 80px;\\r\\n    height: 16px;\\r\\n    text-align: center;\\r\\n    border: none;\\r\\n    background: white;\\r\\n    border-radius: 2px;\\r\\n    padding: 1px 2px;\\r\\n    background: transparent;\\r\\n}\\r\\n\\r\\n\\r\\n/* modify action */\\r\\n\\r\\n.pencil {\\r\\n    cursor: url(\\\"../img/pencil.png\\\"), crosshair!important;\\r\\n}\\r\\n\\r\\n.maskDrop {\\r\\n    cursor: url(\\\"../img/gimpBrush.png\\\"), crosshair!important;\\r\\n}\\r\\n\\r\\n\\r\\n/* label */\\r\\n\\r\\n.dot {\\r\\n    height: var(--snap);\\r\\n    width: var(--snap);\\r\\n    border-radius: 50%;\\r\\n    display: inline-block;\\r\\n    border: #7f8080 solid 2px;\\r\\n}\\r\\n\\r\\n.endPoint {\\r\\n    width: var(--snap);\\r\\n    height: var(--snap);\\r\\n    border: black 1px solid;\\r\\n}\\r\\n\\r\\n.middle {\\r\\n    background: transparent;\\r\\n    width: 0px;\\r\\n    height: 0px;\\r\\n    border-left: var(--snap) solid transparent;\\r\\n    border-right: var(--snap) solid transparent;\\r\\n    border-bottom: var(--snap) solid black;\\r\\n    border-top: var(--snap) solid transparent;\\r\\n    position: absolute;\\r\\n    bottom: 0!important;\\r\\n}\\r\\n\\r\\n.intersect {\\r\\n    position: relative;\\r\\n    height: var(--snap);\\r\\n    /* this can be anything */\\r\\n    width: var(--snap);\\r\\n    /* ...but maintain 1:1 aspect ratio */\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.intersect::before,\\r\\n.intersect::after {\\r\\n    position: absolute;\\r\\n    content: '';\\r\\n    width: 100%;\\r\\n    height: 1px;\\r\\n    /* cross thickness */\\r\\n    background-color: black;\\r\\n}\\r\\n\\r\\n.intersect::before {\\r\\n    transform: rotate(45deg);\\r\\n}\\r\\n\\r\\n.intersect::after {\\r\\n    transform: rotate(-45deg);\\r\\n}\\r\\n\\r\\n\\r\\n/* tab */\\r\\n\\r\\n.toolTab {\\r\\n    border: 1px solid #7f8080;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".list-model {\\r\\n    position: fixed;\\r\\n    top: 100px;\\r\\n    width: 200px;\\r\\n    left: -200px;\\r\\n}\\r\\n\\r\\n.list-model-active {\\r\\n    animation: openListModel 0.3s;\\r\\n    left: 5px;\\r\\n}\\r\\n\\r\\n@keyframes openListModel {\\r\\n    from {\\r\\n        left: -200px;\\r\\n    }\\r\\n    to {\\r\\n        left: 5px;\\r\\n    }\\r\\n}\\r\\n\\r\\n.list-material {\\r\\n    position: fixed;\\r\\n    top: 100px;\\r\\n    width: 240px;\\r\\n    left: -240px;\\r\\n}\\r\\n\\r\\n.list-material-active {\\r\\n    animation: openListMaterial 0.3s;\\r\\n    left: 5px;\\r\\n}\\r\\n\\r\\n@keyframes openListMaterial {\\r\\n    from {\\r\\n        left: -240px;\\r\\n    }\\r\\n    to {\\r\\n        left: 5px;\\r\\n    }\\r\\n}\\r\\n\\r\\n.list-material td button,\\r\\n.list-model td button {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.list-material td,\\r\\n.list-material th,\\r\\n.list-model td,\\r\\n.list-model th {\\r\\n    text-align: center;\\r\\n    align-items: center;\\r\\n    font-size: 12px;\\r\\n    height: 20px;\\r\\n    line-height: 20px;\\r\\n    max-width: 180px;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.list-model .modelID {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.list-model .modelID:hover {\\r\\n    background: #7ed9d9;\\r\\n}\\r\\n\\r\\n.list-model td button {\\r\\n    margin: 0px!important;\\r\\n    padding: 2px!important;\\r\\n}\\r\\n\\r\\n.property-model-title {\\r\\n    max-width: 200px;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.list-material td .form-control {\\r\\n    width: 60px!important;\\r\\n    margin: 0px!important;\\r\\n    line-height: 20px;\\r\\n    padding: 2px!important;\\r\\n}\\r\\n\\r\\n.select-material {\\r\\n    background: rgb(190, 162, 162);\\r\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ExportModel/ExportModel.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,eAAe;IACf,UAAU;IACV,YAAY;IACZ,YAAY;AAChB;;AAEA;IACI,6BAA6B;IAC7B,SAAS;AACb;;AAEA;IACI;QACI,YAAY;IAChB;IACA;QACI,SAAS;IACb;AACJ;;AAEA;IACI,eAAe;IACf,UAAU;IACV,YAAY;IACZ,YAAY;AAChB;;AAEA;IACI,gCAAgC;IAChC,SAAS;AACb;;AAEA;IACI;QACI,YAAY;IAChB;IACA;QACI,SAAS;IACb;AACJ;;AAEA;;IAEI,WAAW;AACf;;AAEA;;;;IAII,kBAAkB;IAClB,mBAAmB;IACnB,eAAe;IACf,YAAY;IACZ,iBAAiB;IACjB,gBAAgB;IAChB,mBAAmB;IACnB,2BAA2B;IAC3B,uBAAuB;AAC3B;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,qBAAqB;IACrB,sBAAsB;AAC1B;;AAEA;IACI,gBAAgB;IAChB,mBAAmB;IACnB,2BAA2B;IAC3B,uBAAuB;AAC3B;;AAEA;IACI,qBAAqB;IACrB,qBAAqB;IACrB,iBAAiB;IACjB,sBAAsB;AAC1B;;AAEA;IACI,8BAA8B;AAClC\",\"sourcesContent\":[\".list-model {\\r\\n    position: fixed;\\r\\n    top: 100px;\\r\\n    width: 200px;\\r\\n    left: -200px;\\r\\n}\\r\\n\\r\\n.list-model-active {\\r\\n    animation: openListModel 0.3s;\\r\\n    left: 5px;\\r\\n}\\r\\n\\r\\n@keyframes openListModel {\\r\\n    from {\\r\\n        left: -200px;\\r\\n    }\\r\\n    to {\\r\\n        left: 5px;\\r\\n    }\\r\\n}\\r\\n\\r\\n.list-material {\\r\\n    position: fixed;\\r\\n    top: 100px;\\r\\n    width: 240px;\\r\\n    left: -240px;\\r\\n}\\r\\n\\r\\n.list-material-active {\\r\\n    animation: openListMaterial 0.3s;\\r\\n    left: 5px;\\r\\n}\\r\\n\\r\\n@keyframes openListMaterial {\\r\\n    from {\\r\\n        left: -240px;\\r\\n    }\\r\\n    to {\\r\\n        left: 5px;\\r\\n    }\\r\\n}\\r\\n\\r\\n.list-material td button,\\r\\n.list-model td button {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.list-material td,\\r\\n.list-material th,\\r\\n.list-model td,\\r\\n.list-model th {\\r\\n    text-align: center;\\r\\n    align-items: center;\\r\\n    font-size: 12px;\\r\\n    height: 20px;\\r\\n    line-height: 20px;\\r\\n    max-width: 180px;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.list-model .modelID {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.list-model .modelID:hover {\\r\\n    background: #7ed9d9;\\r\\n}\\r\\n\\r\\n.list-model td button {\\r\\n    margin: 0px!important;\\r\\n    padding: 2px!important;\\r\\n}\\r\\n\\r\\n.property-model-title {\\r\\n    max-width: 200px;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden !important;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.list-material td .form-control {\\r\\n    width: 60px!important;\\r\\n    margin: 0px!important;\\r\\n    line-height: 20px;\\r\\n    padding: 2px!important;\\r\\n}\\r\\n\\r\\n.select-material {\\r\\n    background: rgb(190, 162, 162);\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!./styles.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!./styles.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!./ExportModel.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!./ExportModel.css\";\n       export default content && content.locals ? content.locals : undefined;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"./node_modules/web-ifc sync recursive\";\nmodule.exports = webpackEmptyContext;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"openBIM-React:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"bundle\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkopenBIM_React\"] = self[\"webpackChunkopenBIM_React\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors-node_modules_fortawesome_react-fontawesome_index_es_js-node_modules_reduxjs_toolkit_d-a664e5\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["React","Provider","store","persistor","PersistGate","Viewer","App","useContext","useEffect","useRef","useState","ToolContext","ToolButton","ListMaterial","imageExport","ExportModelMenu","listModel","handleShowListMaterial","handleExportBimModel","handleExportIfcModel","idTooltip","targetShowListMaterialRef","targetExportBimRef","targetExportIfcRef","current","disabled","length","material","bim","ifc","listMaterial","showListMaterial","handleAddMaterial","selectMaterial","setSelectMaterial","bodyRef","handleSelectMaterial","e","uuid","target","getAttribute","find","m","childNodes","forEach","n","className","classList","add","remove","map","mat","name","onChangeName","value","setColor","onChangeColor","alpha","onChangeAlpha","FontAwesomeIcon","LinkTab","props","unit","unitLabel","setUnitLabel","handleChangeUnit","onChange","width","mm","ModelDetailMenu","imageInPlace","typeModel","FinishModel","CancelModel","useSelector","ModelInPlaceMenu","modelType","showProfile","handleExtrude","handleRevolve","handleSweep","handleShowProfile","handleFinish","handleCancel","deepExtrude","handleChangeDeepExtrude","showProfilePanel","setShowProfilePanel","showDeep","setShowDeep","isModeling","state","model","targetExtrudeRef","targetRevolveRef","targetSweepRef","targetProfileRef","targetFinishRef","targetCancelRef","type","extrude","revolve","sweep","display","profile","Form","useDispatch","imageModeling","drawList","setDisabled","setModelingType","refreshModelingType","ModelingMenu","drawing","dispatch","documentModel","handleFinishProfile","handleCancelProfile","showTool","setShowTool","targetRectRef","targetCircleRef","targetArcRef","targetLineRef","targetMultiLineRef","targetPolygonRef","handleRectangle","rect","createProfileRect","workPlane","handleCircle","circle","createProfileCircle","handleArc","arc","createProfileArc","handleLine","line","createProfileLine","handleMultiLine","multiLine","createProfileMultiLine","handlePolygon","pentagon","createProfilePolygon","polygon","multi","Tab","Tabs","ModifyMenu","WorkPlaneMenu","Modify","tabType","setTabType","handleSelectTab","k","imageModify","ModelTypeClass","view","targetAlignRef","targetTrimRef","targetExtendRef","targetCopyRef","align","trim","extend","copy","handleAlignModify","handleTrimModify","handleExtendModify","handleCopyModify","modifyCopyElement","pickWorkPlane","workPlaneType","handleSetWorkPlane","handleApplyWorkPlane","handleOnChangeWorkPlaneType","handleShowWorkPlane","targetWorkPlanRef","targetShowWorkPlanRef","showWK","listWorkPlanes","plane","MouseRight","showMR","visibilityMR","handleDeleteModel","handleHideModel","handleShowAllModel","styleMouseRight","top","left","styleElement","show","showAll","MaterialModel","selectModel","handleOnChangeMaterial","l","userData","Selection","onChangeMaterial","Modal","PropertyModel","showPropertyModel","handleGeneratePropertyModel","handleCancelPropertyModel","SettingPanel","showGUI","guiRef","settingModel","init","createContext","ToolProvider","children","setShowMR","setVisibilityMR","setSelectModel","evenMouseDown","vis","evenClick","evenDoubleClick","isModel","setShowPropertyModel","listProfile","splice","indexOf","models","setListModel","setModelType","handleGrid","grid","handleLevel","level","window","confirm","setShowProfile","alert","createExtrude","dispose","setProfile","setShowWorkPlane","canCreateProfile","result","setDeepExtrude","isNaN","parseFloat","showWorkPlane","setPickWorkPlane","setWorkPlaneType","setWorkPlane","setShowListMaterial","materials","setListMaterial","addMaterial","exportBim","exportModels","console","log","handlePropertyModel","getModelById","factor","ToolTab","faHome","faCog","DocumentModel","mainView","mainCanvas","cubeView","cubeCanvas","setDocumentModel","setShowGUI","Overlay","Tooltip","faWindowClose","setShow","faCheck","title","handleClick","showTooltip","setShowTooltip","draw0","draw","Scene","BaseView","Tween","SettingModel","WorkPlane","UnitModel","ExportBimModel","highlightModel","pickModel","CustomType","ViewMaterial","mainContainer","cubeContainer","scene","clientWidth","height","clientHeight","initCubeControls","onAnimate","initResize","evenMouseMove","push","initMaterial","createMaterial","color","getHexString","set","_this","domElement","addEventListener","callback","filter","c","isProfile","which","clientY","clientX","Type","OutLine","removeFromParent","Profile","Location","visible","MeshLambertMaterial","MeshBasicMaterial","DoubleSide","MeshPhongMaterial","LightColor","CubeControlMaterial","mainCube","textTex","normalCube","transparent","opacity","depthTest","side","hoverCube","textCube","ifcMaterial","depthWrite","ring","textRing","LineBasicMaterial","customMaterial","normalLine","selectLine","hoverLine","normalModel","hoverModel","hoverFace","pointNormal","pointSelect","LineDashedMaterial","dimMaterial","outLine","linewidth","dim","tag","cloud","hoverTag","selectTag","tagSize","r","t","h","tolerance","angleSnap","Math","PI","minRadius","minExtend","tagText","extendText","point","clippingPlane","dotSnap","scale","dashSize","gapSize","tagTemp","Color","light","refPlan","getColorRGB","g","b","PlaneModelMaterial","normalPlane","sectionBoxPlan","hoverPlane","linecap","linejoin","hoverOutLine","control","hoverControl","hover","AlwaysStencilFunc","BackSide","IncrementWrapStencilOp","FrontSide","DecrementWrapStencilOp","NotEqualStencilFunc","ReplaceStencilOp","floor","random","toString","changeMaterial","option","backFaceStencilMat","colorWrite","stencilWrite","stencilFunc","stencilFail","stencilZFail","stencilZPass","frontFaceStencilMat","planeStencilMat","stencilRef","schema_version","meshes","elements","info","Author","ProjectID","Export","mesh_id","coordinates","indices","i","initModel","output","JSON","stringify","url","URL","createObjectURL","Blob","link","document","createElement","download","href","body","appendChild","click","wIfc","real","v","ref","empty","str","enm","ExportIFCModel","modelID","maxID","ifcAPI","api","lineObject","rawLineData","ID","expressID","arguments","ToTape","WriteRawLineData","o","pt","IfcCartesianPoint","IFCCARTESIANPOINT","x","y","z","Write","os","Promise","all","Point","refs","loop","IfcPolyLoop","IFCPOLYLOOP","IfcFaceOuterBound","IFCFACEOUTERBOUND","PolyLoop","bound","IfcFace","IFCFACE","FaceOuterBound","face","faceRefs","shell","IfcClosedShell","IFCCLOSEDSHELL","IfcFacetedBrep","IFCFACETEDBREP","ClosedShell","brep","col","IfcColourRgb","IFCCOLOURRGB","a","IfcSurfaceStyleShading","IFCSURFACESTYLESHADING","ColourRGB","IfcSurfaceStyleRendering","IFCSURFACESTYLERENDERING","IfcSurfaceStyle","IFCSURFACESTYLE","IfcSurfaceSide","BOTH","SurfaceStyleShading","IfcPresentationStyleAssignment","IFCPRESENTATIONSTYLEASSIGNMENT","SurfaceStyle","style","ShapeStyleAssignment","SurfaceStyleRendering","item","s","IfcStyledItem","IFCSTYLEDITEM","context","description","IfcStyledRepresentation","IFCSTYLEDREPRESENTATION","brepRefs","shape","IfcShapeRepresentation","IFCSHAPEREPRESENTATION","shapeRefs","def","IfcProductDefinitionShape","IFCPRODUCTDEFINITIONSHAPE","constructor","typeID","productShape","placement","substring","IfcBuilding","substr","IfcElementCompositionEnum","ELEMENT","IfcBuildingStorey","IfcSite","buildingStorey","elementsList","IfcRelContainedInSpatialStructure","element","IfcRelAggregates","IfcDirection","IFCDIRECTION","o2D","locationID","IfcAxis2Placement3D","IFCAXIS2PLACEMENT3D","Point2D","IfcAxis2Placement2D","IFCAXIS2PLACEMENT2D","AxisPlacement","axisID","IfcLocalPlacement","IFCLOCALPLACEMENT","rad","IfcCircleProfileDef","IFCCIRCLEPROFILEDEF","IfcProfileTypeEnum","AREA","AxisPlacement2D","IfcProject","IFCPROJECT","UnitAssignment","pos","north","IfcGeometricRepresentationContext","IFCGEOMETRICREPRESENTATIONCONTEXT","Dir","identifier","enumerated","IfcGeometricRepresentationSubContext","IFCGEOMETRICREPRESENTATIONSUBCONTEXT","lst","SiUnit","IfcUnitEnum","LENGTHUNIT","IfcSIUnitName","METRE","AREAUNIT","SQUARE_METRE","VOLUMEUNIT","CUBIC_METRE","MASSUNIT","GRAM","SOLIDANGLEUNIT","STERADIAN","TIMEUNIT","SECOND","THERMODYNAMICTEMPERATUREUNIT","DEGREE_CELSIUS","LUMINOUSINTENSITYUNIT","LUMEN","IfcUnitAssignment","IFCUNITASSIGNMENT","IfcSIUnit","IFCSIUNIT","dir","len","IfcExtrudedAreaSolid","IFCEXTRUDEDAREASOLID","CircleProfile","drawRect","drawCircle","drawArc","drawLine","drawMultiLine","drawPolygon","extrudeProfile","copyElement","ProfileModel","meshProfile","none","listPointProfile","disposeMeshProfile","btn","list","concat","conditionBound","data","pos0","controls","pos1","Start","position","tween","to","onUpdate","coords","start","getListPointsProfile","offsetPs","clone","normal","multiplyScalar","GUI","Plane","Vector3","dimension","guiContainer","opacityCustomModel","customModel","CustomModel","gui","autoPlace","generalFolder","addFolder","open","onShowDimension","label","onChangeDimensionLabel","Vector2","BufferAttribute","BufferGeometry","EdgesGeometry","Line","LineSegments","Mesh","MeshBVH","SNAP","getLocalVectorOnFace","CSS","castElement","filterModel","findFacePoints","intersectPointPlane","createPoint","initListWorkPlanes","initWorkPlane","initItemWorkPlane","origin","setFromNormalAndCoplanarPoint","planeMesh","initPlaneMesh","getAllPoints","points","gx","gz","snaps","geometry","setFromPoints","edges","mesh","initGird","gridX","gridZ","snapPoint","intersect","Grid","visibility","setGrid","end","snapGrid","p","distanceTo","visibilitySnap","snap","setPosition","refreshSnap","refreshGrid","computeBoundingBox","computeBoundingSphere","computeVertexNormals","boundsTree","geoX","lx","computeLineDistances","geoZ","lz","local","normalize","nx","negate","nz","x1","x2","z1","z2","v1","v2","v3","v4","x1S","x1E","x2S","x2E","z1S","z1E","z2S","z2E","xSnap","j","zSnap","mouse","pick","onMouseDown","onMouseMove","onkeydown","event","keyCode","finishCallBack","found","object","removeEventListener","parseInt","pickPlane","CurvePath","ExtrudeGeometry","LineCurve3","SphereGeometry","DiaP","DIM_WIDTH","ES","EXTEND_DIM","extrudeSetting","initShape","LINE_WIDTH","MAX_CIRCLE","OFFSET_DIM","getMiddlePoint","areEqual","CSS2DObject","LocationPoint","center","parent","visLabel","LocationLine","pS","pE","Direction","endPoint","Mid","middle","End","Normal","Curves","Dimension","createDimension","updateTempLine","Material","Select","sameNormals","isConnected","initGeometryLine","renderOrder","Hover","curve","p1","p2","input","round","onChangeDimension","createPointGeometryDimension","segment","pM","showDimension","onChangeLabel","LocationArc","angleArc","p0","AngleArc","Vertices","initVertices","initDirection","Center","dot","getEndPointArc","initCurveArc","AngleDimension","createAngleDimension","per","crossVectors","cos","sin","vertices","updateTempArc","initGeometryArc","angle0","angle","curves","createPointGeometryArcDimension","onChangeAngleDimension","isConnectStart","isConnectEnd","getListCurvesProfile","index","self","findIndex","dif","connect","disEnd1","disEnd2","css","div","nDir","voS","voE","v5","v6","v7","v8","v9","v10","v11","v12","bounds","getBoundingClientRect","y1","right","y2","bottom","rayCaster","setFromCamera","camera","intersectObjects","changeCursor","cursor","pointer","move","crosshair","alias","notAllowed","MAX_POINTS","drawPolyGon","count","createPolyGonSlab","background","polyGon","updatePolyGon","newPoints","positions","Float32Array","setAttribute","setDrawRange","setIndex","setPropertyPolyGon","polyPoints","corePositions","attributes","array","needsUpdate","findPointFromFace","intersectPointOriginPlane","getOldPoints","MIN_DIS","drawExtrude","equalPoints","equalIndex","perPoints","perIndex","notEqualPoints","onMouseUp","fromFace","isExtrude","mouseButtons","LEFT","enabled","dis","distanceToPoint","staticExtrude","newEqualPoints","offsetPointFromFace","newPerPoints","updateVerticesExtrude","addNewPoints","getAddNewPoints","pN","ps","newPs","setX","setY","setZ","getProjectPointFrom3Point","areEqualVector","p3","pro","d0","d1","v0","mid","d2","sqrt","d3","abs","atan","angleTo","initArc","isOrthoLine","angleZ","angleX","createTempLine","arc1","arc2","createTempArc","initLine","tempLine","generate","getProjectPointFromVector","poly","edge","prompt","generatePoints","l1","l2","l3","l4","Shape","SNAP_ANGLE","moveTo","quadraticCurveTo","extrudePath","steps","getPoints","CATEGORY","buildingProxy","slab","wall","beam","column","isPoint","isLine","isArc","INTERSECT_TYPE","equal","parallel","setDefaultModel","getMeshPoints","normalVector","getExtrudePoints","textContent","TrimElement","refresh","isSelect","isSelected","selected","getElementID","elementID","localStorage","getItem","parse","setItem","modelGenerate","curvePath","NormalMaterial","MeshProfile","TypeModel","NormalVector","Snaps","getSnapPoints","SnapPoint","getCoordination","getIndices","vector","rotation","qx","qy","qz","qw","guid","getBounding","arrIndex","getX","getY","getZ","getAreaSurface","sum","getVolume","faces","fromBufferAttribute","signedVolumeOfTriangle","cross","max","boundingBox","min","Raycaster","intersectPlaneElevation","elevation","renderer","raycaster","ray","intersectPlane","newNormal","newPlane","firstValue","secondValue","dis1","point1","point2","newVector","getAllPointSnap","workPlaneSnaps","allSnaps","normal0","getIntersectTypeLines","getIntersectLines","AmbientLight","AxesHelper","DirectionalLight","GridHelper","OrthographicCamera","PerspectiveCamera","WebGLRenderer","PlaneGeometry","sRGBEncoding","computeBoundsTree","disposeBoundsTree","acceleratedRaycast","CSS2DRenderer","TWEEN","OrbitControls","CubeControls","container","canvas","initMeshBVH","initGrid","initAxes","initLight","initRayCaster","initCamera","initRenderer","initOrbitControls","setDomElement","initDefineAlpha","initOrthoLine","prototype","raycast","axes","firstHitOnly","params","Points","threshold","tabKey","ambientLight","directionalLight","castShadow","shadow","bias","mapSize","near","far","lookAt","layers","enableAll","toggle","isPerspectiveCamera","perspectiveCamera","initPerspectiveCamera","orthographicCamera","initOrthographicCamera","antialias","setSize","setPixelRatio","devicePixelRatio","localClippingEnabled","outputEncoding","gammaFactor","labelRenderer","enableDamping","dampingFactor","MIDDLE","RIGHT","listenToKeyEvents","zoom","cubeControl","onToggleCamera","resize","updateProjectionMatrix","onWheel","Object","defineProperty","get","getClearAlpha","setClearAlpha","onclick","onPick","goHome","getElementById","onGoHome","pivot","lines","arcs","animate","update","render","requestAnimationFrame","fontJSON","BoxGeometry","RingGeometry","FontLoader","TextGeometry","BoxCube","initItem","initText3D","front","back","initTextRing","left_front","left_back","right_front","right_back","top_left","top_right","top_front","top_back","bottom_left","bottom_right","bottom_front","bottom_back","top_left_front","top_left_back","top_right_front","top_right_back","bottom_left_front","bottom_left_back","bottom_right_front","bottom_right_back","initRing","x0","y0","z0","translate","rotateX","loader","fontLoader","load","font","parameters","size","hasRotate","meshCube","rotateRing","rotateY","rotateZ","speedTween","switchPick","camera0","controls0","rX","rY","rZ","boxCube","onHover","mouseOn","cast","intersects","newV","resetMaterial","setMainViewStyle","outline","setCubeViewStyle","config","zIndex","setViewCanvasStyle","setOverLayStyle","dom","createDomElementView3D","parentContainer","setGuiStyle","maxHeight","overflowY","ReactDOM","reportWebVitals","root","createRoot","createSlice","modelSlice","initialState","reducers","action","payload","actions","reducer","combineReducers","configureStore","persistStore","persistReducer","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","storage","modelReducer","appReducer","persistConfig","key","version","whitelist","rootReducer","persistedReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB"],"sourceRoot":""}